(self.webpackChunkport=self.webpackChunkport||[]).push([[179],{797:(be,C,te)=>{"use strict";function S(e){return"function"==typeof e}function j(e){const n=e(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const re=j(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ee(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class oe{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(S(i))try{i()}catch(s){t=s instanceof re?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{D(s)}catch(o){t=t??[],o instanceof re?t=[...t,...o.errors]:t.push(o)}}if(t)throw new re(t)}}add(t){var n;if(t&&t!==this)if(this.closed)D(t);else{if(t instanceof oe){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ee(n,t)}remove(t){const{_finalizers:n}=this;n&&ee(n,t),t instanceof oe&&t._removeParent(this)}}oe.EMPTY=(()=>{const e=new oe;return e.closed=!0,e})();const V=oe.EMPTY;function m(e){return e instanceof oe||e&&"closed"in e&&S(e.remove)&&S(e.add)&&S(e.unsubscribe)}function D(e){S(e)?e():e.unsubscribe()}const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},b={setTimeout(e,t,...n){const{delegate:i}=b;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=b;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function F(e){b.setTimeout(()=>{const{onUnhandledError:t}=p;if(!t)throw e;t(e)})}function y(){}const v=R("C",void 0,void 0);function R(e,t,n){return{kind:e,value:t,error:n}}let P=null;function E(e){if(p.useDeprecatedSynchronousErrorHandling){const t=!P;if(t&&(P={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:i}=P;if(P=null,n)throw i}}else e()}class g extends oe{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,m(t)&&t.add(this)):this.destination=N}static create(t,n,i){return new ne(t,n,i)}next(t){this.isStopped?pe(function O(e){return R("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?pe(function _(e){return R("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?pe(v,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const I=Function.prototype.bind;function z(e,t){return I.call(e,t)}class q{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){Q(i)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){Q(i)}else Q(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Q(n)}}}class ne extends g{constructor(t,n,i){let r;if(super(),S(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&p.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&z(t.next,s),error:t.error&&z(t.error,s),complete:t.complete&&z(t.complete,s)}):r=t}this.destination=new q(r)}}function Q(e){p.useDeprecatedSynchronousErrorHandling?function u(e){p.useDeprecatedSynchronousErrorHandling&&P&&(P.errorThrown=!0,P.error=e)}(e):F(e)}function pe(e,t){const{onStoppedNotification:n}=p;n&&b.setTimeout(()=>n(e,t))}const N={closed:!0,next:y,error:function me(e){throw e},complete:y},W="function"==typeof Symbol&&Symbol.observable||"@@observable";function Y(e){return e}function U(e){return 0===e.length?Y:1===e.length?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}let x=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){const s=function B(e){return e&&e instanceof g||function w(e){return e&&S(e.next)&&S(e.error)&&S(e.complete)}(e)&&m(e)}(n)?n:new ne(n,i,r);return E(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=f(i))((r,s)=>{const o=new ne({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[W](){return this}pipe(...n){return U(n)(this)}toPromise(n){return new(n=f(n))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return e.create=t=>new e(t),e})();function f(e){var t;return null!==(t=e??p.Promise)&&void 0!==t?t:Promise}const k=j(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let d=(()=>{class e extends x{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new M(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new k}next(n){E(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(n)}})}error(n){E(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){E(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:r,observers:s}=this;return i||r?V:(this.currentObservers=null,s.push(n),new oe(()=>{this.currentObservers=null,ee(s,n)}))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){const n=new x;return n.source=this,n}}return e.create=(t,n)=>new M(t,n),e})();class M extends d{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,t)}error(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==i?i:V}}function L(e){return S(e?.lift)}function $(e){return t=>{if(L(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function X(e,t,n,i,r){return new ie(e,t,n,i,r)}class ie extends g{constructor(t,n,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function J(e,t){return $((n,i)=>{let r=0;n.subscribe(X(i,s=>{i.next(e.call(t,s,r++))}))})}function ht(e){return this instanceof ht?(this.v=e,this):new ht(e)}function fs(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function rt(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=e[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Xn=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Yn(e){return S(e?.then)}function zt(e){return S(e[W])}function di(e){return Symbol.asyncIterator&&S(e?.[Symbol.asyncIterator])}function hi(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Bt=function ps(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Pr(e){return S(e?.[Bt])}function Rr(e){return function Fn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(G){i[G]&&(r[G]=function(K){return new Promise(function(se,le){s.push([G,K,se,le])>1||a(G,K)})})}function a(G,K){try{!function l(G){G.value instanceof ht?Promise.resolve(G.value.v).then(c,h):T(s[0][2],G)}(i[G](K))}catch(se){T(s[0][3],se)}}function c(G){a("next",G)}function h(G){a("throw",G)}function T(G,K){G(K),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:i,done:r}=yield ht(n.read());if(r)return yield ht(void 0);yield yield ht(i)}}finally{n.releaseLock()}})}function gs(e){return S(e?.getReader)}function Xt(e){if(e instanceof x)return e;if(null!=e){if(zt(e))return function kr(e){return new x(t=>{const n=e[W]();if(S(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Xn(e))return function _n(e){return new x(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Yn(e))return function Or(e){return new x(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,F)})}(e);if(di(e))return Vg(e);if(Pr(e))return function To(e){return new x(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(gs(e))return function TA(e){return Vg(Rr(e))}(e)}throw hi(e)}function Vg(e){return new x(t=>{(function IA(e,t){var n,i,r,s;return function Ve(e,t,n,i){return new(n||(n=Promise))(function(s,o){function a(h){try{c(i.next(h))}catch(T){o(T)}}function l(h){try{c(i.throw(h))}catch(T){o(T)}}function c(h){h.done?s(h.value):function r(s){return s instanceof n?s:new n(function(o){o(s)})}(h.value).then(a,l)}c((i=i.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=fs(e);!(i=yield n.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function $i(e,t,n,i=0,r=!1){const s=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(s),!r)return s}function Jt(e,t,n=1/0){return S(t)?Jt((i,r)=>J((s,o)=>t(i,s,r,o))(Xt(e(i,r))),n):("number"==typeof t&&(n=t),$((i,r)=>function PA(e,t,n,i,r,s,o,a){const l=[];let c=0,h=0,T=!1;const G=()=>{T&&!l.length&&!c&&t.complete()},K=le=>c<i?se(le):l.push(le),se=le=>{s&&t.next(le),c++;let we=!1;Xt(n(le,h++)).subscribe(X(t,Ae=>{r?.(Ae),s?K(Ae):t.next(Ae)},()=>{we=!0},void 0,()=>{if(we)try{for(c--;l.length&&c<i;){const Ae=l.shift();o?$i(t,o,()=>se(Ae)):se(Ae)}G()}catch(Ae){t.error(Ae)}}))};return e.subscribe(X(t,K,()=>{T=!0,G()})),()=>{a?.()}}(i,r,e,n)))}function ms(e=1/0){return Jt(Y,e)}const Ai=new x(e=>e.complete());function Ug(e){return e&&S(e.schedule)}function Gu(e){return e[e.length-1]}function Io(e){return Ug(Gu(e))?e.pop():void 0}function zg(e,t=0){return $((n,i)=>{n.subscribe(X(i,r=>$i(i,e,()=>i.next(r),t),()=>$i(i,e,()=>i.complete(),t),r=>$i(i,e,()=>i.error(r),t)))})}function $g(e,t=0){return $((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function Wg(e,t){if(!e)throw new Error("Iterable cannot be null");return new x(n=>{$i(n,t,()=>{const i=e[Symbol.asyncIterator]();$i(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function tn(e,t){return t?function jA(e,t){if(null!=e){if(zt(e))return function OA(e,t){return Xt(e).pipe($g(t),zg(t))}(e,t);if(Xn(e))return function NA(e,t){return new x(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}(e,t);if(Yn(e))return function FA(e,t){return Xt(e).pipe($g(t),zg(t))}(e,t);if(di(e))return Wg(e,t);if(Pr(e))return function LA(e,t){return new x(n=>{let i;return $i(n,t,()=>{i=e[Bt](),$i(n,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void n.error(o)}s?n.complete():n.next(r)},0,!0)}),()=>S(i?.return)&&i.return()})}(e,t);if(gs(e))return function BA(e,t){return Wg(Rr(e),t)}(e,t)}throw hi(e)}(e,t):Xt(e)}function Gg(...e){const t=Io(e),n=function kA(e,t){return"number"==typeof Gu(e)?e.pop():t}(e,1/0),i=e;return i.length?1===i.length?Xt(i[0]):ms(n)(tn(i,t)):Ai}class Kn extends d{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function He(...e){return tn(e,Io(e))}function qu(e={}){const{connector:t=(()=>new d),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return s=>{let o,a,l,c=0,h=!1,T=!1;const G=()=>{a?.unsubscribe(),a=void 0},K=()=>{G(),o=l=void 0,h=T=!1},se=()=>{const le=o;K(),le?.unsubscribe()};return $((le,we)=>{c++,!T&&!h&&G();const Ae=l=l??t();we.add(()=>{c--,0===c&&!T&&!h&&(a=Xu(se,r))}),Ae.subscribe(we),!o&&c>0&&(o=new ne({next:_e=>Ae.next(_e),error:_e=>{T=!0,G(),a=Xu(K,n,_e),Ae.error(_e)},complete:()=>{h=!0,G(),a=Xu(K,i),Ae.complete()}}),Xt(le).subscribe(o))})(s)}}function Xu(e,t,...n){if(!0===t)return void e();if(!1===t)return;const i=new ne({next:()=>{i.unsubscribe(),e()}});return Xt(t(...n)).subscribe(i)}function Di(e,t){return $((n,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();n.subscribe(X(i,l=>{r?.unsubscribe();let c=0;const h=s++;Xt(e(l,h)).subscribe(r=X(i,T=>i.next(t?t(l,T,h,c++):T),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function UA(e,t){return e===t}function wt(e){for(let t in e)if(e[t]===wt)return t;throw Error("Could not find renamed property on target object.")}function Yt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Yt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Yu(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const HA=wt({__forward_ref__:wt});function Ku(e){return e.__forward_ref__=Ku,e.toString=function(){return Yt(this())},e}function Ye(e){return Zu(e)?e():e}function Zu(e){return"function"==typeof e&&e.hasOwnProperty(HA)&&e.__forward_ref__===Ku}function Qu(e){return e&&!!e.\u0275providers}const qg="https://g.co/ng/security#xss";class Se extends Error{constructor(t,n){super(function fl(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Ke(e){return"string"==typeof e?e:null==e?"":String(e)}function Ju(e,t){throw new Se(-201,!1)}function Zn(e,t){null==e&&function qe(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function Fe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function jt(e){return{providers:e.providers||[],imports:e.imports||[]}}function pl(e){return Xg(e,ml)||Xg(e,Yg)}function Xg(e,t){return e.hasOwnProperty(t)?e[t]:null}function gl(e){return e&&(e.hasOwnProperty(ed)||e.hasOwnProperty(KA))?e[ed]:null}const ml=wt({\u0275prov:wt}),ed=wt({\u0275inj:wt}),Yg=wt({ngInjectableDef:wt}),KA=wt({ngInjectorDef:wt});var st=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(st||{});let td;function Mn(e){const t=td;return td=e,t}function Zg(e,t,n){const i=pl(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&st.Optional?null:void 0!==t?t:void Ju(Yt(e))}const xt=globalThis;class Pe{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Fe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Po={},od="__NG_DI_FLAG__",_l="ngTempTokenPath",JA=/\n/gm,Jg="__source";let _s;function lr(e){const t=_s;return _s=e,t}function nD(e,t=st.Default){if(void 0===_s)throw new Se(-203,!1);return null===_s?Zg(e,void 0,t):_s.get(e,t&st.Optional?null:void 0,t)}function xe(e,t=st.Default){return(function Kg(){return td}()||nD)(Ye(e),t)}function Le(e,t=st.Default){return xe(e,vl(t))}function vl(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ad(e){const t=[];for(let n=0;n<e.length;n++){const i=Ye(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Se(900,!1);let r,s=st.Default;for(let o=0;o<i.length;o++){const a=i[o],l=iD(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(xe(r,s))}else t.push(xe(i))}return t}function Ro(e,t){return e[od]=t,e.prototype[od]=t,e}function iD(e){return e[od]}function Wi(e){return{toString:e}.toString()}var bl=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(bl||{}),Qn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Qn||{});const xi={},ft=[],yl=wt({\u0275cmp:wt}),ld=wt({\u0275dir:wt}),cd=wt({\u0275pipe:wt}),tm=wt({\u0275mod:wt}),Gi=wt({\u0275fac:wt}),ko=wt({__NG_ELEMENT_ID__:wt}),nm=wt({__NG_ENV_ID__:wt});function im(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||e.charCodeAt(r+s)<=32)return r}n=r+1}}function ud(e,t,n){let i=0;for(;i<n.length;){const r=n[i];if("number"==typeof r){if(0!==r)break;i++;const s=n[i++],o=n[i++],a=n[i++];e.setAttribute(t,o,a,s)}else{const s=r,o=n[++i];sm(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),i++}}return i}function rm(e){return 3===e||4===e||6===e}function sm(e){return 64===e.charCodeAt(0)}function Oo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||om(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function om(e,t,n,i,r){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===i)return void(null!==r&&(e[s+1]=r));if(i===e[s+1])return void(e[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==i&&e.splice(s++,0,i),null!==r&&e.splice(s++,0,r)}const am="ng-template";function oD(e,t,n){let i=0,r=!0;for(;i<e.length;){let s=e[i++];if("string"==typeof s&&r){const o=e[i++];if(n&&"class"===s&&-1!==im(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;i<e.length&&"string"==typeof(s=e[i++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function lm(e){return 4===e.type&&e.value!==am}function aD(e,t,n){return t===(4!==e.type||n?e.value:am)}function lD(e,t,n){let i=4;const r=e.attrs||[],s=function dD(e){for(let t=0;t<e.length;t++)if(rm(e[t]))return t;return e.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!aD(e,l,n)||""===l&&1===t.length){if(fi(i))return!1;o=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==e.attrs){if(!oD(e.attrs,c,n)){if(fi(i))return!1;o=!0}continue}const T=cD(8&i?"class":l,r,lm(e),n);if(-1===T){if(fi(i))return!1;o=!0;continue}if(""!==c){let G;G=T>s?"":r[T+1].toLowerCase();const K=8&i?G:null;if(K&&-1!==im(K,c,0)||2&i&&c!==G){if(fi(i))return!1;o=!0}}}}else{if(!o&&!fi(i)&&!fi(l))return!1;if(o&&fi(l))continue;o=!1,i=l|1&i}}return fi(i)||o}function fi(e){return 0==(1&e)}function cD(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let s=!1;for(;r<t.length;){const o=t[r];if(o===e)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function hD(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function cm(e,t,n=!1){for(let i=0;i<t.length;i++)if(lD(e,t[i],n))return!0;return!1}function um(e,t){return e?":not("+t.trim()+")":t}function pD(e){let t=e[0],n=1,i=2,r="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&i){const a=e[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!fi(o)&&(t+=um(s,r),r=""),i=o,s=s||!fi(i);n++}return""!==r&&(t+=um(s,r)),t}function cr(e){return Wi(()=>{const t=hm(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===bl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Qn.Emulated,styles:e.styles||ft,_:null,schemas:e.schemas||null,tView:null,id:""};fm(n);const i=e.dependencies;return n.directiveDefs=wl(i,!1),n.pipeDefs=wl(i,!0),n.id=function ED(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const r of n)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function vD(e){return lt(e)||nn(e)}function bD(e){return null!==e}function $t(e){return Wi(()=>({type:e.type,bootstrap:e.bootstrap||ft,declarations:e.declarations||ft,imports:e.imports||ft,exports:e.exports||ft,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function dm(e,t){if(null==e)return xi;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,t&&(t[r]=s)}return n}function cn(e){return Wi(()=>{const t=hm(e);return fm(t),t})}function lt(e){return e[yl]||null}function nn(e){return e[ld]||null}function vn(e){return e[cd]||null}function Ln(e,t){const n=e[tm]||null;if(!n&&!0===t)throw new Error(`Type ${Yt(e)} does not have '\u0275mod' property.`);return n}function hm(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||xi,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||ft,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dm(e.inputs,t),outputs:dm(e.outputs)}}function fm(e){e.features?.forEach(t=>t(e))}function wl(e,t){if(!e)return null;const n=t?vn:vD;return()=>("function"==typeof e?e():e).map(i=>n(i)).filter(bD)}const Nt=0,ke=1,tt=2,Rt=3,pi=4,Fo=5,un=6,bs=7,Vt=8,ur=9,ys=10,Ze=11,No=12,pm=13,ws=14,Ut=15,Lo=16,Es=17,Mi=18,Bo=19,gm=20,dr=21,qi=22,jo=23,Vo=24,ot=25,dd=1,mm=2,Ti=7,Cs=9,rn=11;function In(e){return Array.isArray(e)&&"object"==typeof e[dd]}function bn(e){return Array.isArray(e)&&!0===e[dd]}function hd(e){return 0!=(4&e.flags)}function Nr(e){return e.componentOffset>-1}function Cl(e){return 1==(1&e.flags)}function gi(e){return!!e.template}function fd(e){return 0!=(512&e[tt])}function Lr(e,t){return e.hasOwnProperty(Gi)?e[Gi]:null}let sn=null,Sl=!1;function Jn(e){const t=sn;return sn=e,t}const bm={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function wm(e){if(!Ho(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Sm(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Cm(e){e.dirty=!0,function Em(e){if(void 0===e.liveConsumerNode)return;const t=Sl;Sl=!0;try{for(const n of e.liveConsumerNode)n.dirty||Cm(n)}finally{Sl=t}}(e),e.consumerMarkedDirty?.(e)}function gd(e){return e&&(e.nextProducerIndex=0),Jn(e)}function md(e,t){if(Jn(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ho(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Al(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Sm(e){Ss(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(wm(n),i!==n.version))return!0}return!1}function Am(e){if(Ss(e),Ho(e))for(let t=0;t<e.producerNode.length;t++)Al(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Al(e,t){if(function xm(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Ss(e),1===e.liveConsumerNode.length)for(let i=0;i<e.producerNode.length;i++)Al(e.producerNode[i],e.producerIndexOfThis[i]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];Ss(r),r.producerIndexOfThis[i]=t}}function Ho(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ss(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Mm=null;const Rm=()=>{},FD=(()=>({...bm,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Rm}))();class ND{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Br(){return km}function km(e){return e.type.prototype.ngOnChanges&&(e.setInput=BD),LD}function LD(){const e=Fm(this),t=e?.current;if(t){const n=e.previous;if(n===xi)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function BD(e,t,n,i){const r=this.declaredInputs[n],s=Fm(e)||function jD(e,t){return e[Om]=t}(e,{previous:xi,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new ND(l&&l.currentValue,t,a===xi),e[i]=t}Br.ngInherit=!0;const Om="__ngSimpleChanges__";function Fm(e){return e[Om]||null}const Ii=function(e,t,n){};function Mt(e){for(;Array.isArray(e);)e=e[Nt];return e}function Pn(e,t){return Mt(t[e.index])}function Bm(e,t){return e.data[t]}function Bn(e,t){const n=t[e];return In(n)?n:n[Nt]}function fr(e,t){return null==t?null:e[t]}function jm(e){e[Es]=0}function WD(e){1024&e[tt]||(e[tt]|=1024,Um(e,1))}function Vm(e){1024&e[tt]&&(e[tt]&=-1025,Um(e,-1))}function Um(e,t){let n=e[Rt];if(null===n)return;n[Fo]+=t;let i=n;for(n=n[Rt];null!==n&&(1===t&&1===i[Fo]||-1===t&&0===i[Fo]);)n[Fo]+=t,i=n,n=n[Rt]}const Xe={lFrame:Qm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $m(){return Xe.bindingsEnabled}function Me(){return Xe.lFrame.lView}function ct(){return Xe.lFrame.tView}function on(){let e=Wm();for(;null!==e&&64===e.type;)e=e.parent;return e}function Wm(){return Xe.lFrame.currentTNode}function Pi(e,t){const n=Xe.lFrame;n.currentTNode=e,n.isParent=t}function wd(){return Xe.lFrame.isParent}function xs(){return Xe.lFrame.bindingIndex++}function sx(e,t){const n=Xe.lFrame;n.bindingIndex=n.bindingRootIndex=e,Cd(t)}function Cd(e){Xe.lFrame.currentDirectiveIndex=e}function Ad(e){Xe.lFrame.currentQueryIndex=e}function ax(e){const t=e[ke];return 2===t.type?t.declTNode:1===t.type?e[un]:null}function Km(e,t,n){if(n&st.SkipSelf){let r=t,s=e;for(;!(r=r.parent,null!==r||n&st.Host||(r=ax(s),null===r||(s=s[ws],10&r.type))););if(null===r)return!1;t=r,e=s}const i=Xe.lFrame=Zm();return i.currentTNode=t,i.lView=e,!0}function Dd(e){const t=Zm(),n=e[ke];Xe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Zm(){const e=Xe.lFrame,t=null===e?null:e.child;return null===t?Qm(e):t}function Qm(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Jm(){const e=Xe.lFrame;return Xe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const e_=Jm;function xd(){const e=Jm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function wn(){return Xe.lFrame.selectedIndex}function jr(e){Xe.lFrame.selectedIndex=e}function Ot(){const e=Xe.lFrame;return Bm(e.tView,e.selectedIndex)}let r_=!0;function xl(){return r_}function pr(e){r_=e}function Ml(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:h}=s;o&&(e.contentHooks??=[]).push(-n,o),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),null!=h&&(e.destroyHooks??=[]).push(n,h)}}function Tl(e,t,n){s_(e,t,3,n)}function Il(e,t,n,i){(3&e[tt])===n&&s_(e,t,n,i)}function Md(e,t){let n=e[tt];(3&n)===t&&(n&=8191,n+=1,e[tt]=n)}function s_(e,t,n,i){const s=i??-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&e[Es]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(e[Es]+=65536),(a<s||-1==s)&&(fx(e,n,t,l),e[Es]=(4294901760&e[Es])+l+2),l++}function o_(e,t){Ii(4,e,t);const n=Jn(null);try{t.call(e)}finally{Jn(n),Ii(5,e,t)}}function fx(e,t,n,i){const r=n[i]<0,s=n[i+1],a=e[r?-n[i]:n[i]];r?e[tt]>>13<e[Es]>>16&&(3&e[tt])===t&&(e[tt]+=8192,o_(a,s)):o_(a,s)}const Ms=-1;class $o{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function Id(e){return e!==Ms}function Wo(e){return 32767&e}function Go(e,t){let n=function _x(e){return e>>16}(e),i=t;for(;n>0;)i=i[ws],n--;return i}let Pd=!0;function Pl(e){const t=Pd;return Pd=e,t}const a_=255,l_=5;let vx=0;const Ri={};function Rl(e,t){const n=c_(e,t);if(-1!==n)return n;const i=t[ke];i.firstCreatePass&&(e.injectorIndex=t.length,Rd(i.data,e),Rd(t,null),Rd(i.blueprint,null));const r=kl(e,t),s=e.injectorIndex;if(Id(r)){const o=Wo(r),a=Go(r,t),l=a[ke].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function Rd(e,t){e.push(0,0,0,0,0,0,0,0,t)}function c_(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function kl(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){if(i=__(r),null===i)return Ms;if(n++,r=r[ws],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return Ms}function kd(e,t,n){!function bx(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(ko)&&(i=n[ko]),null==i&&(i=n[ko]=vx++);const r=i&a_;t.data[e+(r>>l_)]|=1<<r}(e,t,n)}function u_(e,t,n){if(n&st.Optional||void 0!==e)return e;Ju()}function d_(e,t,n,i){if(n&st.Optional&&void 0===i&&(i=null),!(n&(st.Self|st.Host))){const r=e[ur],s=Mn(void 0);try{return r?r.get(t,i,n&st.Optional):Zg(t,i,n&st.Optional)}finally{Mn(s)}}return u_(i,0,n)}function h_(e,t,n,i=st.Default,r){if(null!==e){if(2048&t[tt]&&!(i&st.Self)){const o=function Ax(e,t,n,i,r){let s=e,o=t;for(;null!==s&&null!==o&&2048&o[tt]&&!(512&o[tt]);){const a=f_(s,o,n,i|st.Self,Ri);if(a!==Ri)return a;let l=s.parent;if(!l){const c=o[gm];if(c){const h=c.get(n,Ri,i);if(h!==Ri)return h}l=__(o),o=o[ws]}s=l}return r}(e,t,n,i,Ri);if(o!==Ri)return o}const s=f_(e,t,n,i,Ri);if(s!==Ri)return s}return d_(t,n,i,r)}function f_(e,t,n,i,r){const s=function Ex(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ko)?e[ko]:void 0;return"number"==typeof t?t>=0?t&a_:Sx:t}(n);if("function"==typeof s){if(!Km(t,e,i))return i&st.Host?u_(r,0,i):d_(t,n,i,r);try{let o;if(o=s(i),null!=o||i&st.Optional)return o;Ju()}finally{e_()}}else if("number"==typeof s){let o=null,a=c_(e,t),l=Ms,c=i&st.Host?t[Ut][un]:null;for((-1===a||i&st.SkipSelf)&&(l=-1===a?kl(e,t):t[a+8],l!==Ms&&g_(i,!1)?(o=t[ke],a=Wo(l),t=Go(l,t)):a=-1);-1!==a;){const h=t[ke];if(p_(s,a,h.data)){const T=wx(a,t,n,o,i,c);if(T!==Ri)return T}l=t[a+8],l!==Ms&&g_(i,t[ke].data[a+8]===c)&&p_(s,a,t)?(o=h,a=Wo(l),t=Go(l,t)):a=-1}}return r}function wx(e,t,n,i,r,s){const o=t[ke],a=o.data[e+8],h=function Ol(e,t,n,i,r){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,h=s>>20,G=r?a+h:e.directiveEnd;for(let K=i?a:a+h;K<G;K++){const se=o[K];if(K<l&&n===se||K>=l&&se.type===n)return K}if(r){const K=o[l];if(K&&gi(K)&&K.type===n)return l}return null}(a,o,n,null==i?Nr(a)&&Pd:i!=o&&0!=(3&a.type),r&st.Host&&s===a);return null!==h?Vr(t,o,h,a):Ri}function Vr(e,t,n,i){let r=e[n];const s=t.data;if(function px(e){return e instanceof $o}(r)){const o=r;o.resolving&&function zA(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Se(-200,`Circular dependency in DI detected for ${e}${n}`)}(function yt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ke(e)}(s[n]));const a=Pl(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Mn(o.injectImpl):null;Km(e,i,st.Default);try{r=e[n]=o.factory(void 0,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&function hx(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=km(t);(n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o)}r&&(n.preOrderHooks??=[]).push(0-e,r),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==c&&Mn(c),Pl(a),o.resolving=!1,e_()}}return r}function p_(e,t,n){return!!(n[t+(e>>l_)]&1<<e)}function g_(e,t){return!(e&st.Self||e&st.Host&&t)}class En{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return h_(this._tNode,this._lView,t,vl(i),n)}}function Sx(){return new En(on(),Me())}function Od(e){return Zu(e)?()=>{const t=Od(Ye(e));return t&&t()}:Lr(e)}function __(e){const t=e[ke],n=t.type;return 2===n?t.declTNode:1===n?e[un]:null}const Is="__parameters__";function Rs(e,t,n){return Wi(()=>{const i=function Fd(e){return function(...n){if(e){const i=e(...n);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,h){const T=l.hasOwnProperty(Is)?l[Is]:Object.defineProperty(l,Is,{value:[]})[Is];for(;T.length<=h;)T.push(null);return(T[h]=T[h]||[]).push(o),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}function Os(e,t){e.forEach(n=>Array.isArray(n)?Os(n,t):t(n))}function b_(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Nl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Ur=Ro(Rs("Optional"),8),Ko=Ro(Rs("SkipSelf"),4);function Hl(e){return 128==(128&e.flags)}var gr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(gr||{});const Ud=new Map;let nM=0;const zd="__ngContext__";function dn(e,t){In(t)?(e[zd]=t[Bo],function rM(e){Ud.set(e[Bo],e)}(t)):e[zd]=t}let $d;function Wd(e,t){return $d(e,t)}function Jo(e){const t=e[Rt];return bn(t)?t[Rt]:t}function V_(e){return H_(e[No])}function U_(e){return H_(e[pi])}function H_(e){for(;null!==e&&!bn(e);)e=e[pi];return e}function Bs(e,t,n,i,r){if(null!=i){let s,o=!1;bn(i)?s=i:In(i)&&(o=!0,i=i[Nt]);const a=Mt(i);0===e&&null!==n?null==r?G_(t,n,a):Hr(t,n,a,r||null,!0):1===e&&null!==n?Hr(t,n,a,r||null,!0):2===e?function Yl(e,t,n){const i=ql(e,t);i&&function CM(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function DM(e,t,n,i,r){const s=n[Ti];s!==Mt(n)&&Bs(t,e,i,s,r);for(let a=rn;a<n.length;a++){const l=n[a];ta(l[ke],l,e,t,i,s)}}(t,e,s,n,r)}}function Wl(e,t,n){return e.createElement(t,n)}function $_(e,t){const n=e[Cs],i=n.indexOf(t);Vm(t),n.splice(i,1)}function Gl(e,t){if(e.length<=rn)return;const n=rn+t,i=e[n];if(i){const r=i[Lo];null!==r&&r!==e&&$_(r,i),t>0&&(e[n-1][pi]=i[pi]);const s=Nl(e,rn+t);!function gM(e,t){ta(e,t,t[Ze],2,null,null),t[Nt]=null,t[un]=null}(i[ke],i);const o=s[Mi];null!==o&&o.detachView(s[ke]),i[Rt]=null,i[pi]=null,i[tt]&=-129}return i}function qd(e,t){if(!(256&t[tt])){const n=t[Ze];t[jo]&&Am(t[jo]),t[Vo]&&Am(t[Vo]),n.destroyNode&&ta(e,t,n,3,null,null),function vM(e){let t=e[No];if(!t)return Xd(e[ke],e);for(;t;){let n=null;if(In(t))n=t[No];else{const i=t[rn];i&&(n=i)}if(!n){for(;t&&!t[pi]&&t!==e;)In(t)&&Xd(t[ke],t),t=t[Rt];null===t&&(t=e),In(t)&&Xd(t[ke],t),n=t&&t[pi]}t=n}}(t)}}function Xd(e,t){if(!(256&t[tt])){t[tt]&=-129,t[tt]|=256,function EM(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const r=t[n[i]];if(!(r instanceof $o)){const s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];Ii(4,a,l);try{l.call(a)}finally{Ii(5,a,l)}}else{Ii(4,r,s);try{s.call(r)}finally{Ii(5,r,s)}}}}}(e,t),function wM(e,t){const n=e.cleanup,i=t[bs];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else n[s].call(i[n[s+1]]);null!==i&&(t[bs]=null);const r=t[dr];if(null!==r){t[dr]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(e,t),1===t[ke].type&&t[Ze].destroy();const n=t[Lo];if(null!==n&&bn(t[Rt])){n!==t[Rt]&&$_(n,t);const i=t[Mi];null!==i&&i.detachView(e)}!function sM(e){Ud.delete(e[Bo])}(t)}}function Yd(e,t,n){return function W_(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[Nt];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=e.data[i.directiveStart+r];if(s===Qn.None||s===Qn.Emulated)return null}return Pn(i,n)}}(e,t.parent,n)}function Hr(e,t,n,i,r){e.insertBefore(t,n,i,r)}function G_(e,t,n){e.appendChild(t,n)}function q_(e,t,n,i,r){null!==i?Hr(e,t,n,i,r):G_(e,t,n)}function ql(e,t){return e.parentNode(t)}let Kd,eh,Zl,K_=function Y_(e,t,n){return 40&e.type?Pn(e,n):null};function Xl(e,t,n,i){const r=Yd(e,i,t),s=t[Ze],a=function X_(e,t,n){return K_(e,t,n)}(i.parent||t[un],i,t);if(null!=r)if(Array.isArray(n))for(let l=0;l<n.length;l++)q_(s,r,n[l],a,!1);else q_(s,r,n,a,!1);void 0!==Kd&&Kd(s,i,t,n,r)}function ea(e,t){if(null!==t){const n=t.type;if(3&n)return Pn(t,e);if(4&n)return Zd(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return ea(e,i);{const r=e[t.index];return bn(r)?Zd(-1,r):Mt(r)}}if(32&n)return Wd(t,e)()||Mt(e[t.index]);{const i=Q_(e,t);return null!==i?Array.isArray(i)?i[0]:ea(Jo(e[Ut]),i):ea(e,t.next)}}return null}function Q_(e,t){return null!==t?e[Ut][un].projection[t.projection]:null}function Zd(e,t){const n=rn+e+1;if(n<t.length){const i=t[n],r=i[ke].firstChild;if(null!==r)return ea(i,r)}return t[Ti]}function Qd(e,t,n,i,r,s,o){for(;null!=n;){const a=i[n.index],l=n.type;if(o&&0===t&&(a&&dn(Mt(a),i),n.flags|=2),32!=(32&n.flags))if(8&l)Qd(e,t,n.child,i,r,s,!1),Bs(t,e,r,a,s);else if(32&l){const c=Wd(n,i);let h;for(;h=c();)Bs(t,e,r,h,s);Bs(t,e,r,a,s)}else 16&l?ev(e,t,i,n,r,s):Bs(t,e,r,a,s);n=o?n.projectionNext:n.next}}function ta(e,t,n,i,r,s){Qd(n,i,e.firstChild,t,r,s,!1)}function ev(e,t,n,i,r,s){const o=n[Ut],l=o[un].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Bs(t,e,r,l[c],s);else{let c=l;const h=o[Rt];Hl(i)&&(c.flags|=128),Qd(e,t,c,h,r,s,!0)}}function tv(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function nv(e,t,n){const{mergedAttrs:i,classes:r,styles:s}=n;null!==i&&ud(e,t,i),null!==r&&tv(e,t,r),null!==s&&function MM(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}function sv(e){return function th(){if(void 0===Zl&&(Zl=null,xt.trustedTypes))try{Zl=xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Zl}()?.createScriptURL(e)||e}class zr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qg})`}}function Vn(e){return e instanceof zr?e.changingThisBreaksApplicationSecurity:e}function ki(e,t){const n=function BM(e){return e instanceof zr&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${qg})`)}return n===t}const qM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var an=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(an||{});function fv(e){const t=ia();return t?t.sanitize(an.URL,e)||"":ki(e,"URL")?Vn(e):function Ql(e){return(e=String(e)).match(qM)?e:"unsafe:"+e}(Ke(e))}function pv(e){const t=ia();if(t)return sv(t.sanitize(an.RESOURCE_URL,e)||"");if(ki(e,"ResourceURL"))return sv(Vn(e));throw new Se(904,!1)}function ia(){const e=Me();return e&&e[ys].sanitizer}const ra=new Pe("ENVIRONMENT_INITIALIZER"),mv=new Pe("INJECTOR",-1),_v=new Pe("INJECTOR_DEF_TYPES");class sh{get(t,n=Po){if(n===Po){const i=new Error(`NullInjectorError: No provider for ${Yt(t)}!`);throw i.name="NullInjectorError",i}return n}}function sT(...e){return{\u0275providers:bv(0,e),\u0275fromNgModule:!0}}function bv(e,...t){const n=[],i=new Set;let r;const s=o=>{n.push(o)};return Os(t,o=>{const a=o;ec(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&yv(r,s),n}function yv(e,t){for(let n=0;n<e.length;n++){const{ngModule:i,providers:r}=e[n];oh(r,s=>{t(s,i)})}}function ec(e,t,n,i){if(!(e=Ye(e)))return!1;let r=null,s=gl(e);const o=!s&&lt(e);if(s||o){if(o&&!o.standalone)return!1;r=e}else{const l=e.ngModule;if(s=gl(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)ec(c,t,n,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{Os(s.imports,h=>{ec(h,t,n,i)&&(c||=[],c.push(h))})}finally{}void 0!==c&&yv(c,t)}if(!a){const c=Lr(r)||(()=>new r);t({provide:r,useFactory:c,deps:ft},r),t({provide:_v,useValue:r,multi:!0},r),t({provide:ra,useValue:()=>xe(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const c=e;oh(l,h=>{t(h,c)})}}}return r!==e&&void 0!==e.providers}function oh(e,t){for(let n of e)Qu(n)&&(n=n.\u0275providers),Array.isArray(n)?oh(n,t):t(n)}const oT=wt({provide:String,useValue:wt});function ah(e){return null!==e&&"object"==typeof e&&oT in e}function $r(e){return"function"==typeof e}const lh=new Pe("Set Injector scope."),tc={},lT={};let ch;function nc(){return void 0===ch&&(ch=new sh),ch}class ti{}class Us extends ti{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dh(t,o=>this.processProvider(o)),this.records.set(mv,Hs(void 0,this)),r.has("environment")&&this.records.set(ti,Hs(void 0,this));const s=this.records.get(lh);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(_v.multi,ft,st.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=lr(this),i=Mn(void 0);try{return t()}finally{lr(n),Mn(i)}}get(t,n=Po,i=st.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(nm))return t[nm](this);i=vl(i);const s=lr(this),o=Mn(void 0);try{if(!(i&st.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function fT(e){return"function"==typeof e||"object"==typeof e&&e instanceof Pe}(t)&&pl(t);l=c&&this.injectableDefInScope(c)?Hs(uh(t),tc):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&st.Self?nc():this.parent).get(t,n=i&st.Optional&&n===Po?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[_l]=a[_l]||[]).unshift(Yt(t)),s)throw a;return function rD(e,t,n,i){const r=e[_l];throw t[Jg]&&r.unshift(t[Jg]),e.message=function sD(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=Yt(t);if(Array.isArray(t))r=t.map(Yt).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Yt(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(JA,"\n  ")}`}("\n"+e.message,r,n,i),e.ngTokenPath=r,e[_l]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Mn(o),lr(s)}}resolveInjectorInitializers(){const t=lr(this),n=Mn(void 0);try{const r=this.get(ra.multi,ft,st.Self);for(const s of r)s()}finally{lr(t),Mn(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(Yt(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(t){let n=$r(t=Ye(t))?t:Ye(t&&t.provide);const i=function uT(e){return ah(e)?Hs(void 0,e.useValue):Hs(function Cv(e,t,n){let i;if($r(e)){const r=Ye(e);return Lr(r)||uh(r)}if(ah(e))i=()=>Ye(e.useValue);else if(function Ev(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...ad(e.deps||[]));else if(function wv(e){return!(!e||!e.useExisting)}(e))i=()=>xe(Ye(e.useExisting));else{const r=Ye(e&&(e.useClass||e.provide));if(!function dT(e){return!!e.deps}(e))return Lr(r)||uh(r);i=()=>new r(...ad(e.deps))}return i}(e),tc)}(t);if($r(t)||!0!==t.multi)this.records.get(n);else{let r=this.records.get(n);r||(r=Hs(void 0,tc,!0),r.factory=()=>ad(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===tc&&(n.value=lT,n.value=n.factory()),"object"==typeof n.value&&n.value&&function hT(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Ye(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function uh(e){const t=pl(e),n=null!==t?t.factory:Lr(e);if(null!==n)return n;if(e instanceof Pe)throw new Se(204,!1);if(e instanceof Function)return function cT(e){const t=e.length;if(t>0)throw function Yo(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}(t,"?"),new Se(204,!1);const n=function YA(e){return e&&(e[ml]||e[Yg])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Se(204,!1)}function Hs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function dh(e,t){for(const n of e)Array.isArray(n)?dh(n,t):n&&Qu(n)?dh(n.\u0275providers,t):t(n)}const ic=new Pe("AppId",{providedIn:"root",factory:()=>pT}),pT="ng",Sv=new Pe("Platform Initializer"),Wr=new Pe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hh=new Pe("AnimationModuleType"),fh=new Pe("CSP nonce",{providedIn:"root",factory:()=>function Vs(){if(void 0!==eh)return eh;if(typeof document<"u")return document;throw new Se(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Av=(e,t,n)=>null;function wh(e,t,n=!1){return Av(e,t,n)}class ST{}class Mv{}class DT{resolveComponentFactory(t){throw function AT(e){const t=Error(`No component factory found for ${Yt(e)}.`);return t.ngComponent=e,t}(t)}}let aa=(()=>{class e{static#e=this.NULL=new DT}return e})();function xT(){return Ws(on(),Me())}function Ws(e,t){return new ni(Pn(e,t))}let ni=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=xT}return e})();class la{}let ca=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function TT(){const e=Me(),n=Bn(on().index,e);return(In(n)?n:e)[Ze]}()}return e})(),IT=(()=>{class e{static#e=this.\u0275prov=Fe({token:e,providedIn:"root",factory:()=>null})}return e})();class Gs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const PT=new Gs("16.2.12"),Sh={};function kv(e,t=null,n=null,i){const r=Ov(e,t,n,i);return r.resolveInjectorInitializers(),r}function Ov(e,t=null,n=null,i,r=new Set){const s=[n||ft,sT(e)];return i=i||("object"==typeof e?void 0:Yt(e)),new Us(s,t||nc(),i||null,r)}let Cn=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Po;static#t=this.NULL=new sh;static create(n,i){if(Array.isArray(n))return kv({name:""},i,n,"");{const r=n.name??"";return kv({name:r},n.parent,n.providers,r)}}static#n=this.\u0275prov=Fe({token:e,providedIn:"any",factory:()=>xe(mv)});static#i=this.__NG_ELEMENT_ID__=-1}return e})();function Dh(e){return e.ngOriginalError}class mi{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Dh(t);for(;n&&Dh(n);)n=Dh(n);return n||null}}function Mh(e){return t=>{setTimeout(e,void 0,t)}}const hn=class BT extends d{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){let r=t,s=n||(()=>null),o=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Mh(s),r&&(r=Mh(r)),o&&(o=Mh(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof oe&&t.add(a),a}};function Nv(...e){}class at{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hn(!1),this.onMicrotaskEmpty=new hn(!1),this.onStable=new hn(!1),this.onError=new hn(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function jT(){const e="function"==typeof xt.requestAnimationFrame;let t=xt[e?"requestAnimationFrame":"setTimeout"],n=xt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function HT(e){const t=()=>{!function UT(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(xt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Ih(e),e.isCheckStableRunning=!0,Th(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Ih(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{if(function $T(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(r,s,o,a);try{return Lv(e),n.invokeTask(r,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),Bv(e)}},onInvoke:(n,i,r,s,o,a,l)=>{try{return Lv(e),n.invoke(r,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),Bv(e)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Ih(e),Th(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!at.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(at.isInAngularZone())throw new Se(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,VT,Nv,Nv);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const VT={};function Th(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ih(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Lv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Bv(e){e._nesting--,Th(e)}class zT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hn,this.onMicrotaskEmpty=new hn,this.onStable=new hn,this.onError=new hn}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}}const jv=new Pe("",{providedIn:"root",factory:Vv});function Vv(){const e=Le(at);let t=!0;return Gg(new x(r=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{r.next(t),r.complete()})}),new x(r=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{at.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const o=e.onUnstable.subscribe(()=>{at.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(qu()))}function Uv(e){return e.ownerDocument.defaultView}function Zi(e){return e instanceof Function?e():e}let Ph=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Fe({token:e,providedIn:"root",factory:()=>new e})}return e})();function ua(e){for(;e;){e[tt]|=64;const t=Jo(e);if(fd(e)&&!t)return e;e=t}return null}const Gv=new Pe("",{providedIn:"root",factory:()=>!1});let uc=null;function Kv(e,t){return e[t]??Jv()}function Zv(e,t){const n=Jv();n.producerNode?.length&&(e[t]=uc,n.lView=e,uc=Qv())}const JT={...bm,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ua(e.lView)},lView:null};function Qv(){return Object.create(JT)}function Jv(){return uc??=Qv(),uc}const Je={};function Gr(e){eb(ct(),Me(),wn()+e,!1)}function eb(e,t,n,i){if(!i)if(3==(3&t[tt])){const s=e.preOrderCheckHooks;null!==s&&Tl(t,s,n)}else{const s=e.preOrderHooks;null!==s&&Il(t,s,0,n)}jr(n)}function $e(e,t=st.Default){const n=Me();return null===n?xe(e,t):h_(on(),n,Ye(e),t)}function dc(e,t,n,i,r,s,o,a,l,c,h){const T=t.blueprint.slice();return T[Nt]=r,T[tt]=140|i,(null!==c||e&&2048&e[tt])&&(T[tt]|=2048),jm(T),T[Rt]=T[ws]=e,T[Vt]=n,T[ys]=o||e&&e[ys],T[Ze]=a||e&&e[Ze],T[ur]=l||e&&e[ur]||null,T[un]=s,T[Bo]=function iM(){return nM++}(),T[qi]=h,T[gm]=c,T[Ut]=2==t.type?e[Ut]:T,T}function Ys(e,t,n,i,r){let s=e.data[t];if(null===s)s=function Rh(e,t,n,i,r){const s=Wm(),o=wd(),l=e.data[t]=function aI(e,t,n,i,r,s){let o=t?t.injectorIndex:-1,a=0;return function Ds(){return null!==Xe.skipHydrationRootTNode}()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,t,n,i,r),function rx(){return Xe.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const o=function zo(){const e=Xe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Pi(s,!0),s}function da(e,t,n,i){if(0===n)return-1;const r=t.length;for(let s=0;s<n;s++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function nb(e,t,n,i,r){const s=Kv(t,jo),o=wn(),a=2&i;try{jr(-1),a&&t.length>ot&&eb(e,t,ot,!1),Ii(a?2:0,r);const c=a?s:null,h=gd(c);try{null!==c&&(c.dirty=!1),n(i,r)}finally{md(c,h)}}finally{a&&null===t[jo]&&Zv(t,jo),jr(o),Ii(a?3:1,r)}}function kh(e,t,n){if(hd(t)){const i=Jn(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=e.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Jn(i)}}}function ib(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Nh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Nh(e,t,n,i,r,s,o,a,l,c,h){const T=ot+i,G=T+r,K=function tI(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:Je);return n}(T,G),se="function"==typeof c?c():c;return K[ke]={type:e,blueprint:K,template:n,queries:null,viewQuery:a,declTNode:t,data:K.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:G,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:se,incompleteFirstPass:!1,ssrId:h}}let rb=e=>null;function sb(e,t,n,i){for(let r in e)if(e.hasOwnProperty(r)){n=null===n?{}:n;const s=e[r];null===i?ob(n,t,r,s):i.hasOwnProperty(r)&&ob(n,t,i[r],s)}return n}function ob(e,t,n,i){e.hasOwnProperty(n)?e[n].push(t,i):e[n]=[t,i]}function ab(e,t,n,i,r,s){for(let c=0;c<i.length;c++)kd(Rl(n,t),e,i[c].type);!function bI(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,i.length);for(let c=0;c<i.length;c++){const h=i[c];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,l=da(e,t,i.length,null);for(let c=0;c<i.length;c++){const h=i[c];n.mergedAttrs=Oo(n.mergedAttrs,h.hostAttrs),yI(e,n,t,l,h),vI(l,h,r),null!==h.contentQueries&&(n.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(n.flags|=64);const T=h.type.prototype;!o&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),o=!0),!a&&(T.ngOnChanges||T.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function lI(e,t,n){const r=t.directiveEnd,s=e.data,o=t.attrs,a=[];let l=null,c=null;for(let h=t.directiveStart;h<r;h++){const T=s[h],G=n?n.get(T):null,se=G?G.outputs:null;l=sb(T.inputs,h,l,G?G.inputs:null),c=sb(T.outputs,h,c,se);const le=null===l||null===o||lm(t)?null:CI(l,h,o);a.push(le)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,n,s)}function lb(e,t,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,o=function ox(){return Xe.lFrame.currentDirectiveIndex}();try{jr(s);for(let a=i;a<r;a++){const l=e.data[a],c=t[a];Cd(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&gI(l,c)}}finally{jr(-1),Cd(o)}}function gI(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Bh(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function vI(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;gi(t)&&(n[""]=e)}}function yI(e,t,n,i,r){e.data[i]=r;const s=r.factory||(r.factory=Lr(r.type)),o=new $o(s,gi(r),$e);e.blueprint[i]=o,n[i]=o,function hI(e,t,n,i,r){const s=r.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~t.index;(function fI(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,i,s)}}(e,t,i,da(e,n,r.hostVars,Je),r)}function Oi(e,t,n,i,r,s){const o=Pn(e,t);!function jh(e,t,n,i,r,s,o){if(null==s)e.removeAttribute(t,r,n);else{const a=null==o?Ke(s):o(s,i||"",r);e.setAttribute(t,r,a,n)}}(t[Ze],o,s,e.value,n,i,r)}function EI(e,t,n,i,r,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)cb(i,n,o[a++],o[a++],o[a++])}function cb(e,t,n,i,r){const s=Jn(null);try{const o=e.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(t,r)),null!==e.setInput?e.setInput(t,r,n,i):t[i]=r}finally{Jn(s)}}function CI(e,t,n){let i=null,r=0;for(;r<n.length;){const s=n[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===i&&(i=[]);const o=e[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){i.push(s,o[a+1],n[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function db(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const o=e.data[s];Ad(n[i]),o.contentQueries(2,t[s],s)}}}function hc(e,t){return e[No]?e[pm][pi]=t:e[No]=t,e[pm]=t,t}function Vh(e,t,n){Ad(0);const i=Jn(null);try{t(e,n)}finally{Jn(i)}}function gb(e,t){const n=e[ur],i=n?n.get(mi,null):null;i&&i.handleError(t)}function Uh(e,t,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];cb(e.data[o],t[o],i,a,r)}}function SI(e,t){const n=Bn(t,e),i=n[ke];!function AI(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n);const r=n[Nt];null!==r&&null===n[qi]&&(n[qi]=wh(r,n[ur])),Hh(i,n,n[Vt])}function Hh(e,t,n){Dd(t);try{const i=e.viewQuery;null!==i&&Vh(1,i,n);const r=e.template;null!==r&&nb(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&db(e,t),e.staticViewQueries&&Vh(2,e.viewQuery,n);const s=e.components;null!==s&&function DI(e,t){for(let n=0;n<t.length;n++)SI(e,t[n])}(t,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[tt]&=-5,xd()}}let mb=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,i,r){const s=typeof Zone>"u"?null:Zone.current,o=function OD(e,t,n){const i=Object.create(FD);n&&(i.consumerAllowSignalWrites=!0),i.fn=e,i.schedule=t;const r=o=>{i.cleanupFn=o};return i.ref={notify:()=>Cm(i),run:()=>{if(i.dirty=!1,i.hasRun&&!Sm(i))return;i.hasRun=!0;const o=gd(i);try{i.cleanupFn(),i.cleanupFn=Rm,i.fn(r)}finally{md(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},r);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,i]of this.queue)this.queue.delete(n),i?i.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Fe({token:e,providedIn:"root",factory:()=>new e})}return e})();function fc(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=Yu(r,a):2==s&&(i=Yu(i,a+": "+t[++o]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function ha(e,t,n,i,r=!1){for(;null!==n;){const s=t[n.index];null!==s&&i.push(Mt(s)),bn(s)&&_b(s,i);const o=n.type;if(8&o)ha(e,t,n.child,i);else if(32&o){const a=Wd(n,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=Q_(t,n);if(Array.isArray(a))i.push(...a);else{const l=Jo(t[Ut]);ha(l[ke],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function _b(e,t){for(let n=rn;n<e.length;n++){const i=e[n],r=i[ke].firstChild;null!==r&&ha(i[ke],i,r,t)}e[Ti]!==e[Nt]&&t.push(e[Ti])}function pc(e,t,n,i=!0){const r=t[ys],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{vb(e,t,e.template,n)}catch(l){throw i&&gb(t,l),l}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function vb(e,t,n,i){const r=t[tt];if(256!=(256&r)){t[ys].effectManager?.flush(),Dd(t);try{jm(t),function qm(e){return Xe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&nb(e,t,n,2,i);const o=3==(3&r);if(o){const c=e.preOrderCheckHooks;null!==c&&Tl(t,c,null)}else{const c=e.preOrderHooks;null!==c&&Il(t,c,0,null),Md(t,0)}if(function TI(e){for(let t=V_(e);null!==t;t=U_(t)){if(!t[mm])continue;const n=t[Cs];for(let i=0;i<n.length;i++){WD(n[i])}}}(t),bb(t,2),null!==e.contentQueries&&db(e,t),o){const c=e.contentCheckHooks;null!==c&&Tl(t,c)}else{const c=e.contentHooks;null!==c&&Il(t,c,1),Md(t,1)}!function eI(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const i=Kv(t,Vo);try{for(let r=0;r<n.length;r++){const s=n[r];if(s<0)jr(~s);else{const o=s,a=n[++r],l=n[++r];sx(a,o),i.dirty=!1;const c=gd(i);try{l(2,t[o])}finally{md(i,c)}}}}finally{null===t[Vo]&&Zv(t,Vo),jr(-1)}}(e,t);const a=e.components;null!==a&&wb(t,a,0);const l=e.viewQuery;if(null!==l&&Vh(2,l,i),o){const c=e.viewCheckHooks;null!==c&&Tl(t,c)}else{const c=e.viewHooks;null!==c&&Il(t,c,2),Md(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[tt]&=-73,Vm(t)}finally{xd()}}}function bb(e,t){for(let n=V_(e);null!==n;n=U_(n))for(let i=rn;i<n.length;i++)yb(n[i],t)}function II(e,t,n){yb(Bn(t,e),n)}function yb(e,t){if(!function zD(e){return 128==(128&e[tt])}(e))return;const n=e[ke],i=e[tt];if(80&i&&0===t||1024&i||2===t)vb(n,e,n.template,e[Vt]);else if(e[Fo]>0){bb(e,1);const r=n.components;null!==r&&wb(e,r,1)}}function wb(e,t,n){for(let i=0;i<t.length;i++)II(e,t[i],n)}class fa{get rootNodes(){const t=this._lView,n=t[ke];return ha(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vt]}set context(t){this._lView[Vt]=t}get destroyed(){return 256==(256&this._lView[tt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Rt];if(bn(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(Gl(t,i),Nl(n,i))}this._attachedToViewContainer=!1}qd(this._lView[ke],this._lView)}onDestroy(t){!function Hm(e,t){if(256==(256&e[tt]))throw new Se(911,!1);null===e[dr]&&(e[dr]=[]),e[dr].push(t)}(this._lView,t)}markForCheck(){ua(this._cdRefInjectingView||this._lView)}detach(){this._lView[tt]&=-129}reattach(){this._lView[tt]|=128}detectChanges(){pc(this._lView[ke],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _M(e,t){ta(e,t,t[Ze],2,null,null)}(this._lView[ke],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=t}}class PI extends fa{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;pc(t[ke],t,t[Vt],!1)}checkNoChanges(){}get context(){return null}}class Eb extends aa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=lt(t);return new pa(n,this.ngModule)}}function Cb(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class kI{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=vl(i);const r=this.injector.get(t,Sh,i);return r!==Sh||n===Sh?r:this.parentInjector.get(t,n,i)}}class pa extends Mv{get inputs(){const t=this.componentDef,n=t.inputTransforms,i=Cb(t.inputs);if(null!==n)for(const r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return Cb(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function gD(e){return e.map(pD).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let s=(r=r||this.ngModule)instanceof ti?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new kI(t,s):t,a=o.get(la,null);if(null===a)throw new Se(407,!1);const T={rendererFactory:a,sanitizer:o.get(IT,null),effectManager:o.get(mb,null),afterRenderEventManager:o.get(Ph,null)},G=a.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",se=i?function nI(e,t,n,i){const s=i.get(Gv,!1)||n===Qn.ShadowDom,o=e.selectRootElement(t,s);return function iI(e){rb(e)}(o),o}(G,i,this.componentDef.encapsulation,o):Wl(G,K,function RI(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(K)),Ae=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _e=null;null!==se&&(_e=wh(se,o,!0));const Oe=Nh(0,null,null,1,0,null,null,null,null,null,null),Be=dc(null,Oe,null,Ae,null,null,T,G,o,null,_e);let Qe,St;Dd(Be);try{const Pt=this.componentDef;let ln,Gn=null;Pt.findHostDirectiveDefs?(ln=[],Gn=new Map,Pt.findHostDirectiveDefs(Pt,ln,Gn),ln.push(Pt)):ln=[Pt];const Si=function FI(e,t){const n=e[ke],i=ot;return e[i]=t,Ys(n,i,2,"#host",null)}(Be,se),$u=function NI(e,t,n,i,r,s,o){const a=r[ke];!function LI(e,t,n,i){for(const r of e)t.mergedAttrs=Oo(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(fc(t,t.mergedAttrs,!0),null!==n&&nv(i,n,t))}(i,e,t,o);let l=null;null!==t&&(l=wh(t,r[ur]));const c=s.rendererFactory.createRenderer(t,n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const T=dc(r,ib(n),null,h,r[e.index],e,s,c,null,null,l);return a.firstCreatePass&&Bh(a,e,i.length-1),hc(r,T),r[e.index]=T}(Si,se,Pt,ln,Be,T,G);St=Bm(Oe,ot),se&&function jI(e,t,n,i){if(i)ud(e,n,["ng-version",PT.full]);else{const{attrs:r,classes:s}=function mD(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let s=e[i];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++i]):8===r&&n.push(s);else{if(!fi(r))break;r=s}i++}return{attrs:t,classes:n}}(t.selectors[0]);r&&ud(e,n,r),s&&s.length>0&&tv(e,n,s.join(" "))}}(G,Pt,se,i),void 0!==n&&function VI(e,t,n){const i=e.projection=[];for(let r=0;r<t.length;r++){const s=n[r];i.push(null!=s?Array.from(s):null)}}(St,this.ngContentSelectors,n),Qe=function BI(e,t,n,i,r,s){const o=on(),a=r[ke],l=Pn(o,r);ab(a,r,o,n,null,i);for(let h=0;h<n.length;h++)dn(Vr(r,a,o.directiveStart+h,o),r);lb(a,r,o),l&&dn(l,r);const c=Vr(r,a,o.directiveStart+o.componentOffset,o);if(e[Vt]=r[Vt]=c,null!==s)for(const h of s)h(c,t);return kh(a,o,e),c}($u,Pt,ln,Gn,Be,[UI]),Hh(Oe,Be,null)}finally{xd()}return new OI(this.componentType,Qe,Ws(St,Be),Be,St)}}class OI extends ST{constructor(t,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new PI(r),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;Uh(s[ke],s,r,t,n),this.previousInputValues.set(t,n),ua(Bn(this._tNode.index,s))}}get injector(){return new En(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function UI(){const e=on();Ml(Me()[ke],e)}function Tb(e){const t=e.inputConfig,n={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(n[i]=r[2])}e.inputTransforms=n}function fn(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function $h(e,t,n,i){const r=Me();return fn(r,xs(),t)&&(ct(),Oi(Ot(),r,e,t,n,i)),$h}function mr(e,t,n){const i=Me();return fn(i,xs(),t)&&function Un(e,t,n,i,r,s,o,a){const l=Pn(t,n);let h,c=t.inputs;!a&&null!=c&&(h=c[i])?(Uh(e,n,h,i,r),Nr(t)&&function uI(e,t){const n=Bn(t,e);16&n[tt]||(n[tt]|=64)}(n,t.index)):3&t.type&&(i=function cI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(l,i,r))}(ct(),Ot(),i,e,t,i[Ze],n,!1),mr}function Kh(e,t,n,i,r){const o=r?"class":"style";Uh(e,n,t.inputs[o],o,i)}function nt(e,t,n,i){const r=Me(),s=ct(),o=ot+e,a=r[Ze],l=s.firstCreatePass?function EP(e,t,n,i,r,s){const o=t.consts,l=Ys(t,e,2,i,fr(o,r));return function Lh(e,t,n,i){if($m()){const r=null===i?null:{"":-1},s=function mI(e,t){const n=e.directiveRegistry;let i=null,r=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(cm(t,o.selectors,!1))if(i||(i=[]),gi(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),Bh(e,t,a.length)}else i.unshift(o),Bh(e,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(e,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&ab(e,t,n,o,r,a),r&&function _I(e,t,n){if(t){const i=e.localNames=[];for(let r=0;r<t.length;r+=2){const s=n[t[r+1]];if(null==s)throw new Se(-301,!1);i.push(t[r],s)}}}(n,i,r)}n.mergedAttrs=Oo(n.mergedAttrs,n.attrs)}(t,n,l,fr(o,s)),null!==l.attrs&&fc(l,l.attrs,!1),null!==l.mergedAttrs&&fc(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,r,t,n,i):s.data[o],c=$b(s,r,l,a,t,e);r[o]=c;const h=Cl(l);return Pi(l,!0),nv(a,c,l),32!=(32&l.flags)&&xl()&&Xl(s,r,c,l),0===function qD(){return Xe.lFrame.elementDepthCount}()&&dn(c,r),function XD(){Xe.lFrame.elementDepthCount++}(),h&&(function Oh(e,t,n){$m()&&(function pI(e,t,n,i){const r=n.directiveStart,s=n.directiveEnd;Nr(n)&&function wI(e,t,n){const i=Pn(t,e),r=ib(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=hc(e,dc(e,r,null,o,i,t,null,e[ys].rendererFactory.createRenderer(i,n),null,null,null));e[t.index]=a}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Rl(n,t),dn(i,t);const o=n.initialInputs;for(let a=r;a<s;a++){const l=e.data[a],c=Vr(t,e,a,n);dn(c,t),null!==o&&EI(0,a-r,c,l,0,o),gi(l)&&(Bn(n.index,t)[Vt]=Vr(t,e,a,n))}}(e,t,n,Pn(n,t)),64==(64&n.flags)&&lb(e,t,n))}(s,r,l),kh(s,l,r)),null!==i&&function Fh(e,t,n=Pn){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(t,e):e[o];e[r++]=a}}}(r,l),nt}function pt(){let e=on();wd()?function Ed(){Xe.lFrame.isParent=!1}():(e=e.parent,Pi(e,!1));const t=e;(function KD(e){return Xe.skipHydrationRootTNode===e})(t)&&function ex(){Xe.skipHydrationRootTNode=null}(),function YD(){Xe.lFrame.elementDepthCount--}();const n=ct();return n.firstCreatePass&&(Ml(n,e),hd(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function gx(e){return 0!=(8&e.flags)}(t)&&Kh(n,t,Me(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function mx(e){return 0!=(16&e.flags)}(t)&&Kh(n,t,Me(),t.stylesWithoutHost,!1),pt}function pn(e,t,n,i){return nt(e,t,n,i),pt(),pn}let $b=(e,t,n,i,r,s)=>(pr(!0),Wl(i,r,function i_(){return Xe.lFrame.currentNamespace}()));function wc(e){return!!e&&"function"==typeof e.then}function qb(e){return!!e&&"function"==typeof e.subscribe}function Ec(e,t,n,i){const r=Me(),s=ct(),o=on();return function Yb(e,t,n,i,r,s,o){const a=Cl(i),c=e.firstCreatePass&&function fb(e){return e.cleanup||(e.cleanup=[])}(e),h=t[Vt],T=function hb(e){return e[bs]||(e[bs]=[])}(t);let G=!0;if(3&i.type||o){const le=Pn(i,t),we=o?o(le):le,Ae=T.length,_e=o?Be=>o(Mt(Be[i.index])):i.index;let Oe=null;if(!o&&a&&(Oe=function TP(e,t,n,i){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===n&&r[s+1]===i){const a=t[bs],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,t,r,i.index)),null!==Oe)(Oe.__ngLastListenerFn__||Oe).__ngNextListenerFn__=s,Oe.__ngLastListenerFn__=s,G=!1;else{s=Zb(i,t,h,s,!1);const Be=n.listen(we,r,s);T.push(s,Be),c&&c.push(r,_e,Ae,Ae+1)}}else s=Zb(i,t,h,s,!1);const K=i.outputs;let se;if(G&&null!==K&&(se=K[r])){const le=se.length;if(le)for(let we=0;we<le;we+=2){const Qe=t[se[we]][se[we+1]].subscribe(s),St=T.length;T.push(s,Qe),c&&c.push(r,i.index,St,-(St+1))}}}(s,r,r[Ze],o,e,t,i),Ec}function Kb(e,t,n,i){try{return Ii(6,t,n),!1!==n(i)}catch(r){return gb(e,r),!1}finally{Ii(7,t,n)}}function Zb(e,t,n,i,r){return function s(o){if(o===Function)return i;ua(e.componentOffset>-1?Bn(e.index,t):t);let l=Kb(t,n,i,o),c=s.__ngNextListenerFn__;for(;c;)l=Kb(t,n,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function gt(e,t=""){const n=Me(),i=ct(),r=e+ot,s=i.firstCreatePass?Ys(i,r,1,t,null):i.data[r],o=Ey(i,n,s,t,e);n[r]=o,xl()&&Xl(i,n,o,s),Pi(s,!1)}let Ey=(e,t,n,i,r)=>(pr(!0),function $l(e,t){return e.createText(t)}(t[Ze],i));const ao="en-US";let Wy=ao;class Kr{}class v0{}class ff extends Kr{constructor(t,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Eb(this);const r=Ln(t);this._bootstrapComponents=Zi(r.bootstrap),this._r3Injector=Ov(t,n,[{provide:Kr,useValue:this},{provide:aa,useValue:this.componentFactoryResolver},...i],Yt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class pf extends v0{constructor(t){super(),this.moduleType=t}create(t){return new ff(this.moduleType,t,[])}}class b0 extends Kr{constructor(t){super(),this.componentFactoryResolver=new Eb(this),this.instance=null;const n=new Us([...t.providers,{provide:Kr,useValue:this},{provide:aa,useValue:this.componentFactoryResolver}],t.parent||nc(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function gf(e,t,n=null){return new b0({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let Dk=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const i=bv(0,n.type),r=i.length>0?gf([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Fe({token:e,providedIn:"environment",factory:()=>new e(xe(ti))})}return e})();function y0(e){e.getStandaloneInjector=t=>t.get(Dk).getOrCreateStandaloneInjector(e)}function e1(e,t,n,i=!0){const r=t[ke];if(function bM(e,t,n,i){const r=rn+i,s=n.length;i>0&&(n[r-1][pi]=t),i<s-rn?(t[pi]=n[r],b_(n,rn+i,t)):(n.push(t),t[pi]=null),t[Rt]=n;const o=t[Lo];null!==o&&n!==o&&function yM(e,t){const n=e[Cs];t[Ut]!==t[Rt][Rt][Ut]&&(e[mm]=!0),null===n?e[Cs]=[t]:n.push(t)}(o,t);const a=t[Mi];null!==a&&a.insertView(e),t[tt]|=128}(r,t,e,n),i){const s=Zd(n,e),o=t[Ze],a=ql(o,e[Ti]);null!==a&&function mM(e,t,n,i,r,s){i[Nt]=r,i[un]=t,ta(e,i,n,1,r,s)}(r,e[un],o,t,a,s)}}Symbol;let bi=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=u1}return e})();function u1(){return function B0(e,t){let n;const i=t[e.index];return bn(i)?n=i:(n=function ub(e,t,n,i){return[e,!0,!1,t,null,0,i,n,null,null,null]}(i,t,null,e),t[e.index]=n,hc(t,n)),j0(n,t,e,i),new N0(n,e,t)}(on(),Me())}const d1=bi,N0=class extends d1{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Ws(this._hostTNode,this._hostLView)}get injector(){return new En(this._hostTNode,this._hostLView)}get parentInjector(){const t=kl(this._hostTNode,this._hostLView);if(Id(t)){const n=Go(t,this._hostLView),i=Wo(t);return new En(n[ke].data[i+8],n)}return new En(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=L0(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-rn}createEmbeddedView(t,n,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,r,false),a}createComponent(t,n,i,r,s){const o=t&&!function Xo(e){return"function"==typeof e}(t);let a;if(o)a=n;else{const le=n||{};a=le.index,i=le.injector,r=le.projectableNodes,s=le.environmentInjector||le.ngModuleRef}const l=o?t:new pa(lt(t)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const we=(o?c:this.parentInjector).get(ti,null);we&&(s=we)}lt(l.componentType??{});const K=l.create(c,r,null,s);return this.insertImpl(K.hostView,a,false),K}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,i){const r=t._lView;if(function $D(e){return bn(e[Rt])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=r[Rt],h=new N0(c,c[un],c[Rt]);h.detach(h.indexOf(t))}}const o=this._adjustIndex(n),a=this._lContainer;return e1(a,r,o,!i),t.attachToViewContainerRef(),b_(vf(a),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=L0(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=Gl(this._lContainer,n);i&&(Nl(vf(this._lContainer),n),qd(i[ke],i))}detach(t){const n=this._adjustIndex(t,-1),i=Gl(this._lContainer,n);return i&&null!=Nl(vf(this._lContainer),n)?new fa(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function L0(e){return e[8]}function vf(e){return e[8]||(e[8]=[])}let j0=function V0(e,t,n,i){if(e[Ti])return;let r;r=8&n.type?Mt(i):function h1(e,t){const n=e[Ze],i=n.createComment(""),r=Pn(t,e);return Hr(n,ql(n,r),i,function SM(e,t){return e.nextSibling(t)}(n,r),!1),i}(t,n),e[Ti]=r};const Tf=new Pe("Application Initializer");let If=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=Le(Tf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const r of this.appInits){const s=r();if(wc(s))n.push(s);else if(qb(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),0===n.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dw=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Bi=new Pe("LocaleId",{providedIn:"root",factory:()=>Le(Bi,st.Optional|st.SkipSelf)||function z1(){return typeof $localize<"u"&&$localize.locale||ao}()});let hw=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Kn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class G1{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let fw=(()=>{class e{compileModuleSync(n){return new pf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),s=Zi(Ln(n).declarations).reduce((o,a)=>{const l=lt(a);return l&&o.push(new pa(l)),o},[]);return new G1(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const _w=new Pe(""),kc=new Pe("");let Ff,kf=(()=>{class e{constructor(n,i,r){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ff||(function pO(e){Ff=e}(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{at.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||e)(xe(at),xe(Of),xe(kc))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})(),Of=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Ff?.findTestabilityInTree(this,n,i)??null}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),vr=null;const vw=new Pe("AllowMultipleToken"),Nf=new Pe("PlatformDestroyListeners"),Lf=new Pe("appBootstrapListener");class yw{constructor(t,n){this.name=t,this.token=n}}function Ew(e,t,n=[]){const i=`Platform: ${t}`,r=new Pe(i);return(s=[])=>{let o=Bf();if(!o||o.injector.get(vw,!1)){const a=[...n,...s,{provide:r,useValue:!0}];e?e(a):function _O(e){if(vr&&!vr.get(vw,!1))throw new Se(400,!1);(function bw(){!function TD(e){Mm=e}(()=>{throw new Se(600,!1)})})(),vr=e;const t=e.get(Sw);(function ww(e){e.get(Sv,null)?.forEach(n=>n())})(e)}(function Cw(e=[],t){return Cn.create({name:t,providers:[{provide:lh,useValue:"platform"},{provide:Nf,useValue:new Set([()=>vr=null])},...e]})}(a,i))}return function bO(e){const t=Bf();if(!t)throw new Se(401,!1);return t}()}}function Bf(){return vr?.get(Sw)??null}let Sw=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const r=function yO(e="zone.js",t){return"noop"===e?new zT:"zone.js"===e?new at(t):e}(i?.ngZone,function Aw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function Ak(e,t,n){return new ff(e,t,n)}(n.moduleType,this.injector,function Iw(e){return[{provide:at,useFactory:e},{provide:ra,multi:!0,useFactory:()=>{const t=Le(EO,{optional:!0});return()=>t.initialize()}},{provide:Tw,useFactory:wO},{provide:jv,useFactory:Vv}]}(()=>r)),o=s.injector.get(mi,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{Oc(this._modules,s),a.unsubscribe()})}),function Dw(e,t,n){try{const i=n();return wc(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(If);return a.runInitializers(),a.donePromise.then(()=>(function Gy(e){Zn(e,"Expected localeId to be defined"),"string"==typeof e&&(Wy=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Bi,ao)||ao),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,i=[]){const r=xw({},i);return function gO(e,t,n){const i=new pf(n);return Promise.resolve(i)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(n){const i=n.injector.get(br);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new Se(-403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(Nf,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||e)(xe(Cn))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function xw(e,t){return Array.isArray(t)?t.reduce(xw,e):{...e,...t}}let br=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Le(Tw),this.zoneIsStable=Le(jv),this.componentTypes=[],this.components=[],this.isStable=Le(hw).hasPendingTasks.pipe(Di(n=>n?He(!1):this.zoneIsStable),function VA(e,t=Y){return e=e??UA,$((n,i)=>{let r,s=!0;n.subscribe(X(i,o=>{const a=t(o);(s||!e(r,a))&&(s=!1,r=a,i.next(o))}))})}(),qu()),this._injector=Le(ti)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){const r=n instanceof Mv;if(!this._injector.get(If).done)throw!r&&function vs(e){const t=lt(e)||nn(e)||vn(e);return null!==t&&t.standalone}(n),new Se(405,!1);let o;o=r?n:this._injector.get(aa).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function mO(e){return e.isBoundToModule}(o)?void 0:this._injector.get(Kr),c=o.create(Cn.NULL,[],i||o.selector,a),h=c.location.nativeElement,T=c.injector.get(_w,null);return T?.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),Oc(this.components,c),T?.unregisterApplication(h)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;Oc(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(Lf,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Oc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Se(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Oc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Tw=new Pe("",{providedIn:"root",factory:()=>Le(mi).handleError.bind(void 0)});function wO(){const e=Le(at),t=Le(mi);return n=>e.runOutsideAngular(()=>t.handleError(n))}let EO=(()=>{class e{constructor(){this.zone=Le(at),this.applicationRef=Le(br)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let jf=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=SO}return e})();function SO(e){return function AO(e,t,n){if(Nr(e)&&!n){const i=Bn(e.index,t);return new fa(i,i)}return 47&e.type?new fa(t[Ut],t):null}(on(),Me(),16==(16&e))}const BO=Ew(null,"core",[]);let jO=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(i){return new(i||e)(xe(br))};static#t=this.\u0275mod=$t({type:e});static#n=this.\u0275inj=jt({})}return e})();function Wf(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let Gf=null;function uo(){return Gf}class JO{}const mt=new Pe("DocumentToken");let qf=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:function(){return Le(tF)},providedIn:"platform"})}return e})();const eF=new Pe("Location Initialized");let tF=(()=>{class e extends qf{constructor(){super(),this._doc=Le(mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return uo().getBaseHref(this._doc)}onPopState(n){const i=uo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=uo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function Xf(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Xw(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function er(e){return e&&"?"!==e[0]?"?"+e:e}let Qr=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:function(){return Le(Kw)},providedIn:"root"})}return e})();const Yw=new Pe("appBaseHref");let Kw=(()=>{class e extends Qr{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Le(mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Xf(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+er(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,s){const o=this.prepareExternalUrl(r+er(s));this._platformLocation.pushState(n,i,o)}replaceState(n,i,r,s){const o=this.prepareExternalUrl(r+er(s));this._platformLocation.replaceState(n,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(i){return new(i||e)(xe(qf),xe(Yw,8))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),nF=(()=>{class e extends Qr{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=Xf(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,s){let o=this.prepareExternalUrl(r+er(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,i,o)}replaceState(n,i,r,s){let o=this.prepareExternalUrl(r+er(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(i){return new(i||e)(xe(qf),xe(Yw,8))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})(),jc=(()=>{class e{constructor(n){this._subject=new hn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._basePath=function sF(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(Xw(Zw(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+er(i))}normalize(n){return e.stripTrailingSlash(function rF(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,Zw(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+er(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+er(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}static#e=this.normalizeQueryParams=er;static#t=this.joinWithSlash=Xf;static#n=this.stripTrailingSlash=Xw;static#i=this.\u0275fac=function(i){return new(i||e)(xe(Qr))};static#s=this.\u0275prov=Fe({token:e,factory:function(){return function iF(){return new jc(xe(Qr))}()},providedIn:"root"})}return e})();function Zw(e){return e.replace(/\/index.html$/,"")}let hE=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=$t({type:e});static#n=this.\u0275inj=jt({})}return e})();const fE="browser";function pE(e){return"server"===e}let SN=(()=>{class e{static#e=this.\u0275prov=Fe({token:e,providedIn:"root",factory:()=>new AN(xe(mt),window)})}return e})();class AN{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function DN(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class KN extends JO{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class dp extends KN{static makeCurrent(){!function QO(e){Gf||(Gf=e)}(new dp)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function ZN(){return ka=ka||document.querySelector("base"),ka?ka.getAttribute("href"):null}();return null==n?null:function QN(e){Qc=Qc||document.createElement("a"),Qc.setAttribute("href",e);const t=Qc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){ka=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function zF(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const i=n.indexOf("="),[r,s]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Qc,ka=null,eL=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();const hp=new Pe("EventManagerPlugins");let bE=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(s=>s.supports(n)),!i)throw new Se(5101,!1);return this._eventNameToPlugin.set(n,i),i}static#e=this.\u0275fac=function(i){return new(i||e)(xe(hp),xe(at))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();class yE{constructor(t){this._doc=t}}const fp="ng-app-id";let wE=(()=>{class e{constructor(n,i,r,s={}){this.doc=n,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=pE(s),this.resetHostNodes()}addStyles(n){for(const i of n)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.elements?.forEach(r=>r.remove()),i.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${fp}="${this.appId}"]`);if(n?.length){const i=new Map;return n.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(n,i){const r=this.styleRef;if(r.has(n)){const s=r.get(n);return s.usage+=i,s.usage}return r.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===n)return r.delete(i),s.removeAttribute(fp),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(fp,this.appId),o}}addStyleToHost(n,i){const r=this.getStyleElement(n,i);n.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||e)(xe(mt),xe(ic),xe(fh,8),xe(Wr))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();const pp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},gp=/%COMP%/g,rL=new Pe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function CE(e,t){return t.map(n=>n.replace(gp,e))}let mp=(()=>{class e{constructor(n,i,r,s,o,a,l,c=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=pE(a),this.defaultRenderer=new _p(n,o,l,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Qn.ShadowDom&&(i={...i,encapsulation:Qn.Emulated});const r=this.getOrCreateRenderer(n,i);return r instanceof AE?r.applyToHost(n):r instanceof vp&&r.applyStyles(),r}getOrCreateRenderer(n,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,T=this.platformIsServer;switch(i.encapsulation){case Qn.Emulated:s=new AE(l,c,i,this.appId,h,o,a,T);break;case Qn.ShadowDom:return new lL(l,c,n,i,o,a,this.nonce,T);default:s=new vp(l,c,i,h,o,a,T)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||e)(xe(bE),xe(wE),xe(ic),xe(rL),xe(mt),xe(Wr),xe(at),xe(fh))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();class _p{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(pp[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(SE(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(SE(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new Se(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;const s=pp[r];s?t.setAttributeNS(s,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){const r=pp[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(gr.DashCase|gr.Important)?t.style.setProperty(n,i,r&gr.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&gr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t[n]=i}setValue(t,n){t.nodeValue=n}listen(t,n,i){if("string"==typeof t&&!(t=uo().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function SE(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class lL extends _p{constructor(t,n,i,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=CE(r.id,r.styles);for(const h of c){const T=document.createElement("style");a&&T.setAttribute("nonce",a),T.textContent=h,this.shadowRoot.appendChild(T)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class vp extends _p{constructor(t,n,i,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?CE(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class AE extends vp{constructor(t,n,i,r,s,o,a,l){const c=r+"-"+i.id;super(t,n,i,s,o,a,l,c),this.contentAttr=function sL(e){return"_ngcontent-%COMP%".replace(gp,e)}(c),this.hostAttr=function oL(e){return"_nghost-%COMP%".replace(gp,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}}let cL=(()=>{class e extends yE{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||e)(xe(mt))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();const DE=["alt","control","meta","shift"],uL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dL={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let hL=(()=>{class e extends yE{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,r){const s=e.parseEventName(i),o=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>uo().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const i=n.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),DE.forEach(c=>{const h=i.indexOf(c);h>-1&&(i.splice(h,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(n,i){let r=uL[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(r=n.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),DE.forEach(o=>{o!==r&&(0,dL[o])(n)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(n,i,r){return s=>{e.matchEventFullKeyCode(s,n)&&r.runGuarded(()=>i(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(i){return new(i||e)(xe(mt))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();const mL=Ew(BO,"browser",[{provide:Wr,useValue:fE},{provide:Sv,useValue:function fL(){dp.makeCurrent()},multi:!0},{provide:mt,useFactory:function gL(){return function RM(e){eh=e}(document),document},deps:[]}]),_L=new Pe(""),TE=[{provide:kc,useClass:class JN{addToWindow(t){xt.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Se(5103,!1);return s},xt.getAllAngularTestabilities=()=>t.getAllTestabilities(),xt.getAllAngularRootElements=()=>t.getAllRootElements(),xt.frameworkStabilizers||(xt.frameworkStabilizers=[]),xt.frameworkStabilizers.push(i=>{const r=xt.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,n,i){return null==n?null:t.getTestability(n)??(i?uo().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:_w,useClass:kf,deps:[at,Of,kc]},{provide:kf,useClass:kf,deps:[at,Of,kc]}],IE=[{provide:lh,useValue:"root"},{provide:mi,useFactory:function pL(){return new mi},deps:[]},{provide:hp,useClass:cL,multi:!0,deps:[mt,at,Wr]},{provide:hp,useClass:hL,multi:!0,deps:[mt]},mp,wE,bE,{provide:la,useExisting:mp},{provide:class xN{},useClass:eL,deps:[]},[]];let PE=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:ic,useValue:n.appId}]}}static#e=this.\u0275fac=function(i){return new(i||e)(xe(_L,12))};static#t=this.\u0275mod=$t({type:e});static#n=this.\u0275inj=jt({providers:[...IE,...TE],imports:[hE,jO]})}return e})(),RE=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(i){return new(i||e)(xe(mt))};static#t=this.\u0275prov=Fe({token:e,factory:function(i){let r=null;return r=i?new i:function bL(){return new RE(xe(mt))}(),r},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:AL}=Array,{getPrototypeOf:DL,prototype:xL,keys:ML}=Object;const{isArray:IL}=Array;function wp(e){return J(t=>function PL(e,t){return IL(t)?e(...t):e(t)}(e,t))}function Jc(...e){const t=Io(e),n=function Hg(e){return S(Gu(e))?e.pop():void 0}(e),{args:i,keys:r}=function LE(e){if(1===e.length){const t=e[0];if(AL(t))return{args:t,keys:null};if(function TL(e){return e&&"object"==typeof e&&DL(e)===xL}(t)){const n=ML(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}(e);if(0===i.length)return tn([],t);const s=new x(function RL(e,t,n=Y){return i=>{jE(t,()=>{const{length:r}=e,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)jE(t,()=>{const c=tn(e[l],t);let h=!1;c.subscribe(X(i,T=>{s[l]=T,h||(h=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>function BE(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}(r,o):Y));return n?s.pipe(wp(n)):s}function jE(e,t,n){e?$i(n,e,t):t()}const eu=j(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function tu(...e){return function kL(){return ms(1)}()(tn(e,Io(e)))}function VE(e){return new x(t=>{Xt(e()).subscribe(t)})}function fo(e,t){const n=S(e)?e:()=>e,i=r=>r.error(n());return new x(t?r=>t.schedule(i,0,r):i)}function Ep(){return $((e,t)=>{let n=null;e._refCount++;const i=X(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const r=e._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}class UE extends x{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,L(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new oe;const n=this.getSubject();t.add(this.source.subscribe(X(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=oe.EMPTY)}return t}refCount(){return Ep()(this)}}function wr(e){return e<=0?()=>Ai:$((t,n)=>{let i=0;t.subscribe(X(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function HE(...e){const t=Io(e);return $((n,i)=>{(t?tu(e,n,t):tu(e,n)).subscribe(i)})}function oi(e,t){return $((n,i)=>{let r=0;n.subscribe(X(i,s=>e.call(t,s,r++)&&i.next(s)))})}function nu(e){return $((t,n)=>{let i=!1;t.subscribe(X(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function zE(e=OL){return $((t,n)=>{let i=!1;t.subscribe(X(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function OL(){return new eu}function Jr(e,t){const n=arguments.length>=2;return i=>i.pipe(e?oi((r,s)=>e(r,s,i)):Y,wr(1),n?nu(t):zE(()=>new eu))}function po(e,t){return S(t)?Jt(e,t,1):Jt(e,1)}function Qt(e,t,n){const i=S(e)||t||n?{next:e,error:t,complete:n}:e;return i?$((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(X(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Y}function Er(e){return $((t,n)=>{let s,i=null,r=!1;i=t.subscribe(X(n,void 0,void 0,o=>{s=Xt(e(o,Er(e)(t))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function Cp(e){return e<=0?()=>Ai:$((t,n)=>{let i=[];t.subscribe(X(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(const r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function iu(e){return $((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Sp(e){return $((t,n)=>{Xt(e).subscribe(X(n,()=>n.complete(),y)),!n.closed&&t.subscribe(n)})}const it="primary",Oa=Symbol("RouteTitle");class jL{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function go(e){return new jL(e)}function VL(e,t,n){const i=n.path.split("/");if(i.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=e[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function ji(e,t){const n=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!$E(e[r],t[r]))return!1;return!0}function $E(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((r,s)=>i[s]===r)}return e===t}function WE(e){return e.length>0?e[e.length-1]:null}function Cr(e){return function SL(e){return!!e&&(e instanceof x||S(e.lift)&&S(e.subscribe))}(e)?e:wc(e)?tn(Promise.resolve(e)):He(e)}const HL={exact:function XE(e,t,n){if(!es(e.segments,t.segments)||!ru(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!e.children[i]||!XE(e.children[i],t.children[i],n))return!1;return!0},subset:YE},GE={exact:function zL(e,t){return ji(e,t)},subset:function $L(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>$E(e[n],t[n]))},ignored:()=>!0};function qE(e,t,n){return HL[n.paths](e.root,t.root,n.matrixParams)&&GE[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function YE(e,t,n){return KE(e,t,t.segments,n)}function KE(e,t,n,i){if(e.segments.length>n.length){const r=e.segments.slice(0,n.length);return!(!es(r,n)||t.hasChildren()||!ru(r,n,i))}if(e.segments.length===n.length){if(!es(e.segments,n)||!ru(e.segments,n,i))return!1;for(const r in t.children)if(!e.children[r]||!YE(e.children[r],t.children[r],i))return!1;return!0}{const r=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(es(e.segments,r)&&ru(e.segments,r,i)&&e.children[it])&&KE(e.children[it],t,s,i)}}function ru(e,t,n){return t.every((i,r)=>GE[n](e[r].parameters,i.parameters))}class mo{constructor(t=new Et([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=go(this.queryParams)),this._queryParamMap}toString(){return qL.serialize(this)}}class Et{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return su(this)}}class Fa{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=go(this.parameters)),this._parameterMap}toString(){return JE(this)}}function es(e,t){return e.length===t.length&&e.every((n,i)=>n.path===t[i].path)}let Na=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:function(){return new Ap},providedIn:"root"})}return e})();class Ap{parse(t){const n=new s2(t);return new mo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${La(t.root,!0)}`,i=function KL(e){const t=Object.keys(e).map(n=>{const i=e[n];return Array.isArray(i)?i.map(r=>`${ou(n)}=${ou(r)}`).join("&"):`${ou(n)}=${ou(i)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${i}${"string"==typeof t.fragment?`#${function XL(e){return encodeURI(e)}(t.fragment)}`:""}`}}const qL=new Ap;function su(e){return e.segments.map(t=>JE(t)).join("/")}function La(e,t){if(!e.hasChildren())return su(e);if(t){const n=e.children[it]?La(e.children[it],!1):"",i=[];return Object.entries(e.children).forEach(([r,s])=>{r!==it&&i.push(`${r}:${La(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function GL(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===it&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==it&&(n=n.concat(t(r,i)))}),n}(e,(i,r)=>r===it?[La(e.children[it],!1)]:[`${r}:${La(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[it]?`${su(e)}/${n[0]}`:`${su(e)}/(${n.join("//")})`}}function ZE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ou(e){return ZE(e).replace(/%3B/gi,";")}function Dp(e){return ZE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function au(e){return decodeURIComponent(e)}function QE(e){return au(e.replace(/\+/g,"%20"))}function JE(e){return`${Dp(e.path)}${function YL(e){return Object.keys(e).map(t=>`;${Dp(t)}=${Dp(e[t])}`).join("")}(e.parameters)}`}const ZL=/^[^\/()?;#]+/;function xp(e){const t=e.match(ZL);return t?t[0]:""}const QL=/^[^\/()?;=#]+/,e2=/^[^=?&#]+/,n2=/^[^&#]+/;class s2{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Et([],{}):new Et([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[it]=new Et(t,n)),i}parseSegment(){const t=xp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Se(4009,!1);return this.capture(t),new Fa(au(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function JL(e){const t=e.match(QL);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=xp(this.remaining);r&&(i=r,this.capture(i))}t[au(n)]=au(i)}parseQueryParam(t){const n=function t2(e){const t=e.match(e2);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const o=function r2(e){const t=e.match(n2);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=QE(n),s=QE(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=xp(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Se(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=it);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[it]:new Et([],o),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Se(4011,!1)}}function eC(e){return e.segments.length>0?new Et([],{[it]:e}):e}function tC(e){const t={};for(const i of Object.keys(e.children)){const s=tC(e.children[i]);if(i===it&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function o2(e){if(1===e.numberOfChildren&&e.children[it]){const t=e.children[it];return new Et(e.segments.concat(t.segments),t.children)}return e}(new Et(e.segments,t))}function ts(e){return e instanceof mo}function nC(e){let t;const r=eC(function n(s){const o={};for(const l of s.children){const c=n(l);o[l.outlet]=c}const a=new Et(s.url,o);return s===e&&(t=a),a}(e.root));return t??r}function iC(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(0===t.length)return Mp(r,r,r,n,i);const s=function l2(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new sC(!0,0,e);let t=0,n=!1;const i=e.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new sC(n,t,i)}(t);if(s.toRoot())return Mp(r,r,new Et([],{}),n,i);const o=function c2(e,t,n){if(e.isAbsolute)return new cu(t,!0,0);if(!n)return new cu(t,!1,NaN);if(null===n.parent)return new cu(n,!0,0);const i=lu(e.commands[0])?0:1;return function u2(e,t,n){let i=e,r=t,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Se(4005,!1);r=i.segments.length}return new cu(i,!1,r-s)}(n,n.segments.length-1+i,e.numberOfDoubleDots)}(s,r,e),a=o.processChildren?ja(o.segmentGroup,o.index,s.commands):oC(o.segmentGroup,o.index,s.commands);return Mp(r,o.segmentGroup,a,n,i)}function lu(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ba(e){return"object"==typeof e&&null!=e&&e.outlets}function Mp(e,t,n,i,r){let o,s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`}),o=e===t?n:rC(e,t,n);const a=eC(tC(o));return new mo(a,s,r)}function rC(e,t,n){const i={};return Object.entries(e.children).forEach(([r,s])=>{i[r]=s===t?n:rC(s,t,n)}),new Et(e.segments,i)}class sC{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&lu(i[0]))throw new Se(4003,!1);const r=i.find(Ba);if(r&&r!==WE(i))throw new Se(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cu{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}}function oC(e,t,n){if(e||(e=new Et([],{})),0===e.segments.length&&e.hasChildren())return ja(e,t,n);const i=function h2(e,t,n){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return s;const o=e.segments[r],a=n[i];if(Ba(a))break;const l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!lC(l,c,o))return s;i+=2}else{if(!lC(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const s=new Et(e.segments.slice(0,i.pathIndex),{});return s.children[it]=new Et(e.segments.slice(i.pathIndex),e.children),ja(s,0,r)}return i.match&&0===r.length?new Et(e.segments,{}):i.match&&!e.hasChildren()?Tp(e,t,n):i.match?ja(e,0,r):Tp(e,t,n)}function ja(e,t,n){if(0===n.length)return new Et(e.segments,{});{const i=function d2(e){return Ba(e[0])?e[0].outlets:{[it]:e}}(n),r={};if(Object.keys(i).some(s=>s!==it)&&e.children[it]&&1===e.numberOfChildren&&0===e.children[it].segments.length){const s=ja(e.children[it],t,n);return new Et(e.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=oC(e.children[s],t,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Et(e.segments,r)}}function Tp(e,t,n){const i=e.segments.slice(0,t);let r=0;for(;r<n.length;){const s=n[r];if(Ba(s)){const l=f2(s.outlets);return new Et(i,l)}if(0===r&&lu(n[0])){i.push(new Fa(e.segments[t].path,aC(n[0]))),r++;continue}const o=Ba(s)?s.outlets[it]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&lu(a)?(i.push(new Fa(o,aC(a))),r+=2):(i.push(new Fa(o,{})),r++)}return new Et(i,{})}function f2(e){const t={};return Object.entries(e).forEach(([n,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[n]=Tp(new Et([],{}),0,i))}),t}function aC(e){const t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function lC(e,t,n){return e==n.path&&ji(t,n.parameters)}const Va="imperative";class Vi{constructor(t,n){this.id=t,this.url=n}}class uu extends Vi{constructor(t,n,i="imperative",r=null){super(t,n),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sr extends Vi{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ua extends Vi{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _o extends Vi{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=16}}class du extends Vi{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cC extends Vi{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p2 extends Vi{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class g2 extends Vi{constructor(t,n,i,r,s){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class m2 extends Vi{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _2 extends Vi{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v2{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class b2{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class y2{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w2{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class E2{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class C2{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uC{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ip{}class Pp{constructor(t){this.url=t}}class S2{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ha,this.attachRef=null}}let Ha=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new S2,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class dC{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Rp(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){const n=Rp(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=kp(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return kp(t,this._root).map(n=>n.value)}}function Rp(e,t){if(e===t.value)return t;for(const n of t.children){const i=Rp(e,n);if(i)return i}return null}function kp(e,t){if(e===t.value)return[t];for(const n of t.children){const i=kp(e,n);if(i.length)return i.unshift(t),i}return[]}class ir{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function vo(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class hC extends dC{constructor(t,n){super(t),this.snapshot=n,Op(this,t)}toString(){return this.snapshot.toString()}}function fC(e,t){const n=function A2(e,t){const o=new hu([],{},{},"",{},it,t,null,{});return new gC("",new ir(o,[]))}(0,t),i=new Kn([new Fa("",{})]),r=new Kn({}),s=new Kn({}),o=new Kn({}),a=new Kn(""),l=new bo(i,r,o,a,s,it,t,n.root);return l.snapshot=n.root,new hC(new ir(l,[]),n)}class bo{constructor(t,n,i,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(J(c=>c[Oa]))??He(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(J(t=>go(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(J(t=>go(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pC(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const r=n[i],s=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function D2(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(i))}class hu{get title(){return this.data?.[Oa]}constructor(t,n,i,r,s,o,a,l,c){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=go(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=go(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gC extends dC{constructor(t,n){super(n),this.url=t,Op(this,n)}toString(){return mC(this._root)}}function Op(e,t){t.value._routerState=e,t.children.forEach(n=>Op(e,n))}function mC(e){const t=e.children.length>0?` { ${e.children.map(mC).join(", ")} } `:"";return`${e.value}${t}`}function Fp(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ji(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),ji(t.params,n.params)||e.paramsSubject.next(n.params),function UL(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ji(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),ji(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Np(e,t){const n=ji(e.params,t.params)&&function WL(e,t){return es(e,t)&&e.every((n,i)=>ji(n.parameters,t[i].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Np(e.parent,t.parent))}let Lp=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new hn,this.deactivateEvents=new hn,this.attachEvents=new hn,this.detachEvents=new hn,this.parentContexts=Le(Ha),this.location=Le(bi),this.changeDetector=Le(jf),this.environmentInjector=Le(ti),this.inputBinder=Le(fu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Se(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Se(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Se(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new Se(4013,!1);this._activatedRoute=n;const r=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new x2(n,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=cn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Br]})}return e})();class x2{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===bo?this.route:t===Ha?this.childContexts:this.parent.get(t,n)}}const fu=new Pe("");let _C=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:i}=n,r=Jc([i.queryParams,i.params,i.data]).pipe(Di(([s,o,a],l)=>(a={...s,...o,...a},0===l?He(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(n);const o=function ZO(e){const t=lt(e);if(!t)return null;const n=new pa(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,r)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();function za(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const r=function T2(e,t,n){return t.children.map(i=>{for(const r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return za(e,i,r);return za(e,i)})}(e,t,n);return new ir(i,r)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>za(e,a)),o}}const i=function I2(e){return new bo(new Kn(e.url),new Kn(e.params),new Kn(e.queryParams),new Kn(e.fragment),new Kn(e.data),e.outlet,e.component,e)}(t.value),r=t.children.map(s=>za(e,s));return new ir(i,r)}}const Bp="ngNavigationCancelingError";function vC(e,t){const{redirectTo:n,navigationBehaviorOptions:i}=ts(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=bC(!1,0,t);return r.url=n,r.navigationBehaviorOptions=i,r}function bC(e,t,n){const i=new Error("NavigationCancelingError: "+(e||""));return i[Bp]=!0,i.cancellationCode=t,n&&(i.url=n),i}function yC(e){return e&&e[Bp]}let wC=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=cr({type:e,selectors:[["ng-component"]],standalone:!0,features:[y0],decls:1,vars:0,template:function(i,r){1&i&&pn(0,"router-outlet")},dependencies:[Lp],encapsulation:2})}return e})();function jp(e){const t=e.children&&e.children.map(jp),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==it&&(n.component=wC),n}function Ei(e){return e.outlet||it}function $a(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class B2{constructor(t,n,i,r,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),Fp(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){const r=vo(n);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,n,i){const r=t.value,s=n?n.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,n,o.children)}else this.deactivateChildRoutes(t,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=vo(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=vo(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){const r=vo(n);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new C2(s.value.snapshot))}),t.children.length&&this.forwardEvent(new w2(t.value.snapshot))}activateRoutes(t,n,i){const r=t.value,s=n?n.value:null;if(Fp(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,o.children)}else this.activateChildRoutes(t,n,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Fp(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=$a(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class EC{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class pu{constructor(t,n){this.component=t,this.route=n}}function j2(e,t,n){const i=e._root;return Wa(i,t?t._root:null,n,[i.value])}function yo(e,t){const n=Symbol(),i=t.get(e,n);return i===n?"function"!=typeof e||function XA(e){return null!==pl(e)}(e)?t.get(e):e:i}function Wa(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=vo(t);return e.children.forEach(o=>{(function U2(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function H2(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!es(e.url,t.url);case"pathParamsOrQueryParamsChange":return!es(e.url,t.url)||!ji(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Np(e,t)||!ji(e.queryParams,t.queryParams);default:return!Np(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new EC(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Wa(e,t,s.component?a?a.children:null:n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new pu(a.outlet.component,o))}else o&&Ga(t,a,r),r.canActivateChecks.push(new EC(i)),Wa(e,null,s.component?a?a.children:null:n,i,r)})(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ga(a,n.getContext(o),r)),r}function Ga(e,t,n){const i=vo(e),r=e.value;Object.entries(i).forEach(([s,o])=>{Ga(o,r.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new pu(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function qa(e){return"function"==typeof e}function CC(e){return e instanceof eu||"EmptyError"===e?.name}const gu=Symbol("INITIAL_VALUE");function wo(){return Di(e=>Jc(e.map(t=>t.pipe(wr(1),HE(gu)))).pipe(J(t=>{for(const n of t)if(!0!==n){if(n===gu)return gu;if(!1===n||n instanceof mo)return n}return!0}),oi(t=>t!==gu),wr(1)))}function SC(e){return function H(...e){return U(e)}(Qt(t=>{if(ts(t))throw vC(0,t)}),J(t=>!0===t))}class mu{constructor(t){this.segmentGroup=t||null}}class AC{constructor(t){this.urlTree=t}}function Eo(e){return fo(new mu(e))}function DC(e){return fo(new AC(e))}class lB{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new Se(4002,!1)}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return He(i);if(r.numberOfChildren>1||!r.children[it])return fo(new Se(4e3,!1));r=r.children[it]}}applyRedirectCommands(t,n,i){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i)}applyRedirectCreateUrlTree(t,n,i,r){const s=this.createSegmentGroup(t,n.root,i,r);return new mo(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(t,n,i,r){const s=this.createSegments(t,n.segments,i,r);let o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,i,r)}),new Et(s,o)}createSegments(t,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,n,i){const r=i[n.path.substring(1)];if(!r)throw new Se(4001,!1);return r}findOrReturn(t,n){let i=0;for(const r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}}const Vp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cB(e,t,n,i,r){const s=Up(e,t,n);return s.matched?(i=function R2(e,t){return e.providers&&!e._injector&&(e._injector=gf(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,i),function sB(e,t,n,i){const r=t.canMatch;return r&&0!==r.length?He(r.map(o=>{const a=yo(o,e);return Cr(function X2(e){return e&&qa(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(wo(),SC()):He(!0)}(i,t,n).pipe(J(o=>!0===o?s:{...Vp}))):He(s)}function Up(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Vp}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const r=(t.matcher||VL)(n,e,t);if(!r)return{...Vp};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function xC(e,t,n,i){return n.length>0&&function hB(e,t,n){return n.some(i=>_u(e,t,i)&&Ei(i)!==it)}(e,n,i)?{segmentGroup:new Et(t,dB(i,new Et(n,e.children))),slicedSegments:[]}:0===n.length&&function fB(e,t,n){return n.some(i=>_u(e,t,i))}(e,n,i)?{segmentGroup:new Et(e.segments,uB(e,0,n,i,e.children)),slicedSegments:n}:{segmentGroup:new Et(e.segments,e.children),slicedSegments:n}}function uB(e,t,n,i,r){const s={};for(const o of i)if(_u(e,n,o)&&!r[Ei(o)]){const a=new Et([],{});s[Ei(o)]=a}return{...r,...s}}function dB(e,t){const n={};n[it]=t;for(const i of e)if(""===i.path&&Ei(i)!==it){const r=new Et([],{});n[Ei(i)]=r}return n}function _u(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class _B{constructor(t,n,i,r,s,o,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new lB(this.urlSerializer,this.urlTree)}noMatchError(t){return new Se(4002,!1)}recognize(){const t=xC(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,it).pipe(Er(n=>{if(n instanceof AC)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof mu?this.noMatchError(n):n}),J(n=>{const i=new hu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,{}),r=new ir(i,n),s=new gC("",r),o=function a2(e,t,n=null,i=null){return iC(nC(e),t,n,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,it).pipe(Er(i=>{throw i instanceof mu?this.noMatchError(i):i}))}inheritParamsAndData(t){const n=t.value,i=pC(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,r,!0)}processChildren(t,n,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return tn(r).pipe(po(s=>{const o=i.children[s],a=function N2(e,t){const n=e.filter(i=>Ei(i)===t);return n.push(...e.filter(i=>Ei(i)!==t)),n}(n,s);return this.processSegmentGroup(t,a,o,s)}),function NL(e,t){return $(function FL(e,t,n,i,r){return(s,o)=>{let a=n,l=t,c=0;s.subscribe(X(o,h=>{const T=c++;l=a?e(l,h,T):(a=!0,h),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(e,t,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),nu(null),function LL(e,t){const n=arguments.length>=2;return i=>i.pipe(e?oi((r,s)=>e(r,s,i)):Y,Cp(1),n?nu(t):zE(()=>new eu))}(),Jt(s=>{if(null===s)return Eo(i);const o=MC(s);return function vB(e){e.sort((t,n)=>t.value.outlet===it?-1:n.value.outlet===it?1:t.value.outlet.localeCompare(n.value.outlet))}(o),He(o)}))}processSegment(t,n,i,r,s,o){return tn(n).pipe(po(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,i,r,s,o).pipe(Er(l=>{if(l instanceof mu)return He(null);throw l}))),Jr(a=>!!a),Er(a=>{if(CC(a))return function gB(e,t,n){return 0===t.length&&!e.children[n]}(i,r,s)?He([]):Eo(i);throw a}))}processSegmentAgainstRoute(t,n,i,r,s,o,a){return function pB(e,t,n,i){return!!(Ei(e)===i||i!==it&&_u(t,n,e))&&("**"===e.path||Up(t,e,n).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,s,o):Eo(r):Eo(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?DC(s):this.applyRedirects.lineralizeSegments(i,s).pipe(Jt(o=>{const a=new Et(o,{});return this.processSegment(t,n,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:h}=Up(n,r,s);if(!a)return Eo(n);const T=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?DC(T):this.applyRedirects.lineralizeSegments(r,T).pipe(Jt(G=>this.processSegment(t,i,n,G.concat(c),o,!1)))}matchSegmentAgainstRoute(t,n,i,r,s,o){let a;if("**"===i.path){const l=r.length>0?WE(r).parameters:{};a=He({snapshot:new hu(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,TC(i),Ei(i),i.component??i._loadedComponent??null,i,IC(i)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=cB(n,i,r,t).pipe(J(({matched:l,consumedSegments:c,remainingSegments:h,parameters:T})=>l?{snapshot:new hu(c,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,TC(i),Ei(i),i.component??i._loadedComponent??null,i,IC(i)),consumedSegments:c,remainingSegments:h}:null));return a.pipe(Di(l=>null===l?Eo(n):this.getChildConfig(t=i._injector??t,i,r).pipe(Di(({routes:c})=>{const h=i._loadedInjector??t,{snapshot:T,consumedSegments:G,remainingSegments:K}=l,{segmentGroup:se,slicedSegments:le}=xC(n,G,K,c);if(0===le.length&&se.hasChildren())return this.processChildren(h,c,se).pipe(J(Ae=>null===Ae?null:[new ir(T,Ae)]));if(0===c.length&&0===le.length)return He([new ir(T,[])]);const we=Ei(i)===s;return this.processSegment(h,c,se,le,we?it:s,!0).pipe(J(Ae=>[new ir(T,Ae)]))}))))}getChildConfig(t,n,i){return n.children?He({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?He({routes:n._loadedRoutes,injector:n._loadedInjector}):function rB(e,t,n,i){const r=t.canLoad;return void 0===r||0===r.length?He(!0):He(r.map(o=>{const a=yo(o,e);return Cr(function $2(e){return e&&qa(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(wo(),SC())}(t,n,i).pipe(Jt(r=>r?this.configLoader.loadChildren(t,n).pipe(Qt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function aB(e){return fo(bC(!1,3))}())):He({routes:[],injector:t})}}function bB(e){const t=e.value.routeConfig;return t&&""===t.path}function MC(e){const t=[],n=new Set;for(const i of e){if(!bB(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):t.push(i)}for(const i of n){const r=MC(i.children);t.push(new ir(i.value,r))}return t.filter(i=>!n.has(i))}function TC(e){return e.data||{}}function IC(e){return e.resolve||{}}function PC(e){return"string"==typeof e.title||null===e.title}function Hp(e){return Di(t=>{const n=e(t);return n?tn(n).pipe(J(()=>t)):He(t)})}const Co=new Pe("ROUTES");let zp=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Le(fw)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return He(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=Cr(n.loadComponent()).pipe(J(RC),Qt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),iu(()=>{this.componentLoaders.delete(n)})),r=new UE(i,()=>new d).pipe(Ep());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return He({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function DB(e,t,n,i){return Cr(e.loadChildren()).pipe(J(RC),Jt(r=>r instanceof v0||Array.isArray(r)?He(r):tn(t.compileModuleAsync(r))),J(r=>{i&&i(e);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(n).injector,o=s.get(Co,[],{optional:!0,self:!0}).flat()),{routes:o.map(jp),injector:s}}))}(i,this.compiler,n,this.onLoadEndListener).pipe(iu(()=>{this.childrenLoaders.delete(i)})),o=new UE(s,()=>new d).pipe(Ep());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function RC(e){return function xB(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let vu=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new d,this.transitionAbortSubject=new d,this.configLoader=Le(zp),this.environmentInjector=Le(ti),this.urlSerializer=Le(Na),this.rootContexts=Le(Ha),this.inputBindingEnabled=null!==Le(fu,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>He(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new b2(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new v2(r))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:i})}setupNavigations(n,i,r){return this.transitions=new Kn({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:n.urlHandlingStrategy.extract(i),urlAfterRedirects:n.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Va,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(oi(s=>0!==s.id),J(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),Di(s=>{this.currentTransition=s;let o=!1,a=!1;return He(s).pipe(Qt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Di(l=>{const c=l.currentBrowserUrl.toString(),h=!n.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!h&&"reload"!==(l.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const G="";return this.events.next(new _o(l.id,this.urlSerializer.serialize(l.rawUrl),G,0)),l.resolve(null),Ai}if(n.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return He(l).pipe(Di(G=>{const K=this.transitions?.getValue();return this.events.next(new uu(G.id,this.urlSerializer.serialize(G.extractedUrl),G.source,G.restoredState)),K!==this.transitions?.getValue()?Ai:Promise.resolve(G)}),function yB(e,t,n,i,r,s){return Jt(o=>function mB(e,t,n,i,r,s,o="emptyOnly"){return new _B(e,t,n,i,r,o,s).recognize()}(e,t,n,i,o.extractedUrl,r,s).pipe(J(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Qt(G=>{s.targetSnapshot=G.targetSnapshot,s.urlAfterRedirects=G.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:G.urlAfterRedirects};const K=new cC(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(G.urlAfterRedirects),G.targetSnapshot);this.events.next(K)}));if(h&&n.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:G,extractedUrl:K,source:se,restoredState:le,extras:we}=l,Ae=new uu(G,this.urlSerializer.serialize(K),se,le);this.events.next(Ae);const _e=fC(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:_e,urlAfterRedirects:K,extras:{...we,skipLocationChange:!1,replaceUrl:!1}},He(s)}{const G="";return this.events.next(new _o(l.id,this.urlSerializer.serialize(l.extractedUrl),G,1)),l.resolve(null),Ai}}),Qt(l=>{const c=new p2(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),J(l=>(this.currentTransition=s={...l,guards:j2(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function K2(e,t){return Jt(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?He({...n,guardsResult:!0}):function Z2(e,t,n,i){return tn(e).pipe(Jt(r=>function iB(e,t,n,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?He(s.map(a=>{const l=$a(t)??r,c=yo(a,l);return Cr(function q2(e){return e&&qa(e.canDeactivate)}(c)?c.canDeactivate(e,t,n,i):l.runInContext(()=>c(e,t,n,i))).pipe(Jr())})).pipe(wo()):He(!0)}(r.component,r.route,n,t,i)),Jr(r=>!0!==r,!0))}(o,i,r,e).pipe(Jt(a=>a&&function z2(e){return"boolean"==typeof e}(a)?function Q2(e,t,n,i){return tn(t).pipe(po(r=>tu(function eB(e,t){return null!==e&&t&&t(new y2(e)),He(!0)}(r.route.parent,i),function J2(e,t){return null!==e&&t&&t(new E2(e)),He(!0)}(r.route,i),function nB(e,t,n){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function V2(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(o)).filter(o=>null!==o).map(o=>VE(()=>He(o.guards.map(l=>{const c=$a(o.node)??n,h=yo(l,c);return Cr(function G2(e){return e&&qa(e.canActivateChild)}(h)?h.canActivateChild(i,e):c.runInContext(()=>h(i,e))).pipe(Jr())})).pipe(wo())));return He(s).pipe(wo())}(e,r.path,n),function tB(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return He(!0);const r=i.map(s=>VE(()=>{const o=$a(t)??n,a=yo(s,o);return Cr(function W2(e){return e&&qa(e.canActivate)}(a)?a.canActivate(t,e):o.runInContext(()=>a(t,e))).pipe(Jr())}));return He(r).pipe(wo())}(e,r.route,n))),Jr(r=>!0!==r,!0))}(i,s,e,t):He(a)),J(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Qt(l=>{if(s.guardsResult=l.guardsResult,ts(l.guardsResult))throw vC(0,l.guardsResult);const c=new g2(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),oi(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),Hp(l=>{if(l.guards.canActivateChecks.length)return He(l).pipe(Qt(c=>{const h=new m2(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),Di(c=>{let h=!1;return He(c).pipe(function wB(e,t){return Jt(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return He(n);let s=0;return tn(r).pipe(po(o=>function EB(e,t,n,i){const r=e.routeConfig,s=e._resolve;return void 0!==r?.title&&!PC(r)&&(s[Oa]=r.title),function CB(e,t,n,i){const r=function SB(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===r.length)return He({});const s={};return tn(r).pipe(Jt(o=>function AB(e,t,n,i){const r=$a(t)??i,s=yo(e,r);return Cr(s.resolve?s.resolve(t,n):r.runInContext(()=>s(t,n)))}(e[o],t,n,i).pipe(Jr(),Qt(a=>{s[o]=a}))),Cp(1),function BL(e){return J(()=>e)}(s),Er(o=>CC(o)?Ai:fo(o)))}(s,e,t,i).pipe(J(o=>(e._resolvedData=o,e.data=pC(e,n).resolve,r&&PC(r)&&(e.data[Oa]=r.title),null)))}(o.route,i,e,t)),Qt(()=>s++),Cp(1),Jt(o=>s===r.length?He(n):Ai))})}(n.paramsInheritanceStrategy,this.environmentInjector),Qt({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(c,"",2)}}))}),Qt(c=>{const h=new _2(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}))}),Hp(l=>{const c=h=>{const T=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(h.routeConfig).pipe(Qt(G=>{h.component=G}),J(()=>{})));for(const G of h.children)T.push(...c(G));return T};return Jc(c(l.targetSnapshot.root)).pipe(nu(),wr(1))}),Hp(()=>this.afterPreactivation()),J(l=>{const c=function M2(e,t,n){const i=za(e,t._root,n?n._root:void 0);return new hC(i,t)}(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),Qt(()=>{this.events.next(new Ip)}),((e,t,n,i)=>J(r=>(new B2(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)))(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),wr(1),Qt({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Sr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),n.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Sp(this.transitionAbortSubject.pipe(Qt(l=>{throw l}))),iu(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Er(l=>{if(a=!0,yC(l))this.events.next(new Ua(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function P2(e){return yC(e)&&ts(e.url)}(l)?this.events.next(new Pp(l.url)):s.resolve(!1);else{this.events.next(new du(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(l))}catch(c){s.reject(c)}}return Ai}))}))}cancelNavigationTransition(n,i,r){const s=new Ua(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kC(e){return e!==Va}let OC=(()=>{class e{buildTitle(n){let i,r=n.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===it);return i}getResolvedTitleForRoute(n){return n.data[Oa]}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:function(){return Le(MB)},providedIn:"root"})}return e})(),MB=(()=>{class e extends OC{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||e)(xe(RE))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),TB=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:function(){return Le(PB)},providedIn:"root"})}return e})();class IB{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let PB=(()=>{class e extends IB{static#e=this.\u0275fac=function(){let n;return function(r){return(n||(n=function m_(e){return Wi(()=>{const t=e.prototype.constructor,n=t[Gi]||Od(t),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const s=r[Gi]||Od(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}(e)))(r||e)}}();static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const bu=new Pe("",{providedIn:"root",factory:()=>({})});let RB=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:function(){return Le(kB)},providedIn:"root"})}return e})(),kB=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Xa=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Xa||{});function FC(e,t){e.events.pipe(oi(n=>n instanceof Sr||n instanceof Ua||n instanceof du||n instanceof _o),J(n=>n instanceof Sr||n instanceof _o?Xa.COMPLETE:n instanceof Ua&&(0===n.code||1===n.code)?Xa.REDIRECTING:Xa.FAILED),oi(n=>n!==Xa.REDIRECTING),wr(1)).subscribe(()=>{t()})}function OB(e){throw e}function FB(e,t,n){return t.parse("/")}const NB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},LB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ai=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Le(dw),this.isNgZoneEnabled=!1,this._events=new d,this.options=Le(bu,{optional:!0})||{},this.pendingTasks=Le(hw),this.errorHandler=this.options.errorHandler||OB,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||FB,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Le(RB),this.routeReuseStrategy=Le(TB),this.titleStrategy=Le(OC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Le(Co,{optional:!0})?.flat()??[],this.navigationTransitions=Le(vu),this.urlSerializer=Le(Na),this.location=Le(jc),this.componentInputBindingEnabled=!!Le(fu,{optional:!0}),this.eventsSubscription=new oe,this.isNgZoneEnabled=Le(at)instanceof at&&at.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new mo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=fC(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(NC(i)&&this._events.next(i));if(i instanceof uu)kC(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof _o)this.rawUrlTree=r.rawUrl;else if(i instanceof cC){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof Ip)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Ua)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof Pp){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||kC(r.source)};this.scheduleNavigation(s,Va,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof du&&this.restoreHistory(r,!0),i instanceof Sr&&(this.navigated=!0),NC(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Va,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i="popstate"===n.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,i,n.state)},0)}))}navigateToSyncWithBrowser(n,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(jp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let T,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}null!==h&&(h=this.removeEmptyProps(h));try{T=nC(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),T=this.currentUrlTree.root}return iC(T,n,h,c??null)}navigateByUrl(n,i={skipLocationChange:!1}){const r=ts(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Va,null,i)}navigate(n,i={skipLocationChange:!1}){return function BB(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Se(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,n)}return i}isActive(n,i){let r;if(r=!0===i?{...NB}:!1===i?{...LB}:i,ts(n))return qE(this.currentUrlTree,n,r);const s=this.parseUrl(n);return qE(this.currentUrlTree,s,r)}removeEmptyProps(n){return Object.keys(n).reduce((i,r)=>{const s=n[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(n,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((T,G)=>{a=T,l=G});const h=this.pendingTasks.add();return FC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(T=>Promise.reject(T))}setBrowserUrl(n,i){const r=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(n,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function NC(e){return!(e instanceof Ip||e instanceof Pp)}let Ya=(()=>{class e{constructor(n,i,r,s,o,a){this.router=n,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new d,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Sr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function gv(e,t,n){return function rT(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?pv:fv}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,n,i):r.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||e)($e(ai),$e(bo),function Fl(e){return function yx(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const i=n.length;let r=0;for(;r<i;){const s=n[r];if(rm(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(s===t)return n[r+1];r+=2}}}return null}(on(),e)}("tabindex"),$e(ca),$e(ni),$e(Qr))};static#t=this.\u0275dir=cn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Ec("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&i&&$h("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Wf],skipLocationChange:["skipLocationChange","skipLocationChange",Wf],replaceUrl:["replaceUrl","replaceUrl",Wf],routerLink:"routerLink"},standalone:!0,features:[Tb,Br]})}return e})();class LC{}let UB=(()=>{class e{constructor(n,i,r,s,o){this.router=n,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(oi(n=>n instanceof Sr),po(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=gf(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return tn(r).pipe(ms())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(n,i):He(null);const s=r.pipe(Jt(o=>null===o?He(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return i.loadComponent&&!i._loadedComponent?tn([s,this.loader.loadComponent(i)]).pipe(ms()):s})}static#e=this.\u0275fac=function(i){return new(i||e)(xe(ai),xe(fw),xe(ti),xe(LC),xe(zp))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const $p=new Pe("");let BC=(()=>{class e{constructor(n,i,r,s,o={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof uu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Sr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof _o&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof uC&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new uC(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function tb(){throw new Error("invalid")}()};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();function rr(e,t){return{\u0275kind:e,\u0275providers:t}}function VC(){const e=Le(Cn);return t=>{const n=e.get(br);if(t!==n.components[0])return;const i=e.get(ai),r=e.get(UC);1===e.get(Wp)&&i.initialNavigation(),e.get(HC,null,st.Optional)?.setUpPreloading(),e.get($p,null,st.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const UC=new Pe("",{factory:()=>new d}),Wp=new Pe("",{providedIn:"root",factory:()=>1}),HC=new Pe("");function WB(e){return rr(0,[{provide:HC,useExisting:UB},{provide:LC,useExisting:e}])}const zC=new Pe("ROUTER_FORROOT_GUARD"),qB=[jc,{provide:Na,useClass:Ap},ai,Ha,{provide:bo,useFactory:function jC(e){return e.routerState.root},deps:[ai]},zp,[]];function XB(){return new yw("Router",ai)}let $C=(()=>{class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[qB,[],{provide:Co,multi:!0,useValue:n},{provide:zC,useFactory:QB,deps:[[ai,new Ur,new Ko]]},{provide:bu,useValue:i||{}},i?.useHash?{provide:Qr,useClass:nF}:{provide:Qr,useClass:Kw},{provide:$p,useFactory:()=>{const e=Le(SN),t=Le(at),n=Le(bu),i=Le(vu),r=Le(Na);return n.scrollOffset&&e.setOffset(n.scrollOffset),new BC(r,i,e,t,n)}},i?.preloadingStrategy?WB(i.preloadingStrategy).\u0275providers:[],{provide:yw,multi:!0,useFactory:XB},i?.initialNavigation?JB(i):[],i?.bindToComponentInputs?rr(8,[_C,{provide:fu,useExisting:_C}]).\u0275providers:[],[{provide:WC,useFactory:VC},{provide:Lf,multi:!0,useExisting:WC}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Co,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(i){return new(i||e)(xe(zC,8))};static#t=this.\u0275mod=$t({type:e});static#n=this.\u0275inj=jt({})}return e})();function QB(e){return"guarded"}function JB(e){return["disabled"===e.initialNavigation?rr(3,[{provide:Tf,multi:!0,useFactory:()=>{const t=Le(ai);return()=>{t.setUpLocationChangeListener()}}},{provide:Wp,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?rr(2,[{provide:Wp,useValue:0},{provide:Tf,multi:!0,deps:[Cn],useFactory:t=>{const n=t.get(eF,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const r=t.get(ai),s=t.get(UC);FC(r,()=>{i(!0)}),t.get(vu).afterPreactivation=()=>(i(!0),s.closed?He(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const WC=new Pe("");class GC{}class tj{}const sr="*";function Ka(e,t){return{type:7,name:e,definitions:t,options:{}}}function So(e,t=null){return{type:4,styles:t,timings:e}}function qC(e,t=null){return{type:2,steps:e,options:t}}function zn(e){return{type:6,styles:e,offset:null}}function Ao(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}class Za{constructor(t=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class YC{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let n=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const n=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((n,i)=>null===n||i.totalTime>n.totalTime?i:n,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}let nj=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=cr({type:e,selectors:[["app-home"]],decls:17,vars:1,consts:[["id","about"],[1,"about-me"],["src","../../../assets/img1.jpg",1,"image"],[1,"center"],["routerLink","/about"],[1,"btn"],["width","180px","height","60px","viewBox","0 0 180 60",1,"border"],["points","179,1 179,59 1,59 1,1 179,1",1,"bg-line"],["points","179,1 179,59 1,59 1,1 179,1",1,"hl-line"]],template:function(i,r){1&i&&(nt(0,"body")(1,"section",0)(2,"div",1),pn(3,"img",2),nt(4,"div")(5,"h1"),gt(6,"Hello"),pt(),nt(7,"p"),gt(8,"I'm Chonlagun a Junior Developer with a passion for coding and exploring new, challenging technologies. Allow me to introduce myself for the opportunity to be a part of your team. "),pt(),nt(9,"div",3)(10,"a",4)(11,"button",5),function t_(){Xe.lFrame.currentNamespace="svg"}(),nt(12,"svg",6),pn(13,"polyline",7)(14,"polyline",8),pt(),function n_(){!function dx(){Xe.lFrame.currentNamespace=null}()}(),nt(15,"span"),gt(16,"About Me"),pt()()()()()()()()),2&i&&(Gr(2),mr("@fadeInOut",void 0))},dependencies:[Ya],styles:["body[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;margin:0;padding:0;background-color:#f4e9f0;top:100%}.container[_ngcontent-%COMP%]{width:400px;height:400px;position:absolute;top:55%;left:55%;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center}.center[_ngcontent-%COMP%]{width:180px;height:60px;position:absolute}.btn[_ngcontent-%COMP%]{width:180px;height:60px;cursor:pointer;background:transparent;border:1px solid #91C9FF;outline:none;transition:1s ease-in-out}svg[_ngcontent-%COMP%]{position:absolute;left:0;top:0;fill:none;stroke:#fff;stroke-dasharray:150 480;stroke-dashoffset:150;transition:1s ease-in-out}.btn[_ngcontent-%COMP%]:hover{transition:1s ease-in-out;background:#4F95DA}.btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{stroke-dashoffset:-480}.btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:18px;font-weight:100}.image[_ngcontent-%COMP%]{margin-right:100px;border-radius:50%;width:500px;height:500px}.text[_ngcontent-%COMP%]{flex:1}.about-me[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 20px;display:flex;align-items:center;overflow:hidden}.about-me[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{right:500px}.project[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 20px;display:block;overflow:hidden}header[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:20px 0;text-align:center}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;margin:0}header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}section[_ngcontent-%COMP%]{padding:60px 0}section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;margin-bottom:20px}.project-item[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:20px;margin-bottom:20px;border-radius:20px;box-shadow:0 4px 8px #0000001a}footer[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:10px 0;text-align:center}.container.fade-in[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}"],data:{animation:[Ka("fadeInOut",[Ao(":enter",[zn({opacity:0}),So("1s ease-in-out",zn({opacity:1}))])])]}})}return e})(),ij=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=cr({type:e,selectors:[["app-project"]],decls:34,vars:1,consts:[[1,"main"],[1,"gradient"],[1,"row"],[1,"column"],[1,"content"],["src","../../../assets/pj1.png","alt","Mountains",2,"width","100%"],["src","../../../assets/pj2.png","alt","Lights",2,"width","100%"],["src","../../../assets/pj3.jpg","alt","Nature",2,"width","100%"],["src","../../../assets/pj4.jpg","alt","Mountains",2,"width","100%"]],template:function(i,r){1&i&&(nt(0,"body")(1,"div",0)(2,"h1"),gt(3,"My Project"),pt(),pn(4,"hr",1),nt(5,"div",2)(6,"div",3)(7,"div",4),pn(8,"img",5),nt(9,"h3"),gt(10,"Angular Fast Food Website"),pt(),nt(11,"p"),gt(12,"E-Commerce website for the sale of fast food, with features such as user authentication, a shopping cart, and the ability to specify the user's location for delivery. The frontend will be developed using Angular 16, while the backend will be implemented with Node.js. Database management will be handled through MongoDB."),pt()()(),nt(13,"div",3)(14,"div",4),pn(15,"img",6),nt(16,"h3"),gt(17,"Chat Bot Website"),pt(),nt(18,"p"),gt(19,"The project involves developing a chatbot that responds to user messages based on predefined responses through a website. If a user provides a message that is not within the saved dataset, the chatbot will reply with a random message. The programming will be done in Python, and a simple web structure using HTML and PHP will be created for the interaction."),pt()()(),nt(20,"div",3)(21,"div",4),pn(22,"img",7),nt(23,"h3"),gt(24,"LINE Chat Bot"),pt(),nt(25,"p"),gt(26,"It is a Chat Room system with buttons for inquiring about various topics related to system usage, and users can contact service providers for assistance. The system incorporates a chatbot to assist users with different matters, written in Python and utilizing the Flask framework to run the server. Ngrok is used to make the server public, facilitating webhook communication with LINE's platform. The LINE API is employed to collaborate with LINE devices."),pt()()(),nt(27,"div",3)(28,"div",4),pn(29,"img",8),nt(30,"h3"),gt(31,"Emotion Detection Mobile App"),pt(),nt(32,"p"),gt(33,"It is an application that displays facial expressions using machine learning, leveraging the TensorFlow framework for the primary model and converting the model to TensorFlow Lite for mobile deployment. The application is written in Java."),pt()()()()()()),2&i&&(Gr(1),mr("@fadeInOut",void 0))},styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}.main[_ngcontent-%COMP%]{max-width:1000px;margin:auto}h1[_ngcontent-%COMP%]{font-size:50px;word-break:break-all}.row[_ngcontent-%COMP%]{margin:8px -16px}.row[_ngcontent-%COMP%], .row[_ngcontent-%COMP%] > .column[_ngcontent-%COMP%]{padding:8px}.column[_ngcontent-%COMP%]{float:left;width:25%}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.content[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border-radius:3%;min-height:580px;flex:1}@media screen and (max-width: 900px){.column[_ngcontent-%COMP%]{width:50%}}@media screen and (max-width: 600px){.column[_ngcontent-%COMP%]{width:100%}}.content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:100px}hr.gradient[_ngcontent-%COMP%]{height:3px;border:none;border-radius:6px;background:linear-gradient(90deg,rgb(118,165,197) 0%,rgb(64,146,184) 21%,rgba(6,84,170,1) 51%,rgb(0,255,221) 100%)}'],data:{animation:[Ka("fadeInOut",[Ao(":enter",[zn({opacity:0}),So("1s ease-in-out",zn({opacity:1}))])])]}})}return e})(),rj=(()=>{class e{constructor(n,i){this.el=n,this.renderer=i}onScroll(){window.scrollY>this.el.nativeElement.offsetTop-window.innerHeight+this.el.nativeElement.offsetHeight?this.renderer.addClass(this.el.nativeElement,"fade-in"):this.renderer.removeClass(this.el.nativeElement,"fade-in")}static#e=this.\u0275fac=function(i){return new(i||e)($e(ni),$e(ca))};static#t=this.\u0275dir=cn({type:e,selectors:[["","appFadeInOnScroll",""]],hostBindings:function(i,r){1&i&&Ec("scroll",function(){return r.onScroll()},0,Uv)}})}return e})();const sj=[{path:"",component:nj},{path:"project",component:ij},{path:"about",component:(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=cr({type:e,selectors:[["app-about"]],decls:57,vars:4,consts:[["id","about"],[1,"about"],[1,"about-me"],["src","../../../assets/img1.jpg",1,"image"],[1,"text"],["id","skills"],[1,"skills"],[1,"skills-content"],[1,"container"],["data-skill","HTML5",1,"bar","front","expert"],["data-skill","Java",1,"bar","front","advanced"],["data-skill","Python",1,"bar","front","advanced"],["data-skill","MySQL",1,"bar","back","intermediate"],["data-skill","Javascripts",1,"bar","back","intermediate"],["data-skill","Css",1,"bar","back","intermediate"],["data-skill","Flask",1,"bar","back","api"],["data-skill","Node.js",1,"bar","back","api"],["data-skill","C",1,"bar","back","basic"],["data-skill","C#",1,"bar","back","basic"],["data-skill","Angular",1,"bar","angular"],["data-skill","Pytorch",1,"bar","machine"],["data-skill","Tensorflow",1,"bar","machine"],["data-skill","OpenCV",1,"bar","machine"],["data-skill","MongoDB",1,"bar","learning"],["data-skill","Mongoose",1,"bar","learning"],["appFadeInOnScroll","",1,"center"],[1,"gradient"],[1,"left"],[1,"right"]],template:function(i,r){1&i&&(nt(0,"body")(1,"section",0)(2,"div",1)(3,"h1"),gt(4,"About me"),pt()(),nt(5,"div",2),pn(6,"img",3),nt(7,"div",4)(8,"p"),gt(9,"My name is Chonlagun Bangkert, and i am a Rajabhat Phranakhon University where I successfully earned my degree in Computer Science. I am an enthusiastic individual with a passion for coding and a keen interest in exploring new technologies. and I am excited to embark on a journey of continuous learning and application of my skills in the dynamic and ever-evolving field of technology I am eager to take on new challenges, contribute to innovative projects, and further develop my expertise in the world of computer science. "),pt()()()(),nt(10,"section",5)(11,"div",6)(12,"h1"),gt(13,"My Skills"),pt()(),nt(14,"div",7)(15,"div",8),pn(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13)(21,"div",14)(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",18)(26,"div",19)(27,"div",20)(28,"div",21)(29,"div",22)(30,"div",23)(31,"div",24),pt()()(),nt(32,"section")(33,"div",25)(34,"h1"),gt(35,"Education"),pt(),pn(36,"hr",26),nt(37,"h3",27),gt(38,"Rajabhat Phranakhon University "),nt(39,"span",28),gt(40,"2020-2024"),pt()(),nt(41,"p"),gt(42,"Computer Science degree"),pt(),pn(43,"hr",26),nt(44,"h3",27),gt(45,"Siam Business Administration Technological College Saphanmai"),nt(46,"span",28),gt(47,"2017-2020"),pt()(),nt(48,"p"),gt(49,"Information Technology degree"),pt(),pn(50,"hr",26),nt(51,"h3",27),gt(52,"Nawamintrachinuthit Satriwittaya 2 School"),nt(53,"span",28),gt(54,"2014-2017"),pt()(),nt(55,"p"),gt(56,"Chinese Programs"),pt()()()()),2&i&&(Gr(2),mr("@fadeInOut",void 0),Gr(3),mr("@fadeInOut",void 0),Gr(6),mr("@fadeInOut",void 0),Gr(3),mr("@fadeInOut",void 0))},dependencies:[rj],styles:["h1[_ngcontent-%COMP%]{font-size:36px;text-align:center;font-weight:700}.image[_ngcontent-%COMP%]{margin-right:100px;border-radius:7%;width:500px;height:500px}.about-me[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 20px;display:flex;align-items:center;overflow:hidden}.skills[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;text-align:right;font-weight:700;padding-right:25%}.skills[_ngcontent-%COMP%]{text-align:right;padding-top:10px;padding-bottom:10px}.container[_ngcontent-%COMP%]{width:50%;margin:0 auto}@keyframes _ngcontent-%COMP%_load{0%{width:0%}}.bar[_ngcontent-%COMP%]{background-color:#eee;padding:2px;border-radius:15px;margin-bottom:5px;font-size:14px;color:#fff;font-weight:700;text-shadow:1px 1px 1px rgba(0,0,0,.5)}.bar[_ngcontent-%COMP%]:before{content:attr(data-skill);background-color:#f3b0ff;display:inline-block;padding:5px 0 5px 10px;border-radius:inherit;animation:_ngcontent-%COMP%_load 2s 0s;-webkit-animation:_ngcontent-%COMP%_load 2s 0s;-moz-animation:load 2s 0s;-o-animation:load 2s 0s}.bar.front[_ngcontent-%COMP%]:before{background-color:#fc3}.bar.back[_ngcontent-%COMP%]:before{background-color:#a6cfe3}.bar.angular[_ngcontent-%COMP%]:before{width:calc(35% - 10px)}.bar.machine[_ngcontent-%COMP%]:before{width:calc(25% - 10px)}.bar.learning[_ngcontent-%COMP%]:before{width:calc(20% - 10px)}.bar.api[_ngcontent-%COMP%]:before{width:calc(50% - 10px)}.bar.basic[_ngcontent-%COMP%]:before{width:calc(40% - 10px)}.bar.intermediate[_ngcontent-%COMP%]:before{width:calc(60% - 10px)}.bar.advanced[_ngcontent-%COMP%]:before{width:calc(80% - 10px)}.bar.expert[_ngcontent-%COMP%]:before{width:calc(100% - 10px)}.center[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;text-align:left;font-weight:700}.center[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 200px;display:flex;overflow:hidden;flex-direction:column;opacity:0;transform:translateY(20px);transition:opacity .5s ease-in-out,transform .5s ease-in-out}.center.fade-in[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}hr[_ngcontent-%COMP%]{display:block;margin:.5em 0;border-style:inset;border-width:1px}hr.gradient[_ngcontent-%COMP%]{height:3px;border:none;border-radius:6px;background:linear-gradient(90deg,rgb(118,165,197) 0%,rgb(64,146,184) 21%,rgba(6,84,170,1) 51%,rgb(0,255,221) 100%)}h3.left[_ngcontent-%COMP%]{text-align:left}span.right[_ngcontent-%COMP%]{float:right}"],data:{animation:[Ka("fadeInOut",[Ao(":enter",[zn({opacity:0}),So("1s ease-in-out",zn({opacity:1}))])])]}})}return e})()}];let oj=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=$t({type:e});static#n=this.\u0275inj=jt({imports:[$C.forRoot(sj),$C]})}return e})(),aj=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=cr({type:e,selectors:[["app-navbar"]],decls:14,vars:0,consts:[[1,"navbar"],[1,"container"],[1,"logo"],[1,"nav-menu"],["routerLink","/"],["routerLink","/about"],["routerLink","/project"]],template:function(i,r){1&i&&(nt(0,"div",0)(1,"div",1)(2,"a",2),gt(3,"Portfolio"),pt(),nt(4,"ul",3)(5,"li")(6,"a",4),gt(7,"Home"),pt()(),nt(8,"li")(9,"a",5),gt(10,"About"),pt()(),nt(11,"li")(12,"a",6),gt(13,"Project"),pt()()()()())},dependencies:[Ya],styles:[".navbar[_ngcontent-%COMP%]{background:rgb(238,174,202);background:linear-gradient(90deg,rgba(238,174,202,1) 0%,rgba(148,187,233,1) 67%);background-size:200% 100% 50%;color:#fff;padding:15px 0;margin:0 auto}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:16px;margin:0 15px;position:relative}.container[_ngcontent-%COMP%]{margin:0 auto;display:flex;justify-content:space-between}a.logo[_ngcontent-%COMP%]{font-weight:700;padding:1rem}ul[_ngcontent-%COMP%]{display:flex;list-style-type:none;margin:0}ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:1rem;display:inline-block}.nav-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:1rem;display:inline-block;transition:.5s ease-in-out}.nav-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#4F95DA;border-radius:5rem}"]})}return e})(),lj=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=cr({type:e,selectors:[["app-footer"]],decls:3,vars:0,template:function(i,r){1&i&&(nt(0,"footer")(1,"p"),gt(2,"Powered by Webocity Technologies"),pt()())},styles:["footer[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(238,174,202,1) 0%,rgba(148,187,233,1) 67%);background-size:200% 100% 50%;color:#fff;text-align:center;padding:10px}"]})}return e})(),cj=(()=>{class e{constructor(){this.title="port"}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=cr({type:e,selectors:[["app-root"]],decls:3,vars:0,template:function(i,r){1&i&&pn(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[Lp,aj,lj]})}return e})();function KC(e){return new Se(3e3,!1)}function Ar(e){switch(e.length){case 0:return new Za;case 1:return e[0];default:return new YC(e)}}function ZC(e,t,n=new Map,i=new Map){const r=[],s=[];let o=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),h=c==o,T=h&&a||new Map;l.forEach((G,K)=>{let se=K,le=G;if("offset"!==K)switch(se=e.normalizePropertyName(se,r),le){case"!":le=n.get(K);break;case sr:le=i.get(K);break;default:le=e.normalizeStyleValue(K,se,le,r)}T.set(se,le)}),h||s.push(T),a=T,o=c}),r.length)throw function Rj(e){return new Se(3502,!1)}();return s}function qp(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&Xp(n,"start",e)));break;case"done":e.onDone(()=>i(n&&Xp(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&Xp(n,"destroy",e)))}}function Xp(e,t,n){const s=Yp(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n.totalTime??e.totalTime,!!n.disabled),o=e._data;return null!=o&&(s._data=o),s}function Yp(e,t,n,i,r="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function $n(e,t,n){let i=e.get(t);return i||e.set(t,i=n),i}function QC(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}const $j=(()=>typeof document>"u"?null:document.documentElement)();function Kp(e){const t=e.parentNode||e.host||null;return t===$j?null:t}let ns=null,JC=!1;function eS(e,t){for(;t;){if(t===e)return!0;t=Kp(t)}return!1}function tS(e,t,n){if(n)return Array.from(e.querySelectorAll(t));const i=e.querySelector(t);return i?[i]:[]}let nS=(()=>{class e{validateStyleProperty(n){return function Gj(e){ns||(ns=function qj(){return typeof document<"u"?document.body:null}()||{},JC=!!ns.style&&"WebkitAppearance"in ns.style);let t=!0;return ns.style&&!function Wj(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in ns.style,!t&&JC&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in ns.style)),t}(n)}matchesElement(n,i){return!1}containsElement(n,i){return eS(n,i)}getParentElement(n){return Kp(n)}query(n,i,r){return tS(n,i,r)}computeStyle(n,i,r){return r||""}animate(n,i,r,s,o,a=[],l){return new Za(r,s)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})(),Zp=(()=>{class e{static#e=this.NOOP=new nS}return e})();const Xj=1e3,Qp="ng-enter",yu="ng-leave",wu="ng-trigger",Eu=".ng-trigger",rS="ng-animating",Jp=".ng-animating";function or(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:eg(parseFloat(t[1]),t[2])}function eg(e,t){return"s"===t?e*Xj:e}function Cu(e,t,n){return e.hasOwnProperty("duration")?e:function Kj(e,t,n){let r,s=0,o="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(KC()),{duration:0,delay:0,easing:""};r=eg(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=eg(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=e;if(!n){let a=!1,l=t.length;r<0&&(t.push(function uj(){return new Se(3100,!1)}()),a=!0),s<0&&(t.push(function dj(){return new Se(3101,!1)}()),a=!0),a&&t.splice(l,0,KC())}return{duration:r,delay:s,easing:o}}(e,t,n)}function Qa(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function sS(e){const t=new Map;return Object.keys(e).forEach(n=>{t.set(n,e[n])}),t}function Dr(e,t=new Map,n){if(n)for(let[i,r]of n)t.set(i,r);for(let[i,r]of e)t.set(i,r);return t}function Ui(e,t,n){t.forEach((i,r)=>{const s=ng(r);n&&!n.has(r)&&n.set(r,e.style[s]),e.style[s]=i})}function is(e,t){t.forEach((n,i)=>{const r=ng(i);e.style[r]=""})}function Ja(e){return Array.isArray(e)?1==e.length?e[0]:qC(e):e}const tg=new RegExp("{{\\s*(.+?)\\s*}}","g");function aS(e){let t=[];if("string"==typeof e){let n;for(;n=tg.exec(e);)t.push(n[1]);tg.lastIndex=0}return t}function el(e,t,n){const i=e.toString(),r=i.replace(tg,(s,o)=>{let a=t[o];return null==a&&(n.push(function fj(e){return new Se(3003,!1)}()),a=""),a.toString()});return r==i?e:r}function Su(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const Jj=/-+([a-z0-9])/g;function ng(e){return e.replace(Jj,(...t)=>t[1].toUpperCase())}function Wn(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw function pj(e){return new Se(3004,!1)}()}}function lS(e,t){return window.getComputedStyle(e)[t]}const Au="*";function nV(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(i=>function iV(e,t,n){if(":"==e[0]){const l=function rV(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return t.push(function Mj(e){return new Se(3016,!1)}()),"* => *"}}(e,n);if("function"==typeof l)return void t.push(l);e=l}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(function xj(e){return new Se(3015,!1)}()),t;const r=i[1],s=i[2],o=i[3];t.push(cS(r,o));"<"==s[0]&&!(r==Au&&o==Au)&&t.push(cS(o,r))}(i,n,t)):n.push(e),n}const Du=new Set(["true","1"]),xu=new Set(["false","0"]);function cS(e,t){const n=Du.has(e)||xu.has(e),i=Du.has(t)||xu.has(t);return(r,s)=>{let o=e==Au||e==r,a=t==Au||t==s;return!o&&n&&"boolean"==typeof r&&(o=r?Du.has(e):xu.has(e)),!a&&i&&"boolean"==typeof s&&(a=s?Du.has(t):xu.has(t)),o&&a}}const sV=new RegExp("s*:selfs*,?","g");function ig(e,t,n,i){return new oV(e).build(t,n,i)}class oV{constructor(t){this._driver=t}build(t,n,i){const r=new cV(n);return this._resetContextStyleTimingState(r),Wn(this,Ja(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,n){let i=n.queryCount=0,r=n.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&n.errors.push(function mj(){return new Se(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,s.push(this.visitState(l,n))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,n);i+=l.queryCount,r+=l.depCount,o.push(l)}else n.errors.push(function _j(){return new Se(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,n){const i=this.visitStyle(t.styles,n),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{aS(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(Su(s.values()),n.errors.push(function vj(e,t){return new Se(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;const i=Wn(this,Ja(t.animation),n);return{type:1,matchers:nV(t.expr,n.errors),animation:i,queryCount:n.queryCount,depCount:n.depCount,options:rs(t.options)}}visitSequence(t,n){return{type:2,steps:t.steps.map(i=>Wn(this,i,n)),options:rs(t.options)}}visitGroup(t,n){const i=n.currentTime;let r=0;const s=t.steps.map(o=>{n.currentTime=i;const a=Wn(this,o,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:3,steps:s,options:rs(t.options)}}visitAnimate(t,n){const i=function dV(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return rg(Cu(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=rg(0,0,"");return s.dynamic=!0,s.strValue=n,s}const r=Cu(n,t);return rg(r.duration,r.delay,r.easing)}(t.timings,n.errors);n.currentAnimateTimings=i;let r,s=t.styles?t.styles:zn({});if(5==s.type)r=this.visitKeyframes(s,n);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=zn(c)}n.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,n);l.isEmptyStep=a,r=l}return n.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,n){const i=this._makeStyleAst(t,n);return this._validateStyleAst(i,n),i}_makeStyleAst(t,n){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===sr?i.push(a):n.errors.push(new Se(3002,!1)):i.push(sS(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,n){const i=n.currentAnimateTimings;let r=n.currentTime,s=n.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=n.collectedStyles.get(n.currentQuerySelector),h=c.get(l);let T=!0;h&&(s!=r&&s>=h.startTime&&r<=h.endTime&&(n.errors.push(function yj(e,t,n,i,r){return new Se(3010,!1)}()),T=!1),s=h.startTime),T&&c.set(l,{startTime:s,endTime:r}),n.options&&function Qj(e,t,n){const i=t.params||{},r=aS(e);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||n.push(function hj(e){return new Se(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(t,n){const i={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function wj(){return new Se(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const h=t.steps.map(Ae=>{const _e=this._makeStyleAst(Ae,n);let Oe=null!=_e.offset?_e.offset:function uV(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){const i=n;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}return t}(_e.styles),Be=0;return null!=Oe&&(s++,Be=_e.offset=Oe),l=l||Be<0||Be>1,a=a||Be<c,c=Be,o.push(Be),_e});l&&n.errors.push(function Ej(){return new Se(3012,!1)}()),a&&n.errors.push(function Cj(){return new Se(3200,!1)}());const T=t.steps.length;let G=0;s>0&&s<T?n.errors.push(function Sj(){return new Se(3202,!1)}()):0==s&&(G=1/(T-1));const K=T-1,se=n.currentTime,le=n.currentAnimateTimings,we=le.duration;return h.forEach((Ae,_e)=>{const Oe=G>0?_e==K?1:G*_e:o[_e],Be=Oe*we;n.currentTime=se+le.delay+Be,le.duration=Be,this._validateStyleAst(Ae,n),Ae.offset=Oe,i.styles.push(Ae)}),i}visitReference(t,n){return{type:8,animation:Wn(this,Ja(t.animation),n),options:rs(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:9,options:rs(t.options)}}visitAnimateRef(t,n){return{type:10,animation:this.visitReference(t.animation,n),options:rs(t.options)}}visitQuery(t,n){const i=n.currentQuerySelector,r=t.options||{};n.queryCount++,n.currentQuery=t;const[s,o]=function aV(e){const t=!!e.split(/\s*,\s*/).find(n=>":self"==n);return t&&(e=e.replace(sV,"")),e=e.replace(/@\*/g,Eu).replace(/@\w+/g,n=>Eu+"-"+n.slice(1)).replace(/:animating/g,Jp),[e,t]}(t.selector);n.currentQuerySelector=i.length?i+" "+s:s,$n(n.collectedStyles,n.currentQuerySelector,new Map);const a=Wn(this,Ja(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:rs(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push(function Aj(){return new Se(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Cu(t.timings,n.errors,!0);return{type:12,animation:Wn(this,Ja(t.animation),n),timings:i,options:null}}}class cV{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rs(e){return e?(e=Qa(e)).params&&(e.params=function lV(e){return e?Qa(e):null}(e.params)):e={},e}function rg(e,t,n){return{duration:e,delay:t,easing:n}}function sg(e,t,n,i,r,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Mu{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,n){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const pV=new RegExp(":enter","g"),mV=new RegExp(":leave","g");function og(e,t,n,i,r,s=new Map,o=new Map,a,l,c=[]){return(new _V).buildKeyframes(e,t,n,i,r,s,o,a,l,c)}class _V{buildKeyframes(t,n,i,r,s,o,a,l,c,h=[]){c=c||new Mu;const T=new ag(t,n,c,r,s,h,[]);T.options=l;const G=l.delay?or(l.delay):0;T.currentTimeline.delayNextStep(G),T.currentTimeline.setStyles([o],null,T.errors,l),Wn(this,i,T);const K=T.timelines.filter(se=>se.containsAnimation());if(K.length&&a.size){let se;for(let le=K.length-1;le>=0;le--){const we=K[le];if(we.element===n){se=we;break}}se&&!se.allowOnlyTimelineStyles()&&se.setStyles([a],null,T.errors,l)}return K.length?K.map(se=>se.buildKeyframes()):[sg(n,[],[],[],0,G,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){const i=n.subInstructions.get(n.element);if(i){const r=n.createSubContext(t.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=t}visitAnimateRef(t,n){const i=n.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],n,i),this.visitReference(t.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=t}_applyAnimationRefDelays(t,n,i){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:or(el(s,r?.params??{},n.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,n,i){let s=n.currentTimeline.currentTime;const o=null!=i.duration?or(i.duration):null,a=null!=i.delay?or(i.delay):null;return 0!==o&&t.forEach(l=>{const c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,n){n.updateOptions(t.options,!0),Wn(this,t.animation,n),n.previousNode=t}visitSequence(t,n){const i=n.subContextCount;let r=n;const s=t.options;if(s&&(s.params||s.delay)&&(r=n.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Tu);const o=or(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Wn(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){const i=[];let r=n.currentTimeline.currentTime;const s=t.options&&t.options.delay?or(t.options.delay):0;t.steps.forEach(o=>{const a=n.createSubContext(t.options);s&&a.delayNextStep(s),Wn(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(r),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){const i=t.strValue;return Cu(n.params?el(i,n.params,n.errors):i,n.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){const i=n.currentAnimateTimings=this._visitTiming(t.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(i.duration),this.visitStyle(s,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){const i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){const i=n.currentAnimateTimings,r=n.currentTimeline.duration,s=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+s),n.previousNode=t}visitQuery(t,n){const i=n.currentTimeline.currentTime,r=t.options||{},s=r.delay?or(r.delay):0;s&&(6===n.previousNode.type||0==i&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Tu);let o=i;const a=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,h)=>{n.currentQueryIndex=h;const T=n.createSubContext(t.options,c);s&&T.delayNextStep(s),c===n.element&&(l=T.currentTimeline),Wn(this,t.animation,T),T.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,T.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){const i=n.parentContext,r=n.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const h=n.currentTimeline;l&&h.delayNextStep(l);const T=h.currentTime;Wn(this,t.animation,n),n.previousNode=t,i.currentStaggerTime=r.currentTime-T+(r.startTime-i.currentTimeline.startTime)}}const Tu={};class ag{constructor(t,n,i,r,s,o,a,l){this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Tu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Iu(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=or(i.duration)),null!=i.delay&&(r.delay=or(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=el(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const n=this.options.params;if(n){const i=t.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return t}createSubContext(t=null,n,i){const r=n||this.element,s=new ag(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Tu,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,i){const r={duration:n??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new vV(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(pV,"."+this._enterClassName)).replace(mV,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function Dj(e){return new Se(3014,!1)}()),a}}class Iu{constructor(t,n,i,r){this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new Iu(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles.set(t,n),this._globalTimelineStyles.set(t,n),this._styleSummary.set(t,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||sr),this._currentKeyframe.set(n,sr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,i,r){n&&this._previousKeyframe.set("easing",n);const s=r&&r.params||{},o=function bV(e,t){const n=new Map;let i;return e.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)n.set(s,sr)}else Dr(r,n)}),n}(t,this._globalTimelineStyles);for(let[a,l]of o){const c=el(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??sr),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,n)=>{this._currentKeyframe.set(n,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,t)}))}snapshotCurrentStyles(){for(let[t,n]of this._localTimelineStyles)this._pendingStyles.set(t,n),this._updateStyle(t,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((n,i)=>{const r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Dr(a,new Map,this._backFill);c.forEach((h,T)=>{"!"===h?t.add(T):h===sr&&n.add(T)}),i||c.set("offset",l/this.duration),r.push(c)});const s=t.size?Su(t.values()):[],o=n.size?Su(n.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return sg(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class vV extends Iu{constructor(t,n,i,r,s,o,a=!1){super(t,n,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=i+n,a=n/o,l=Dr(t[0]);l.set("offset",0),s.push(l);const c=Dr(t[0]);c.set("offset",hS(a)),s.push(c);const h=t.length-1;for(let T=1;T<=h;T++){let G=Dr(t[T]);const K=G.get("offset");G.set("offset",hS((n+K*i)/o)),s.push(G)}i=o,n=0,r="",t=s}return sg(this.element,t,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}function hS(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class lg{}const yV=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class wV extends lg{normalizePropertyName(t,n){return ng(t)}normalizeStyleValue(t,n,i,r){let s="";const o=i.toString().trim();if(yV.has(n)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function gj(e,t){return new Se(3005,!1)}())}return o+s}}function fS(e,t,n,i,r,s,o,a,l,c,h,T,G){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:T,errors:G}}const cg={};class pS{constructor(t,n,i){this._triggerName=t,this.ast=n,this._stateStyles=i}match(t,n,i,r){return function EV(e,t,n,i,r){return e.some(s=>s(t,n,i,r))}(this.ast.matchers,t,n,i,r)}buildStyles(t,n,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(n,i):new Map}build(t,n,i,r,s,o,a,l,c,h){const T=[],G=this.ast.options&&this.ast.options.params||cg,se=this.buildStyles(i,a&&a.params||cg,T),le=l&&l.params||cg,we=this.buildStyles(r,le,T),Ae=new Set,_e=new Map,Oe=new Map,Be="void"===r,Qe={params:CV(le,G),delay:this.ast.options?.delay},St=h?[]:og(t,n,this.ast.animation,s,o,se,we,Qe,c,T);let Pt=0;if(St.forEach(Gn=>{Pt=Math.max(Gn.duration+Gn.delay,Pt)}),T.length)return fS(n,this._triggerName,i,r,Be,se,we,[],[],_e,Oe,Pt,T);St.forEach(Gn=>{const Si=Gn.element,$u=$n(_e,Si,new Set);Gn.preStyleProps.forEach(ds=>$u.add(ds));const dl=$n(Oe,Si,new Set);Gn.postStyleProps.forEach(ds=>dl.add(ds)),Si!==n&&Ae.add(Si)});const ln=Su(Ae.values());return fS(n,this._triggerName,i,r,Be,se,we,St,ln,_e,Oe,Pt)}}function CV(e,t){const n=Qa(t);for(const i in e)e.hasOwnProperty(i)&&null!=e[i]&&(n[i]=e[i]);return n}class SV{constructor(t,n,i){this.styles=t,this.defaultParams=n,this.normalizer=i}buildStyles(t,n){const i=new Map,r=Qa(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=el(o,r,n));const l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),i.set(a,o)})}),i}}class DV{constructor(t,n,i){this.name=t,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{this.states.set(r.name,new SV(r.style,r.options&&r.options.params||{},i))}),gS(this.states,"true","1"),gS(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new pS(t,r,this.states))}),this.fallbackTransition=function xV(e,t,n){return new pS(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,i,r){return this.transitionFactories.find(o=>o.match(t,n,i,r))||null}matchStyles(t,n,i){return this.fallbackTransition.buildStyles(t,n,i)}}function gS(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n))}const MV=new Mu;class TV{constructor(t,n,i){this.bodyNode=t,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,n){const i=[],s=ig(this._driver,n,i,[]);if(i.length)throw function kj(e){return new Se(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,n,i){const r=t.element,s=ZC(this._normalizer,t.keyframes,n,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,n,i={}){const r=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=og(this._driver,n,s,Qp,yu,new Map,new Map,i,MV,r),o.forEach(h=>{const T=$n(a,h.element,new Map);h.postStyleProps.forEach(G=>T.set(G,null))})):(r.push(function Oj(){return new Se(3300,!1)}()),o=[]),r.length)throw function Fj(e){return new Se(3504,!1)}();a.forEach((h,T)=>{h.forEach((G,K)=>{h.set(K,this._driver.computeStyle(T,K,sr))})});const c=Ar(o.map(h=>{const T=a.get(h.element);return this._buildPlayer(h,new Map,T)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const n=this._getPlayer(t);n.destroy(),this._playersById.delete(t);const i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(t){const n=this._playersById.get(t);if(!n)throw function Nj(e){return new Se(3301,!1)}();return n}listen(t,n,i,r){const s=Yp(n,"","","");return qp(this._getPlayer(t),i,s,r),()=>{}}command(t,n,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,n,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const mS="ng-animate-queued",ug="ng-animate-disabled",OV=[],_S={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},FV={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ci="__ng_removed";class dg{get params(){return this.options.params}constructor(t,n=""){this.namespaceId=n;const i=t&&t.hasOwnProperty("value");if(this.value=function jV(e){return e??null}(i?t.value:t),i){const s=Qa(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const n=t.params;if(n){const i=this.options.params;Object.keys(n).forEach(r=>{null==i[r]&&(i[r]=n[r])})}}}const tl="void",hg=new dg(tl);class NV{constructor(t,n,i){this.id=t,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,li(n,this._hostClassName)}listen(t,n,i,r){if(!this._triggers.has(n))throw function Lj(e,t){return new Se(3302,!1)}();if(null==i||0==i.length)throw function Bj(e){return new Se(3303,!1)}();if(!function VV(e){return"start"==e||"done"==e}(i))throw function jj(e,t){return new Se(3400,!1)}();const s=$n(this._elementListeners,t,[]),o={name:n,phase:i,callback:r};s.push(o);const a=$n(this._engine.statesByElement,t,new Map);return a.has(n)||(li(t,wu),li(t,wu+"-"+n),a.set(n,hg)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(t,n){return!this._triggers.has(t)&&(this._triggers.set(t,n),!0)}_getTrigger(t){const n=this._triggers.get(t);if(!n)throw function Vj(e){return new Se(3401,!1)}();return n}trigger(t,n,i,r=!0){const s=this._getTrigger(n),o=new fg(this.id,n,t);let a=this._engine.statesByElement.get(t);a||(li(t,wu),li(t,wu+"-"+n),this._engine.statesByElement.set(t,a=new Map));let l=a.get(n);const c=new dg(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=hg),c.value!==tl&&l.value===c.value){if(!function zV(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const s=n[r];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}(l.params,c.params)){const le=[],we=s.matchStyles(l.value,l.params,le),Ae=s.matchStyles(c.value,c.params,le);le.length?this._engine.reportError(le):this._engine.afterFlush(()=>{is(t,we),Ui(t,Ae)})}return}const G=$n(this._engine.playersByElement,t,[]);G.forEach(le=>{le.namespaceId==this.id&&le.triggerName==n&&le.queued&&le.destroy()});let K=s.matchTransition(l.value,c.value,t,c.params),se=!1;if(!K){if(!r)return;K=s.fallbackTransition,se=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:K,fromState:l,toState:c,player:o,isFallbackTransition:se}),se||(li(t,mS),o.onStart(()=>{Do(t,mS)})),o.onDone(()=>{let le=this.players.indexOf(o);le>=0&&this.players.splice(le,1);const we=this._engine.playersByElement.get(t);if(we){let Ae=we.indexOf(o);Ae>=0&&we.splice(Ae,1)}}),this.players.push(o),G.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(n=>n.delete(t)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const n=this._engine.playersByElement.get(t);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){const i=this._engine.driver.query(t,Eu,!0);i.forEach(r=>{if(r[Ci])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,n,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const h=this.trigger(t,c,tl,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,n,o),i&&Ar(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const n=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(n&&i){const r=new Set;n.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||hg,h=new dg(tl),T=new fg(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:h,player:T,isFallbackTransition:!0})})}}removeNode(t,n){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,n);else{const s=t[Ci];(!s||s===_S)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,n))}}insertNode(t,n){li(t,this._hostClassName)}drainQueuedTransitions(t){const n=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=Yp(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,qp(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class LV{_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}constructor(t,n,i){this.bodyNode=t,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,n){const i=new NV(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,n){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return r.set(n,t),t}register(t,n){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,n)),i}registerTrigger(t,n,i){let r=this._namespaceLookup[t];r&&r.register(n,i)&&this.totalAnimations++}destroy(t,n){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const n=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&n.add(s)}return n}trigger(t,n,i,r){if(Pu(n)){const s=this._fetchNamespace(t);if(s)return s.trigger(n,i,r),!0}return!1}insertNode(t,n,i,r){if(!Pu(n))return;const s=n[Ci];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),li(t,ug)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Do(t,ug))}removeNode(t,n,i){if(Pu(n)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(n,i):this.markElementAsRemoved(t,n,!1,i);const s=this.namespacesByHostElement.get(n);s&&s.id!==t&&s.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(t,n,i,r,s){this.collectedLeaveElements.push(n),n[Ci]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,n,i,r,s){return Pu(n)?this._fetchNamespace(t).listen(n,i,r,s):()=>{}}_buildInstruction(t,n,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,n,s)}destroyInnerAnimations(t){let n=this.driver.query(t,Eu,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,Jp,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const n=this.playersByElement.get(t);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const n=this.playersByQueriedElement.get(t);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ar(this.players).onDone(()=>t());t()})}processLeaveNode(t){const n=t[Ci];if(n&&n.setForRemoval){if(t[Ci]=_S,n.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}t.classList?.contains(ug)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)li(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{n=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],n.length?Ar(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Uj(e){return new Se(3402,!1)}()}_flushAnimations(t,n){const i=new Mu,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(je=>{h.add(je);const ze=this.driver.query(je,".ng-animate-queued",!0);for(let We=0;We<ze.length;We++)h.add(ze[We])});const T=this.bodyNode,G=Array.from(this.statesByElement.keys()),K=yS(G,this.collectedEnterElements),se=new Map;let le=0;K.forEach((je,ze)=>{const We=Qp+le++;se.set(ze,We),je.forEach(dt=>li(dt,We))});const we=[],Ae=new Set,_e=new Set;for(let je=0;je<this.collectedLeaveElements.length;je++){const ze=this.collectedLeaveElements[je],We=ze[Ci];We&&We.setForRemoval&&(we.push(ze),Ae.add(ze),We.hasAnimation?this.driver.query(ze,".ng-star-inserted",!0).forEach(dt=>Ae.add(dt)):_e.add(ze))}const Oe=new Map,Be=yS(G,Array.from(Ae));Be.forEach((je,ze)=>{const We=yu+le++;Oe.set(ze,We),je.forEach(dt=>li(dt,We))}),t.push(()=>{K.forEach((je,ze)=>{const We=se.get(ze);je.forEach(dt=>Do(dt,We))}),Be.forEach((je,ze)=>{const We=Oe.get(ze);je.forEach(dt=>Do(dt,We))}),we.forEach(je=>{this.processLeaveNode(je)})});const Qe=[],St=[];for(let je=this._namespaceList.length-1;je>=0;je--)this._namespaceList[je].drainQueuedTransitions(n).forEach(We=>{const dt=We.player,en=We.element;if(Qe.push(dt),this.collectedEnterElements.length){const gn=en[Ci];if(gn&&gn.setForMove){if(gn.previousTriggersValues&&gn.previousTriggersValues.has(We.triggerName)){const hs=gn.previousTriggersValues.get(We.triggerName),ci=this.statesByElement.get(We.element);if(ci&&ci.has(We.triggerName)){const Wu=ci.get(We.triggerName);Wu.value=hs,ci.set(We.triggerName,Wu)}}return void dt.destroy()}}const zi=!T||!this.driver.containsElement(T,en),qn=Oe.get(en),Tr=se.get(en),Ft=this._buildInstruction(We,i,Tr,qn,zi);if(Ft.errors&&Ft.errors.length)return void St.push(Ft);if(zi)return dt.onStart(()=>is(en,Ft.fromStyles)),dt.onDestroy(()=>Ui(en,Ft.toStyles)),void r.push(dt);if(We.isFallbackTransition)return dt.onStart(()=>is(en,Ft.fromStyles)),dt.onDestroy(()=>Ui(en,Ft.toStyles)),void r.push(dt);const MA=[];Ft.timelines.forEach(gn=>{gn.stretchStartingKeyframe=!0,this.disabledNodes.has(gn.element)||MA.push(gn)}),Ft.timelines=MA,i.append(en,Ft.timelines),o.push({instruction:Ft,player:dt,element:en}),Ft.queriedElements.forEach(gn=>$n(a,gn,[]).push(dt)),Ft.preStyleProps.forEach((gn,hs)=>{if(gn.size){let ci=l.get(hs);ci||l.set(hs,ci=new Set),gn.forEach((Wu,jg)=>ci.add(jg))}}),Ft.postStyleProps.forEach((gn,hs)=>{let ci=c.get(hs);ci||c.set(hs,ci=new Set),gn.forEach((Wu,jg)=>ci.add(jg))})});if(St.length){const je=[];St.forEach(ze=>{je.push(function Hj(e,t){return new Se(3505,!1)}())}),Qe.forEach(ze=>ze.destroy()),this.reportError(je)}const Pt=new Map,ln=new Map;o.forEach(je=>{const ze=je.element;i.has(ze)&&(ln.set(ze,ze),this._beforeAnimationBuild(je.player.namespaceId,je.instruction,Pt))}),r.forEach(je=>{const ze=je.element;this._getPreviousPlayers(ze,!1,je.namespaceId,je.triggerName,null).forEach(dt=>{$n(Pt,ze,[]).push(dt),dt.destroy()})});const Gn=we.filter(je=>ES(je,l,c)),Si=new Map;bS(Si,this.driver,_e,c,sr).forEach(je=>{ES(je,l,c)&&Gn.push(je)});const dl=new Map;K.forEach((je,ze)=>{bS(dl,this.driver,new Set(je),l,"!")}),Gn.forEach(je=>{const ze=Si.get(je),We=dl.get(je);Si.set(je,new Map([...ze?.entries()??[],...We?.entries()??[]]))});const ds=[],DA=[],xA={};o.forEach(je=>{const{element:ze,player:We,instruction:dt}=je;if(i.has(ze)){if(h.has(ze))return We.onDestroy(()=>Ui(ze,dt.toStyles)),We.disabled=!0,We.overrideTotalTime(dt.totalTime),void r.push(We);let en=xA;if(ln.size>1){let qn=ze;const Tr=[];for(;qn=qn.parentNode;){const Ft=ln.get(qn);if(Ft){en=Ft;break}Tr.push(qn)}Tr.forEach(Ft=>ln.set(Ft,en))}const zi=this._buildAnimation(We.namespaceId,dt,Pt,s,dl,Si);if(We.setRealPlayer(zi),en===xA)ds.push(We);else{const qn=this.playersByElement.get(en);qn&&qn.length&&(We.parentPlayer=Ar(qn)),r.push(We)}}else is(ze,dt.fromStyles),We.onDestroy(()=>Ui(ze,dt.toStyles)),DA.push(We),h.has(ze)&&r.push(We)}),DA.forEach(je=>{const ze=s.get(je.element);if(ze&&ze.length){const We=Ar(ze);je.setRealPlayer(We)}}),r.forEach(je=>{je.parentPlayer?je.syncPlayerEvents(je.parentPlayer):je.destroy()});for(let je=0;je<we.length;je++){const ze=we[je],We=ze[Ci];if(Do(ze,yu),We&&We.hasAnimation)continue;let dt=[];if(a.size){let zi=a.get(ze);zi&&zi.length&&dt.push(...zi);let qn=this.driver.query(ze,Jp,!0);for(let Tr=0;Tr<qn.length;Tr++){let Ft=a.get(qn[Tr]);Ft&&Ft.length&&dt.push(...Ft)}}const en=dt.filter(zi=>!zi.destroyed);en.length?UV(this,ze,en):this.processLeaveNode(ze)}return we.length=0,ds.forEach(je=>{this.players.push(je),je.onDone(()=>{je.destroy();const ze=this.players.indexOf(je);this.players.splice(ze,1)}),je.play()}),ds}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,i,r,s){let o=[];if(n){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==tl;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,n,i){const s=n.element,o=n.isRemovalTransition?void 0:t,a=n.isRemovalTransition?void 0:n.triggerName;for(const l of n.timelines){const c=l.element,h=c!==s,T=$n(i,c,[]);this._getPreviousPlayers(c,h,o,a,n.toState).forEach(K=>{const se=K.getRealPlayer();se.beforeDestroy&&se.beforeDestroy(),K.destroy(),T.push(K)})}is(s,n.fromStyles)}_buildAnimation(t,n,i,r,s,o){const a=n.triggerName,l=n.element,c=[],h=new Set,T=new Set,G=n.timelines.map(se=>{const le=se.element;h.add(le);const we=le[Ci];if(we&&we.removedBeforeQueried)return new Za(se.duration,se.delay);const Ae=le!==l,_e=function HV(e){const t=[];return wS(e,t),t}((i.get(le)||OV).map(Pt=>Pt.getRealPlayer())).filter(Pt=>!!Pt.element&&Pt.element===le),Oe=s.get(le),Be=o.get(le),Qe=ZC(this._normalizer,se.keyframes,Oe,Be),St=this._buildPlayer(se,Qe,_e);if(se.subTimeline&&r&&T.add(le),Ae){const Pt=new fg(t,a,le);Pt.setRealPlayer(St),c.push(Pt)}return St});c.forEach(se=>{$n(this.playersByQueriedElement,se.element,[]).push(se),se.onDone(()=>function BV(e,t,n){let i=e.get(t);if(i){if(i.length){const r=i.indexOf(n);i.splice(r,1)}0==i.length&&e.delete(t)}return i}(this.playersByQueriedElement,se.element,se))}),h.forEach(se=>li(se,rS));const K=Ar(G);return K.onDestroy(()=>{h.forEach(se=>Do(se,rS)),Ui(l,n.toStyles)}),T.forEach(se=>{$n(r,se,[]).push(K)}),K}_buildPlayer(t,n,i){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,i):new Za(t.duration,t.delay)}}class fg{constructor(t,n,i){this.namespaceId=t,this.triggerName=n,this.element=i,this._player=new Za,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>qp(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){$n(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const n=this._player;n.triggerCallback&&n.triggerCallback(t)}}function Pu(e){return e&&1===e.nodeType}function vS(e,t){const n=e.style.display;return e.style.display=t??"none",n}function bS(e,t,n,i,r){const s=[];n.forEach(l=>s.push(vS(l)));const o=[];i.forEach((l,c)=>{const h=new Map;l.forEach(T=>{const G=t.computeStyle(c,T,r);h.set(T,G),(!G||0==G.length)&&(c[Ci]=FV,o.push(c))}),e.set(c,h)});let a=0;return n.forEach(l=>vS(l,s[a++])),o}function yS(e,t){const n=new Map;if(e.forEach(a=>n.set(a,[])),0==t.length)return n;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=n.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&n.get(l).push(a)}),n}function li(e,t){e.classList?.add(t)}function Do(e,t){e.classList?.remove(t)}function UV(e,t,n){Ar(n).onDone(()=>e.processLeaveNode(t))}function wS(e,t){for(let n=0;n<e.length;n++){const i=e[n];i instanceof YC?wS(i.players,t):t.push(i)}}function ES(e,t,n){const i=n.get(e);if(!i)return!1;let r=t.get(e);return r?i.forEach(s=>r.add(s)):t.set(e,i),n.delete(e),!0}class Ru{constructor(t,n,i){this.bodyNode=t,this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new LV(t,n,i),this._timelineEngine=new TV(t,n,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,n,i,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],h=ig(this._driver,s,l,[]);if(l.length)throw function Pj(e,t){return new Se(3404,!1)}();a=function AV(e,t,n){return new DV(e,t,n)}(r,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,r,a)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,i,r){this._transitionEngine.insertNode(t,n,i,r)}onRemove(t,n,i){this._transitionEngine.removeNode(t,n,i)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,i,r){if("@"==i.charAt(0)){const[s,o]=QC(i);this._timelineEngine.command(s,n,o,r)}else this._transitionEngine.trigger(t,n,i,r)}listen(t,n,i,r,s){if("@"==i.charAt(0)){const[o,a]=QC(i);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(t,n,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let WV=(()=>{class e{static#e=this.initialStylesByElement=new WeakMap;constructor(n,i,r){this._element=n,this._startStyles=i,this._endStyles=r,this._state=0;let s=e.initialStylesByElement.get(n);s||e.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ui(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ui(this._element,this._initialStyles),this._endStyles&&(Ui(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(is(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(is(this._element,this._endStyles),this._endStyles=null),Ui(this._element,this._initialStyles),this._state=3)}}return e})();function pg(e){let t=null;return e.forEach((n,i)=>{(function GV(e){return"display"===e||"position"===e})(i)&&(t=t||new Map,t.set(i,n))}),t}class CS{constructor(t,n,i,r){this.element=t,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const n=[];return t.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(t,n,i){return t.animate(this._convertKeyframesToObject(n),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:lS(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const n="start"===t?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class qV{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,n){return!1}containsElement(t,n){return eS(t,n)}getParentElement(t){return Kp(t)}query(t,n,i){return tS(t,n,i)}computeStyle(t,n,i){return window.getComputedStyle(t)[n]}animate(t,n,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,h=o.filter(K=>K instanceof CS);(function eV(e,t){return 0===e||0===t})(i,r)&&h.forEach(K=>{K.currentSnapshot.forEach((se,le)=>c.set(le,se))});let T=function Zj(e){return e.length?e[0]instanceof Map?e:e.map(t=>sS(t)):[]}(n).map(K=>Dr(K));T=function tV(e,t,n){if(n.size&&t.length){let i=t[0],r=[];if(n.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,lS(e,a)))}}return t}(t,T,c);const G=function $V(e,t){let n=null,i=null;return Array.isArray(t)&&t.length?(n=pg(t[0]),t.length>1&&(i=pg(t[t.length-1]))):t instanceof Map&&(n=pg(t)),n||i?new WV(e,n,i):null}(t,T);return new CS(t,T,l,G)}}let XV=(()=>{class e extends GC{constructor(n,i){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(i.body,{id:"0",encapsulation:Qn.None,styles:[],data:{animation:[]}})}build(n){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(n)?qC(n):n;return SS(this._renderer,null,i,"register",[r]),new YV(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||e)(xe(la),xe(mt))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();class YV extends tj{constructor(t,n){super(),this._id=t,this._renderer=n}create(t,n){return new KV(this._id,t,n||{},this._renderer)}}class KV{constructor(t,n,i,r){this.id=t,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,n){return this._renderer.listen(this.element,`@@${this.id}:${t}`,n)}_command(t,...n){return SS(this._renderer,this.element,this.id,t,n)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function SS(e,t,n,i,r){return e.setProperty(t,`@@${n}:${i}`,r)}const AS="@.disabled";let ZV=(()=>{class e{constructor(n,i,r){this.delegate=n,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(n,i){const s=this.delegate.createRenderer(n,i);if(!(n&&i&&i.data&&i.data.animation)){let h=this._rendererCache.get(s);return h||(h=new DS("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,h)),h}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const l=h=>{Array.isArray(h)?h.forEach(l):this.engine.registerTrigger(o,a,n,h.name,h)};return i.data.animation.forEach(l),new QV(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,i,r){n>=0&&n<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||e)(xe(la),xe(Ru),xe(at))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();class DS{constructor(t,n,i,r){this.namespaceId=t,this.delegate=n,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,i,r=!0){this.delegate.insertBefore(t,n,i),this.engine.onInsert(this.namespaceId,n,t,r)}removeChild(t,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,i,r){this.delegate.setAttribute(t,n,i,r)}removeAttribute(t,n,i){this.delegate.removeAttribute(t,n,i)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,i,r){this.delegate.setStyle(t,n,i,r)}removeStyle(t,n,i){this.delegate.removeStyle(t,n,i)}setProperty(t,n,i){"@"==n.charAt(0)&&n==AS?this.disableAnimations(t,!!i):this.delegate.setProperty(t,n,i)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,i){return this.delegate.listen(t,n,i)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}}class QV extends DS{constructor(t,n,i,r,s){super(n,i,r,s),this.factory=t,this.namespaceId=n}setProperty(t,n,i){"@"==n.charAt(0)?"."==n.charAt(1)&&n==AS?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,n.slice(1),i):this.delegate.setProperty(t,n,i)}listen(t,n,i){if("@"==n.charAt(0)){const r=function JV(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function eU(e){const t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,n,i)}}const xS=[{provide:GC,useClass:XV},{provide:lg,useFactory:function nU(){return new wV}},{provide:Ru,useClass:(()=>{class e extends Ru{constructor(n,i,r,s){super(n.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||e)(xe(mt),xe(Zp),xe(lg),xe(br))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})()},{provide:la,useFactory:function iU(e,t,n){return new ZV(e,t,n)},deps:[mp,Ru,at]}],gg=[{provide:Zp,useFactory:()=>new qV},{provide:hh,useValue:"BrowserAnimations"},...xS],MS=[{provide:Zp,useClass:nS},{provide:hh,useValue:"NoopAnimations"},...xS];let mg,TS=(()=>{class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?MS:gg}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=$t({type:e});static#n=this.\u0275inj=jt({providers:gg,imports:[PE]})}return e})();try{mg=typeof Intl<"u"&&Intl.v8BreakIterator}catch{mg=!1}let nl,os,ss=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?function CN(e){return e===fE}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!mg)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||e)(xe(Wr))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function il(e){return function rU(){if(null==nl&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>nl=!0}))}finally{nl=nl||!1}return nl}()?e:!!e.capture}function sU(){if(null==os){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return os=!1,os;if("scrollBehavior"in document.documentElement.style)os=!0;else{const e=Element.prototype.scrollTo;os=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return os}function vg(e){return e.composedPath?e.composedPath()[0]:e.target}function bg(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Fu(e){return Array.isArray(e)?e:[e]}function Gt(e){return null==e?"":"string"==typeof e?e:`${e}px`}function yg(e){return e instanceof ni?e.nativeElement:e}class pU extends oe{constructor(t,n){super()}schedule(t,n=0){return this}}const Nu={setInterval(e,t,...n){const{delegate:i}=Nu;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=Nu;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class wg extends pU{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,i=0){return Nu.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return n;null!=n&&Nu.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,n);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ee(i,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}const PS={now:()=>(PS.delegate||Date).now(),delegate:void 0};class rl{constructor(t,n=rl.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}}rl.now=PS.now;class Eg extends rl{constructor(t,n=rl.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}}const Cg=new Eg(wg),gU=Cg,RS=new Set;let as,_U=(()=>{class e{constructor(n,i){this._platform=n,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):bU}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function vU(e,t){if(!RS.has(e))try{as||(as=document.createElement("style"),t&&(as.nonce=t),as.setAttribute("type","text/css"),document.head.appendChild(as)),as.sheet&&(as.sheet.insertRule(`@media ${e} {body{ }}`,0),RS.add(e))}catch(n){console.error(n)}}(n,this._nonce),this._matchMedia(n)}static#e=this.\u0275fac=function(i){return new(i||e)(xe(ss),xe(fh,8))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bU(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let yU=(()=>{class e{constructor(n,i){this._mediaMatcher=n,this._zone=i,this._queries=new Map,this._destroySubject=new d}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return kS(Fu(n)).some(r=>this._registerQuery(r).mql.matches)}observe(n){let s=Jc(kS(Fu(n)).map(o=>this._registerQuery(o).observable));return s=tu(s.pipe(wr(1)),s.pipe(function fU(e){return oi((t,n)=>e<=n)}(1),function mU(e,t=Cg){return $((n,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+e,h=t.now();if(h<c)return r=this.schedule(void 0,c-h),void i.add(r);a()}n.subscribe(X(i,c=>{s=c,o=t.now(),r||(r=t.schedule(l,e),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}(0))),s.pipe(J(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const i=this._mediaMatcher.matchMedia(n),s={observable:new x(o=>{const a=l=>this._zone.run(()=>o.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(HE(i),J(({matches:o})=>({query:n,matches:o})),Sp(this._destroySubject)),mql:i};return this._queries.set(n,s),s}static#e=this.\u0275fac=function(i){return new(i||e)(xe(_U),xe(at))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kS(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}const LS="cdk-high-contrast-black-on-white",BS="cdk-high-contrast-white-on-black",Sg="cdk-high-contrast-active";let PU=(()=>{class e{constructor(n,i){this._platform=n,this._document=i,this._breakpointSubscription=Le(yU).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(n):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(Sg,LS,BS),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?n.add(Sg,LS):2===i&&n.add(Sg,BS)}}static#e=this.\u0275fac=function(i){return new(i||e)(xe(ss),xe(mt))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const RU=new Pe("cdk-dir-doc",{providedIn:"root",factory:function kU(){return Le(mt)}}),OU=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let NU=(()=>{class e{constructor(n){this.value="ltr",this.change=new hn,n&&(this.value=function FU(e){const t=e?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?OU.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((n.body?n.body.dir:null)||(n.documentElement?n.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||e)(xe(RU,8))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sl=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=$t({type:e});static#n=this.\u0275inj=jt({})}return e})();const BU=new Pe("mat-sanity-checks",{providedIn:"root",factory:function LU(){return!0}});let Hi=(()=>{class e{constructor(n,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!bg()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}static#e=this.\u0275fac=function(i){return new(i||e)(xe(PU),xe(BU,8),xe(mt))};static#t=this.\u0275mod=$t({type:e});static#n=this.\u0275inj=jt({imports:[sl,sl]})}return e})();const US=il({passive:!0,capture:!0});class UU{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const n=vg(t);n&&this._events.get(t.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,n,i,r){const s=this._events.get(n);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,US)})}removeHandler(t,n,i){const r=this._events.get(t);if(!r)return;const s=r.get(n);s&&(s.delete(i),0===s.size&&r.delete(n),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,US)))}}class Ag{static#e=this._eventManager=new UU;constructor(t,n,i,r){this._target=t,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=yg(i))}fadeInRipple(t,n,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...HS,...i.animation},o=i.radius||function zU(e,t,n){const i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),r=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+r*r)}(t,n,r),a=t-r.left,l=n-r.top,c=s.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-o+"px",h.style.top=l-o+"px",h.style.height=2*o+"px",h.style.width=2*o+"px",null!=i.color&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(h);const T=window.getComputedStyle(h),K=T.transitionDuration,se="none"===T.transitionProperty||"0s"===K||"0s, 0s"===K||0===r.width&&0===r.height,le=new VU(this,h,i,se);h.style.transform="scale3d(1, 1, 1)",le.state=0,i.persistent||(this._mostRecentTransientRipple=le);return!se&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ae=()=>this._finishRippleTransition(le),_e=()=>this._destroyRipple(le);h.addEventListener("transitionend",Ae),h.addEventListener("transitioncancel",_e)}),this._activeRipples.set(le,null),(se||!c)&&this._finishRippleTransition(le),le}fadeOutRipple(t){if(2===t.state||3===t.state)return;const n=t.element,i={...HS,...t.config.animation};n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const n=yg(t);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,$S.forEach(i=>{Ag._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{WS.forEach(n=>{this._triggerElement.addEventListener(n,this,zS)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const n=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!n||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const n=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==n&&(t.element.removeEventListener("transitionend",n.onTransitionEnd),t.element.removeEventListener("transitioncancel",n.onTransitionCancel)),t.element.remove()}_onMousedown(t){const n=function MU(e){return 0===e.buttons||0===e.detail}(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!function TU(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=t.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&($S.forEach(n=>Ag._eventManager.removeHandler(n,t,this)),this._pointerUpEventsRegistered&&WS.forEach(n=>t.removeEventListener(n,this,zS)))}}let GS=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=$t({type:e});static#n=this.\u0275inj=jt({imports:[Hi,Hi]})}return e})(),GU=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=$t({type:e});static#n=this.\u0275inj=jt({imports:[Hi,GS,Hi]})}return e})(),qU=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=$t({type:e});static#n=this.\u0275inj=jt({imports:[Hi,Hi]})}return e})();const XU=["addListener","removeListener"],YU=["addEventListener","removeEventListener"],KU=["on","off"];function Dg(e,t,n,i){if(S(n)&&(i=n,n=void 0),i)return Dg(e,t,n).pipe(wp(i));const[r,s]=function JU(e){return S(e.addEventListener)&&S(e.removeEventListener)}(e)?YU.map(o=>a=>e[o](t,a,n)):function ZU(e){return S(e.addListener)&&S(e.removeListener)}(e)?XU.map(qS(e,t)):function QU(e){return S(e.on)&&S(e.off)}(e)?KU.map(qS(e,t)):[];if(!r&&Xn(e))return Jt(o=>Dg(o,t,n))(Xt(e));if(!r)throw new TypeError("Invalid event target");return new x(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function qS(e,t){return n=>i=>e[n](t,i)}const al={schedule(e){let t=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:i}=al;i&&(t=i.requestAnimationFrame,n=i.cancelAnimationFrame);const r=t(s=>{n=void 0,e(s)});return new oe(()=>n?.(r))},requestAnimationFrame(...e){const{delegate:t}=al;return(t?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:t}=al;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};new class tH extends Eg{flush(t){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===n&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===n&&i.shift();)t.unsubscribe();throw r}}}(class eH extends wg{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,i=0){return null!==i&&i>0?super.requestAsyncId(t,n,i):(t.actions.push(this),t._scheduled||(t._scheduled=al.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,n,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,n,i);const{actions:s}=t;null!=n&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==n&&(al.cancelAnimationFrame(n),t._scheduled=void 0)}});let xg,iH=1;const Lu={};function XS(e){return e in Lu&&(delete Lu[e],!0)}const rH={setImmediate(e){const t=iH++;return Lu[t]=!0,xg||(xg=Promise.resolve()),xg.then(()=>XS(t)&&e()),t},clearImmediate(e){XS(e)}},{setImmediate:sH,clearImmediate:oH}=rH,Bu={setImmediate(...e){const{delegate:t}=Bu;return(t?.setImmediate||sH)(...e)},clearImmediate(e){const{delegate:t}=Bu;return(t?.clearImmediate||oH)(e)},delegate:void 0};new class lH extends Eg{flush(t){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===n&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===n&&i.shift();)t.unsubscribe();throw r}}}(class aH extends wg{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,i=0){return null!==i&&i>0?super.requestAsyncId(t,n,i):(t.actions.push(this),t._scheduled||(t._scheduled=Bu.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,n,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,n,i);const{actions:s}=t;null!=n&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==n&&(Bu.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))}});function YS(e,t=Cg){return function uH(e){return $((t,n)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const c=r;r=null,n.next(c)}o&&n.complete()},l=()=>{s=null,o&&n.complete()};t.subscribe(X(n,c=>{i=!0,r=c,s||Xt(e(c)).subscribe(s=X(n,a,l))},()=>{o=!0,(!i||!s||s.closed)&&n.complete()}))})}(()=>function hH(e=0,t,n=gU){let i=-1;return null!=t&&(Ug(t)?n=t:i=t),new x(r=>{let s=function dH(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;s<0&&(s=0);let o=0;return n.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(e,t))}let pH=(()=>{class e{constructor(n,i,r){this._ngZone=n,this._platform=i,this._scrolled=new d,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const i=this.scrollContainers.get(n);i&&(i.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new x(i=>{this._globalSubscription||this._addGlobalListener();const r=n>0?this._scrolled.pipe(YS(n)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):He()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(n,i){const r=this.getAncestorScrollContainers(n);return this.scrolled(i).pipe(oi(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(n){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,n)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,i){let r=yg(i),s=n.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Dg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||e)(xe(at),xe(ss),xe(mt,8))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),KS=(()=>{class e{constructor(n,i,r){this._platform=n,this._change=new d,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(n.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+r,right:n.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,i=this._getWindow(),r=n.documentElement,s=r.getBoundingClientRect();return{top:-s.top||n.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||n.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(YS(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||e)(xe(ss),xe(at),xe(mt,8))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Mg=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=$t({type:e});static#n=this.\u0275inj=jt({})}return e})(),ZS=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=$t({type:e});static#n=this.\u0275inj=jt({imports:[sl,Mg,sl,Mg]})}return e})();class Tg{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class mH extends Tg{constructor(t,n,i,r,s){super(),this.component=t,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class _H extends Tg{constructor(t,n,i,r){super(),this.templateRef=t,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,n=this.context){return this.context=n,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class vH extends Tg{constructor(t){super(),this.element=t instanceof ni?t.nativeElement:t}}class bH{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof mH?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof _H?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof vH?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class yH extends bH{constructor(t,n,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Cn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);-1!==r&&n.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let wH=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=$t({type:e});static#n=this.\u0275inj=jt({})}return e})();const QS=sU();class EH{constructor(t,n){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Gt(-this._previousScrollPosition.left),t.style.top=Gt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),QS&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),QS&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const n=this._document.body,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}}class CH{constructor(t,n,i,r){this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(oi(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class JS{enable(){}disable(){}attach(){}}function Ig(e,t){return t.some(n=>e.bottom<n.top||e.top>n.bottom||e.right<n.left||e.left>n.right)}function eA(e,t){return t.some(n=>e.top<n.top||e.bottom>n.bottom||e.left<n.left||e.right>n.right)}class SH{constructor(t,n,i,r){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Ig(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let AH=(()=>{class e{constructor(n,i,r,s){this._scrollDispatcher=n,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new JS,this.close=o=>new CH(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new EH(this._viewportRuler,this._document),this.reposition=o=>new SH(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static#e=this.\u0275fac=function(i){return new(i||e)(xe(pH),xe(KS),xe(at),xe(mt))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class DH{constructor(t){if(this.scrollStrategy=new JS,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const n=Object.keys(t);for(const i of n)void 0!==t[i]&&(this[i]=t[i])}}}class xH{constructor(t,n){this.connectionPair=t,this.scrollableViewProperties=n}}let tA=(()=>{class e{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const i=this._attachedOverlays.indexOf(n);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||e)(xe(mt))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),MH=(()=>{class e extends tA{constructor(n,i){super(n),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||e)(xe(mt),xe(at,8))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),TH=(()=>{class e extends tA{constructor(n,i,r){super(n),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=vg(s)},this._clickListener=s=>{const o=vg(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const h=l[c];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(o)||h.overlayElement.contains(a))break;const T=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(s)):T.next(s)}}}add(n){if(super.add(n),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||e)(xe(mt),xe(ss),xe(at,8))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),nA=(()=>{class e{constructor(n,i){this._platform=i,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||bg()){const r=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(n),bg()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||e)(xe(mt),xe(ss))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class IH{constructor(t,n,i,r,s,o,a,l,c,h=!1){this._portalOutlet=t,this._host=n,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new d,this._attachments=new d,this._detachments=new d,this._locationChanges=oe.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new d,this._outsidePointerEvents=new d,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const n=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(wr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof n?.onDestroy&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Gt(this._config.width),t.height=Gt(this._config.height),t.minWidth=Gt(this._config.minWidth),t.minHeight=Gt(this._config.minHeight),t.maxWidth=Gt(this._config.maxWidth),t.maxHeight=Gt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,n,i){const r=Fu(n||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Sp(Gg(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const iA="cdk-overlay-connected-position-bounding-box",PH=/([A-Za-z%]+)$/;class RH{get positions(){return this._preferredPositions}constructor(t,n,i,r,s){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new d,this._resizeSubscription=oe.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(iA),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,n,a),h=this._getOverlayFit(c,n,i,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(h,c,i)?s.push({position:a,origin:l,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<h.visibleArea)&&(o={overlayFit:h,overlayPoint:c,originPoint:l,position:a,overlayRect:n})}if(s.length){let a=null,l=-1;for(const c of s){const h=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);h>l&&(l=h,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ls(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(iA),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,n)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,n,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?o:a}return n.left<0&&(r-=n.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,n.top<0&&(s-=n.top),{x:r,y:s}}_getOverlayPoint(t,n,i){let r,s;return r="center"==i.overlayX?-n.width/2:"start"===i.overlayX?this._isRtl()?-n.width:0:this._isRtl()?0:-n.width,s="center"==i.overlayY?-n.height/2:"top"==i.overlayY?0:-n.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,n,i,r){const s=sA(n);let{x:o,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let G=0-a,K=a+s.height-i.height,se=this._subtractOverflows(s.width,0-o,o+s.width-i.width),le=this._subtractOverflows(s.height,G,K),we=se*le;return{visibleArea:we,isCompletelyWithinViewport:s.width*s.height===we,fitsInViewportVertically:le===s.height,fitsInViewportHorizontally:se==s.width}}_canFitWithFlexibleDimensions(t,n,i){if(this._hasFlexibleDimensions){const r=i.bottom-n.y,s=i.right-n.x,o=rA(this._overlayRef.getConfig().minHeight),a=rA(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=o&&o<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(t,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=sA(n),s=this._viewportRect,o=Math.max(t.x+r.width-s.width,0),a=Math.max(t.y+r.height-s.height,0),l=Math.max(s.top-i.top-t.y,0),c=Math.max(s.left-i.left-t.x,0);let h=0,T=0;return h=r.width<=s.width?c||-o:t.x<this._viewportMargin?s.left-i.left-t.x:0,T=r.height<=s.height?l||-a:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:h,y:T},{x:t.x+h,y:t.y+T}}_applyPosition(t,n){if(this._setTransformOrigin(t),this._setOverlayElementStyles(n,t),this._setBoundingBoxStyles(n,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new xH(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const n=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<n.length;s++)n[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,n){const i=this._viewportRect,r=this._isRtl();let s,o,a,h,T,G;if("top"===n.overlayY)o=t.y,s=i.height-o+this._viewportMargin;else if("bottom"===n.overlayY)a=i.height-t.y+2*this._viewportMargin,s=i.height-a+this._viewportMargin;else{const K=Math.min(i.bottom-t.y+i.top,t.y),se=this._lastBoundingBoxSize.height;s=2*K,o=t.y-K,s>se&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-se/2)}if("end"===n.overlayX&&!r||"start"===n.overlayX&&r)G=i.width-t.x+this._viewportMargin,h=t.x-this._viewportMargin;else if("start"===n.overlayX&&!r||"end"===n.overlayX&&r)T=t.x,h=i.right-t.x;else{const K=Math.min(i.right-t.x+i.left,t.x),se=this._lastBoundingBoxSize.width;h=2*K,T=t.x-K,h>se&&!this._isInitialRender&&!this._growAfterOpen&&(T=t.x-se/2)}return{top:o,left:T,bottom:a,right:G,width:h,height:s}}_setBoundingBoxStyles(t,n){const i=this._calculateBoundingBoxRect(t,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Gt(i.height),r.top=Gt(i.top),r.bottom=Gt(i.bottom),r.width=Gt(i.width),r.left=Gt(i.left),r.right=Gt(i.right),r.alignItems="center"===n.overlayX?"center":"end"===n.overlayX?"flex-end":"flex-start",r.justifyContent="center"===n.overlayY?"center":"bottom"===n.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Gt(s)),o&&(r.maxWidth=Gt(o))}this._lastBoundingBoxSize=i,ls(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ls(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ls(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,n){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const h=this._viewportRuler.getViewportScrollPosition();ls(i,this._getExactOverlayY(n,t,h)),ls(i,this._getExactOverlayX(n,t,h))}else i.position="static";let a="",l=this._getOffset(n,"x"),c=this._getOffset(n,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=Gt(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=Gt(o.maxWidth):s&&(i.maxWidth="")),ls(this._pane.style,i)}_getExactOverlayY(t,n,i){let r={top:"",bottom:""},s=this._getOverlayPoint(n,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Gt(s.y),r}_getExactOverlayX(t,n,i){let o,r={left:"",right:""},s=this._getOverlayPoint(n,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Gt(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:eA(t,i),isOriginOutsideView:Ig(t,i),isOverlayClipped:eA(n,i),isOverlayOutsideView:Ig(n,i)}}_subtractOverflows(t,...n){return n.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:t-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,n){return"x"===n?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Fu(t).forEach(n=>{""!==n&&-1===this._appliedPanelClasses.indexOf(n)&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ni)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const n=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+n,height:i,width:n}}}function ls(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function rA(e){if("number"!=typeof e&&null!=e){const[t,n]=e.split(PH);return n&&"px"!==n?null:parseFloat(t)}return e||null}function sA(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}const oA="cdk-global-overlay-wrapper";class kH{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const n=t.getConfig();this._overlayRef=t,this._width&&!n.width&&t.updateSize({width:this._width}),this._height&&!n.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(oA),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),h=this._xPosition,T=this._xOffset,G="rtl"===this._overlayRef.getConfig().direction;let K="",se="",le="";l?le="flex-start":"center"===h?(le="center",G?se=T:K=T):G?"left"===h||"end"===h?(le="flex-end",K=T):("right"===h||"start"===h)&&(le="flex-start",se=T):"left"===h||"start"===h?(le="flex-start",K=T):("right"===h||"end"===h)&&(le="flex-end",se=T),t.position=this._cssPosition,t.marginLeft=l?"0":K,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":se,n.justifyContent=le,n.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(oA),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let OH=(()=>{class e{constructor(n,i,r,s){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new kH}flexibleConnectedTo(n){return new RH(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||e)(xe(KS),xe(mt),xe(ss),xe(nA))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),FH=0,Pg=(()=>{class e{constructor(n,i,r,s,o,a,l,c,h,T,G,K){this.scrollStrategies=n,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=h,this._location=T,this._outsideClickDispatcher=G,this._animationsModuleType=K}create(n){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new DH(n);return o.direction=o.direction||this._directionality.value,new IH(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(n){const i=this._document.createElement("div");return i.id="cdk-overlay-"+FH++,i.classList.add("cdk-overlay-pane"),n.appendChild(i),i}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(br)),new yH(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||e)(xe(AH),xe(nA),xe(aa),xe(OH),xe(MH),xe(Cn),xe(at),xe(mt),xe(NU),xe(jc),xe(TH),xe(hh,8))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const BH={provide:new Pe("cdk-connected-overlay-scroll-strategy"),deps:[Pg],useFactory:function LH(e){return()=>e.scrollStrategies.reposition()}};let jH=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=$t({type:e});static#n=this.\u0275inj=jt({providers:[Pg,BH],imports:[sl,wH,ZS,ZS]})}return e})();const zH={provide:new Pe("mat-menu-scroll-strategy"),deps:[Pg],useFactory:function HH(e){return()=>e.scrollStrategies.reposition()}};let $H=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=$t({type:e});static#n=this.\u0275inj=jt({providers:[zH],imports:[hE,GS,Hi,jH,Mg,Hi]})}return e})(),Sz=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=$t({type:e});static#n=this.\u0275inj=jt({imports:[Hi,Hi]})}return e})();var AA=te(627),Az=te.t(AA,2);te(16),function Mz(){return typeof window>"u"}()||function xz(e,t,n){e[t]=n}(Az,"verbosity",AA.VerbosityLevel.INFOS);let Iz=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=$t({type:e});static \u0275inj=jt({})}return e})(),Pz=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=$t({type:e,bootstrap:[cj]});static#n=this.\u0275inj=jt({imports:[PE,TS,GU,qU,Sz,$H,oj,TS,Iz]})}return e})();mL().bootstrapModule(Pz).catch(e=>console.error(e))},627:(module,__unused_webpack_exports,__webpack_require__)=>{var _asyncToGenerator=__webpack_require__(156).default,te;globalThis,te=()=>(()=>{"use strict";var __webpack_modules__=[,(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.VerbosityLevel=C.Util=C.UnknownErrorException=C.UnexpectedResponseException=C.UNSUPPORTED_FEATURES=C.TextRenderingMode=C.StreamType=C.RenderingIntentFlag=C.PermissionFlag=C.PasswordResponses=C.PasswordException=C.PageActionEventType=C.OPS=C.MissingPDFException=C.LINE_FACTOR=C.LINE_DESCENT_FACTOR=C.InvalidPDFException=C.ImageKind=C.IDENTITY_MATRIX=C.FormatError=C.FontType=C.FeatureTest=C.FONT_IDENTITY_MATRIX=C.DocumentActionEventType=C.CMapCompressionType=C.BaseException=C.AnnotationType=C.AnnotationStateModelType=C.AnnotationReviewState=C.AnnotationReplyType=C.AnnotationMode=C.AnnotationMarkedState=C.AnnotationFlag=C.AnnotationFieldFlag=C.AnnotationEditorType=C.AnnotationEditorPrefix=C.AnnotationEditorParamsType=C.AnnotationBorderStyleType=C.AnnotationActionEventType=C.AbortException=void 0,C.arrayByteLength=Te,C.arraysToBytes=function de(Ce){const he=Ce.length;if(1===he&&Ce[0]instanceof Uint8Array)return Ce[0];let fe=0;for(let bt=0;bt<he;bt++)fe+=Te(Ce[bt]);let Re=0;const Ge=new Uint8Array(fe);for(let bt=0;bt<he;bt++){let ut=Ce[bt];ut instanceof Uint8Array||(ut="string"==typeof ut?Ee(ut):new Uint8Array(ut));const ui=ut.byteLength;Ge.set(ut,Re),Re+=ui}return Ge},C.assert=function k(Ce,he){Ce||B(he)},C.bytesToString=function De(Ce){("object"!=typeof Ce||null===Ce||void 0===Ce.length)&&B("Invalid argument for bytesToString");const he=Ce.length;if(he<8192)return String.fromCharCode.apply(null,Ce);const Re=[];for(let Ge=0;Ge<he;Ge+=8192){const bt=Math.min(Ge+8192,he),ut=Ce.subarray(Ge,bt);Re.push(String.fromCharCode.apply(null,ut))}return Re.join("")},C.createPromiseCapability=function qt(){const Ce=Object.create(null);let he=!1;return Object.defineProperty(Ce,"settled",{get:()=>he}),Ce.promise=new Promise(function(fe,Re){Ce.resolve=function(Ge){he=!0,fe(Ge)},Ce.reject=function(Ge){he=!0,Re(Ge)}}),Ce},C.createValidAbsoluteUrl=function M(Ce,he=null,fe=null){if(!Ce)return null;try{if(fe&&"string"==typeof Ce){if(fe.addDefaultProtocol&&Ce.startsWith("www.")){const Ge=Ce.match(/\./g);Ge&&Ge.length>=2&&(Ce=`http://${Ce}`)}if(fe.tryConvertEncoding)try{Ce=Fn(Ce)}catch{}}const Re=he?new URL(Ce,he):new URL(Ce);if(function d(Ce){if(!Ce)return!1;switch(Ce.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(Re))return Re}catch{}return null},C.escapeString=function mn(Ce){return Ce.replace(/([()\\\n\r])/g,he=>"\n"===he?"\\n":"\r"===he?"\\r":`\\${he}`)},C.getModificationDate=function xn(Ce=new Date){return[Ce.getUTCFullYear().toString(),(Ce.getUTCMonth()+1).toString().padStart(2,"0"),Ce.getUTCDate().toString().padStart(2,"0"),Ce.getUTCHours().toString().padStart(2,"0"),Ce.getUTCMinutes().toString().padStart(2,"0"),Ce.getUTCSeconds().toString().padStart(2,"0")].join("")},C.getVerbosityLevel=function x(){return H},C.info=function f(Ce){H>=me.INFOS&&console.log(`Info: ${Ce}`)},C.isArrayBuffer=function fs(Ce){return"object"==typeof Ce&&null!==Ce&&void 0!==Ce.byteLength},C.isArrayEqual=function Mo(Ce,he){if(Ce.length!==he.length)return!1;for(let fe=0,Re=Ce.length;fe<Re;fe++)if(Ce[fe]!==he[fe])return!1;return!0},C.isAscii=function kt(Ce){return/^[\x00-\x7F]*$/.test(Ce)},C.objectFromMap=function ve(Ce){const he=Object.create(null);for(const[fe,Re]of Ce)he[fe]=Re;return he},C.objectSize=function Ie(Ce){return Object.keys(Ce).length},C.setVerbosityLevel=function U(Ce){Number.isInteger(Ce)&&(H=Ce)},C.shadow=L,C.string32=function ye(Ce){return String.fromCharCode(Ce>>24&255,Ce>>16&255,Ce>>8&255,255&Ce)},C.stringToBytes=Ee,C.stringToPDFString=function At(Ce){if(Ce[0]>="\xef"){let fe;if("\xfe"===Ce[0]&&"\xff"===Ce[1]?fe="utf-16be":"\xff"===Ce[0]&&"\xfe"===Ce[1]?fe="utf-16le":"\xef"===Ce[0]&&"\xbb"===Ce[1]&&"\xbf"===Ce[2]&&(fe="utf-8"),fe)try{const Re=new TextDecoder(fe,{fatal:!0}),Ge=Ee(Ce);return Re.decode(Ge)}catch(Re){w(`stringToPDFString: "${Re}".`)}}const he=[];for(let fe=0,Re=Ce.length;fe<Re;fe++){const Ge=Ct[Ce.charCodeAt(fe)];he.push(Ge?String.fromCharCode(Ge):Ce.charAt(fe))}return he.join("")},C.stringToUTF16BEString=function ht(Ce){const he=["\xfe\xff"];for(let fe=0,Re=Ce.length;fe<Re;fe++){const Ge=Ce.charCodeAt(fe);he.push(String.fromCharCode(Ge>>8&255),String.fromCharCode(255&Ge))}return he.join("")},C.stringToUTF8String=Fn,C.unreachable=B,C.utf8StringToString=function Ir(Ce){return unescape(encodeURIComponent(Ce))},C.warn=w,te(2),C.IDENTITY_MATRIX=[1,0,0,1,0,0],C.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],C.LINE_FACTOR=1.35,C.LINE_DESCENT_FACTOR=.35,C.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},C.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},C.AnnotationEditorPrefix="pdfjs_internal_editor_",C.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},C.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},C.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},C.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},C.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},C.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},C.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},C.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},C.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},C.AnnotationReplyType={GROUP:"Group",REPLY:"R"},C.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},C.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},C.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},C.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},C.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},C.PageActionEventType={O:"PageOpen",C:"PageClose"},C.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},C.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const me={ERRORS:0,WARNINGS:1,INFOS:5};C.VerbosityLevel=me,C.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},C.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},C.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},C.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let H=me.WARNINGS;function w(Ce){H>=me.WARNINGS&&console.log(`Warning: ${Ce}`)}function B(Ce){throw new Error(Ce)}function L(Ce,he,fe){return Object.defineProperty(Ce,he,{value:fe,enumerable:!0,configurable:!0,writable:!1}),fe}const $=function(){function he(fe,Re){this.constructor===he&&B("Cannot initialize BaseException."),this.message=fe,this.name=Re}return he.prototype=new Error,he.constructor=he,he}();function Ee(Ce){"string"!=typeof Ce&&B("Invalid argument for stringToBytes");const he=Ce.length,fe=new Uint8Array(he);for(let Re=0;Re<he;++Re)fe[Re]=255&Ce.charCodeAt(Re);return fe}function Te(Ce){return void 0!==Ce.length?Ce.length:void 0!==Ce.byteLength?Ce.byteLength:void B("Invalid argument for arrayByteLength")}C.BaseException=$,C.PasswordException=class X extends ${constructor(he,fe){super(he,"PasswordException"),this.code=fe}},C.UnknownErrorException=class ie extends ${constructor(he,fe){super(he,"UnknownErrorException"),this.details=fe}},C.InvalidPDFException=class J extends ${constructor(he){super(he,"InvalidPDFException")}},C.MissingPDFException=class ae extends ${constructor(he){super(he,"MissingPDFException")}},C.UnexpectedResponseException=class ce extends ${constructor(he,fe){super(he,"UnexpectedResponseException"),this.status=fe}},C.FormatError=class ue extends ${constructor(he){super(he,"FormatError")}},C.AbortException=class ge extends ${constructor(he){super(he,"AbortException")}},C.FeatureTest=class Ne{static get isLittleEndian(){return L(this,"isLittleEndian",function Ve(){const Ce=new Uint8Array(4);return Ce[0]=1,1===new Uint32Array(Ce.buffer,0,1)[0]}())}static get isEvalSupported(){return L(this,"isEvalSupported",function Ue(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return L(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const et=[...Array(256).keys()].map(Ce=>Ce.toString(16).padStart(2,"0"));class rt{static makeHexColor(he,fe,Re){return`#${et[he]}${et[fe]}${et[Re]}`}static scaleMinMax(he,fe){let Re;he[0]?(he[0]<0&&(Re=fe[0],fe[0]=fe[1],fe[1]=Re),fe[0]*=he[0],fe[1]*=he[0],he[3]<0&&(Re=fe[2],fe[2]=fe[3],fe[3]=Re),fe[2]*=he[3],fe[3]*=he[3]):(Re=fe[0],fe[0]=fe[2],fe[2]=Re,Re=fe[1],fe[1]=fe[3],fe[3]=Re,he[1]<0&&(Re=fe[2],fe[2]=fe[3],fe[3]=Re),fe[2]*=he[1],fe[3]*=he[1],he[2]<0&&(Re=fe[0],fe[0]=fe[1],fe[1]=Re),fe[0]*=he[2],fe[1]*=he[2]),fe[0]+=he[4],fe[1]+=he[4],fe[2]+=he[5],fe[3]+=he[5]}static transform(he,fe){return[he[0]*fe[0]+he[2]*fe[1],he[1]*fe[0]+he[3]*fe[1],he[0]*fe[2]+he[2]*fe[3],he[1]*fe[2]+he[3]*fe[3],he[0]*fe[4]+he[2]*fe[5]+he[4],he[1]*fe[4]+he[3]*fe[5]+he[5]]}static applyTransform(he,fe){return[he[0]*fe[0]+he[1]*fe[2]+fe[4],he[0]*fe[1]+he[1]*fe[3]+fe[5]]}static applyInverseTransform(he,fe){const Re=fe[0]*fe[3]-fe[1]*fe[2];return[(he[0]*fe[3]-he[1]*fe[2]+fe[2]*fe[5]-fe[4]*fe[3])/Re,(-he[0]*fe[1]+he[1]*fe[0]+fe[4]*fe[1]-fe[5]*fe[0])/Re]}static getAxialAlignedBoundingBox(he,fe){const Re=rt.applyTransform(he,fe),Ge=rt.applyTransform(he.slice(2,4),fe),bt=rt.applyTransform([he[0],he[3]],fe),ut=rt.applyTransform([he[2],he[1]],fe);return[Math.min(Re[0],Ge[0],bt[0],ut[0]),Math.min(Re[1],Ge[1],bt[1],ut[1]),Math.max(Re[0],Ge[0],bt[0],ut[0]),Math.max(Re[1],Ge[1],bt[1],ut[1])]}static inverseTransform(he){const fe=he[0]*he[3]-he[1]*he[2];return[he[3]/fe,-he[1]/fe,-he[2]/fe,he[0]/fe,(he[2]*he[5]-he[4]*he[3])/fe,(he[4]*he[1]-he[5]*he[0])/fe]}static apply3dTransform(he,fe){return[he[0]*fe[0]+he[1]*fe[1]+he[2]*fe[2],he[3]*fe[0]+he[4]*fe[1]+he[5]*fe[2],he[6]*fe[0]+he[7]*fe[1]+he[8]*fe[2]]}static singularValueDecompose2dScale(he){const fe=[he[0],he[2],he[1],he[3]],Re=he[0]*fe[0]+he[1]*fe[2],ut=he[2]*fe[1]+he[3]*fe[3],ui=(Re+ut)/2,Xn=Math.sqrt((Re+ut)**2-4*(Re*ut-(he[2]*fe[0]+he[3]*fe[2])*(he[0]*fe[1]+he[1]*fe[3])))/2,zt=ui-Xn||1;return[Math.sqrt(ui+Xn||1),Math.sqrt(zt)]}static normalizeRect(he){const fe=he.slice(0);return he[0]>he[2]&&(fe[0]=he[2],fe[2]=he[0]),he[1]>he[3]&&(fe[1]=he[3],fe[3]=he[1]),fe}static intersect(he,fe){const Re=Math.max(Math.min(he[0],he[2]),Math.min(fe[0],fe[2])),Ge=Math.min(Math.max(he[0],he[2]),Math.max(fe[0],fe[2]));if(Re>Ge)return null;const bt=Math.max(Math.min(he[1],he[3]),Math.min(fe[1],fe[3])),ut=Math.min(Math.max(he[1],he[3]),Math.max(fe[1],fe[3]));return bt>ut?null:[Re,bt,Ge,ut]}static bezierBoundingBox(he,fe,Re,Ge,bt,ut,ui,Xn){const Yn=[],zt=[[],[]];let di,hi,ps,Bt,Pr,Rr,gs,Xt;for(let To=0;To<2;++To)if(0===To?(hi=6*he-12*Re+6*bt,di=-3*he+9*Re-9*bt+3*ui,ps=3*Re-3*he):(hi=6*fe-12*Ge+6*ut,di=-3*fe+9*Ge-9*ut+3*Xn,ps=3*Ge-3*fe),Math.abs(di)<1e-12){if(Math.abs(hi)<1e-12)continue;Bt=-ps/hi,0<Bt&&Bt<1&&Yn.push(Bt)}else gs=hi*hi-4*ps*di,Xt=Math.sqrt(gs),!(gs<0)&&(Pr=(-hi+Xt)/(2*di),0<Pr&&Pr<1&&Yn.push(Pr),Rr=(-hi-Xt)/(2*di),0<Rr&&Rr<1&&Yn.push(Rr));let _n,kr=Yn.length;const Or=kr;for(;kr--;)Bt=Yn[kr],_n=1-Bt,zt[0][kr]=_n*_n*_n*he+3*_n*_n*Bt*Re+3*_n*Bt*Bt*bt+Bt*Bt*Bt*ui,zt[1][kr]=_n*_n*_n*fe+3*_n*_n*Bt*Ge+3*_n*Bt*Bt*ut+Bt*Bt*Bt*Xn;return zt[0][Or]=he,zt[1][Or]=fe,zt[0][Or+1]=ui,zt[1][Or+1]=Xn,zt[0].length=zt[1].length=Or+2,[Math.min(...zt[0]),Math.min(...zt[1]),Math.max(...zt[0]),Math.max(...zt[1])]}}C.Util=rt;const Ct=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Fn(Ce){return decodeURIComponent(escape(Ce))}},(be,C,te)=>{te(3)},(be,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.isNodeJS=void 0;const te=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);C.isNodeJS=te},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:be,NodeCMapReaderFactory:C,NodeStandardFontDataFactory:te}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=be,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=C,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=te}function setPDFNetworkStreamFactory(be){createPDFNetworkStream=be}function getDocument(be){const C=new PDFDocumentLoadingTask;let te;if("string"==typeof be||be instanceof URL)te={url:be};else if((0,_util.isArrayBuffer)(be))te={data:be};else if(be instanceof PDFDataRangeTransport)te={range:be};else{if("object"!=typeof be)throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!be.url&&!be.data&&!be.range)throw new Error("Invalid parameter object: need either .data, .range or .url");te=be}const S=Object.create(null);let j=null,re=null;for(const oe in te){const V=te[oe];switch(oe){case"url":if(typeof window<"u")try{S[oe]=new URL(V,window.location).href;continue}catch(m){(0,_util.warn)(`Cannot create valid URL: "${m}".`)}else if("string"==typeof V||V instanceof URL){S[oe]=V.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":j=V;continue;case"worker":re=V;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&V instanceof Buffer)S[oe]=new Uint8Array(V);else{if(V instanceof Uint8Array)break;if("string"==typeof V)S[oe]=(0,_util.stringToBytes)(V);else if("object"!=typeof V||null===V||isNaN(V.length)){if(!(0,_util.isArrayBuffer)(V))throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.");S[oe]=new Uint8Array(V)}else S[oe]=new Uint8Array(V)}continue}S[oe]=V}if(S.CMapReaderFactory=S.CMapReaderFactory||DefaultCMapReaderFactory,S.StandardFontDataFactory=S.StandardFontDataFactory||DefaultStandardFontDataFactory,S.ignoreErrors=!0!==S.stopAtErrors,S.fontExtraProperties=!0===S.fontExtraProperties,S.pdfBug=!0===S.pdfBug,S.enableXfa=!0===S.enableXfa,(!Number.isInteger(S.rangeChunkSize)||S.rangeChunkSize<1)&&(S.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof S.docBaseUrl||(0,_display_utils.isDataScheme)(S.docBaseUrl))&&(S.docBaseUrl=null),(!Number.isInteger(S.maxImageSize)||S.maxImageSize<-1)&&(S.maxImageSize=-1),"string"!=typeof S.cMapUrl&&(S.cMapUrl=null),"string"!=typeof S.standardFontDataUrl&&(S.standardFontDataUrl=null),"boolean"!=typeof S.useWorkerFetch&&(S.useWorkerFetch=S.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&S.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof S.isEvalSupported&&(S.isEvalSupported=!0),"boolean"!=typeof S.disableFontFace&&(S.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof S.useSystemFonts&&(S.useSystemFonts=!_is_node.isNodeJS&&!S.disableFontFace),("object"!=typeof S.ownerDocument||null===S.ownerDocument)&&(S.ownerDocument=globalThis.document),"boolean"!=typeof S.disableRange&&(S.disableRange=!1),"boolean"!=typeof S.disableStream&&(S.disableStream=!1),"boolean"!=typeof S.disableAutoFetch&&(S.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(S.verbosity),!re){const oe={verbosity:S.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};re=oe.port?PDFWorker.fromPort(oe):new PDFWorker(oe),C._worker=re}const ee=C.docId;return re.promise.then(function(){if(C.destroyed)throw new Error("Loading aborted");const oe=_fetchDocument(re,S,j,ee),V=new Promise(function(m){let D;j?D=new _transport_stream.PDFDataTransportStream({length:S.length,initialData:S.initialData,progressiveDone:S.progressiveDone,contentDispositionFilename:S.contentDispositionFilename,disableRange:S.disableRange,disableStream:S.disableStream},j):S.data||(D=createPDFNetworkStream({url:S.url,length:S.length,httpHeaders:S.httpHeaders,withCredentials:S.withCredentials,rangeChunkSize:S.rangeChunkSize,disableRange:S.disableRange,disableStream:S.disableStream})),m(D)});return Promise.all([oe,V]).then(function([m,D]){if(C.destroyed)throw new Error("Loading aborted");const p=new _message_handler.MessageHandler(ee,m,re.port),b=new WorkerTransport(p,C,D,S);C._transport=b,p.send("Ready",null)})}).catch(C._capability.reject),C}function _fetchDocument(be,C,te,S){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(be,C,te,S){if(be.destroyed)throw new Error("Worker was destroyed");te&&(C.length=te.length,C.initialData=te.initialData,C.progressiveDone=te.progressiveDone,C.contentDispositionFilename=te.contentDispositionFilename);const j=yield be.messageHandler.sendWithPromise("GetDocRequest",{docId:S,apiVersion:"2.16.105",source:{data:C.data,url:C.url,password:C.password,disableAutoFetch:C.disableAutoFetch,rangeChunkSize:C.rangeChunkSize,length:C.length},maxImageSize:C.maxImageSize,disableFontFace:C.disableFontFace,docBaseUrl:C.docBaseUrl,ignoreErrors:C.ignoreErrors,isEvalSupported:C.isEvalSupported,fontExtraProperties:C.fontExtraProperties,enableXfa:C.enableXfa,useSystemFonts:C.useSystemFonts,cMapUrl:C.useWorkerFetch?C.cMapUrl:null,standardFontDataUrl:C.useWorkerFetch?C.standardFontDataUrl:null});if(C.data&&(C.data=null),be.destroyed)throw new Error("Worker was destroyed");return j})).apply(this,arguments)}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var C=this;return _asyncToGenerator(function*(){C.destroyed=!0,yield C._transport?.destroy(),C._transport=null,C._worker&&(C._worker.destroy(),C._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(C,te,S=!1,j=null){this.length=C,this.initialData=te,this.progressiveDone=S,this.contentDispositionFilename=j,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(C){this._rangeListeners.push(C)}addProgressListener(C){this._progressListeners.push(C)}addProgressiveReadListener(C){this._progressiveReadListeners.push(C)}addProgressiveDoneListener(C){this._progressiveDoneListeners.push(C)}onDataRange(C,te){for(const S of this._rangeListeners)S(C,te)}onDataProgress(C,te){this._readyCapability.promise.then(()=>{for(const S of this._progressListeners)S(C,te)})}onDataProgressiveRead(C){this._readyCapability.promise.then(()=>{for(const te of this._progressiveReadListeners)te(C)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const C of this._progressiveDoneListeners)C()})}transportReady(){this._readyCapability.resolve()}requestDataRange(C,te){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(C,te){var j,S=this;this._pdfInfo=C,this._transport=te,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(j=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),S.stats||{streamTypes:{},fontTypes:{}}}),function(){return j.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(C){return this._transport.getPage(C)}getPageIndex(C){return this._transport.getPageIndex(C)}getDestinations(){return this._transport.getDestinations()}getDestination(C){return this._transport.getDestination(C)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(C=!1){return this._transport.startCleanup(C||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(C,te,S,j,re=!1){this._pageIndex=C,this._pageInfo=te,this._ownerDocument=j,this._transport=S,this._stats=re?new _display_utils.StatTimer:null,this._pdfBug=re,this.commonObjs=S.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:C,rotation:te=this.rotate,offsetX:S=0,offsetY:j=0,dontFlip:re=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:C,rotation:te,offsetX:S,offsetY:j,dontFlip:re})}getAnnotations({intent:C="display"}={}){const te=this._transport.getRenderingIntent(C);let S=this._annotationPromises.get(te.cacheKey);return S||(S=this._transport.getAnnotations(this._pageIndex,te.renderingIntent),this._annotationPromises.set(te.cacheKey,S),S=S.then(j=>{for(const re of j)void 0!==re.titleObj&&Object.defineProperty(re,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),re.titleObj.str)}),void 0!==re.contentsObj&&Object.defineProperty(re,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),re.contentsObj.str)});return j})),S}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var C=this;return _asyncToGenerator(function*(){return C._transport._htmlForXfa?.children[C._pageIndex]||null})()}render({canvasContext:C,viewport:te,intent:S="display",annotationMode:j=_util.AnnotationMode.ENABLE,transform:re=null,imageLayer:ee=null,canvasFactory:oe=null,background:V=null,optionalContentConfigPromise:m=null,annotationCanvasMap:D=null,pageColors:p=null,printAnnotationStorage:b=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&j===_util.AnnotationMode.ENABLE&&(j=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&j===_util.AnnotationMode.ENABLE&&(j=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const F=this._transport.getRenderingIntent(S,j,b);this.pendingCleanup=!1,m||(m=this._transport.getOptionalContentConfig());let y=this._intentStates.get(F.cacheKey);y||(y=Object.create(null),this._intentStates.set(F.cacheKey,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const v=oe||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),_=!!(F.renderingIntent&_util.RenderingIntentFlag.PRINT);y.displayReadyCapability||(y.displayReadyCapability=(0,_util.createPromiseCapability)(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(F));const O=E=>{y.renderTasks.delete(R),(this.cleanupAfterRender||_)&&(this.pendingCleanup=!0),this._tryCleanup(),E?(R.capability.reject(E),this._abortOperatorList({intentState:y,reason:E instanceof Error?E:new Error(E)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},R=new InternalRenderTask({callback:O,params:{canvasContext:C,viewport:te,transform:re,imageLayer:ee,background:V},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:D,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:v,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:p});(y.renderTasks||=new Set).add(R);const P=R.task;return Promise.all([y.displayReadyCapability.promise,m]).then(([E,u])=>{this.pendingCleanup?O():(this._stats&&this._stats.time("Rendering"),R.initializeGraphics({transparency:E,optionalContentConfig:u}),R.operatorListChanged())}).catch(O),P}getOperatorList({intent:C="display",annotationMode:te=_util.AnnotationMode.ENABLE,printAnnotationStorage:S=null}={}){const re=this._transport.getRenderingIntent(C,te,S,!0);let oe,ee=this._intentStates.get(re.cacheKey);return ee||(ee=Object.create(null),this._intentStates.set(re.cacheKey,ee)),ee.opListReadCapability||(oe=Object.create(null),oe.operatorListChanged=function j(){ee.operatorList.lastChunk&&(ee.opListReadCapability.resolve(ee.operatorList),ee.renderTasks.delete(oe))},ee.opListReadCapability=(0,_util.createPromiseCapability)(),(ee.renderTasks||=new Set).add(oe),ee.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(re)),ee.opListReadCapability.promise}streamTextContent({disableCombineTextItems:C=!1,includeMarkedContent:te=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==C,includeMarkedContent:!0===te},{highWaterMark:100,size:j=>j.items.length})}getTextContent(C={}){if(this._transport._htmlForXfa)return this.getXfa().then(S=>_xfa_text.XfaText.textContent(S));const te=this.streamTextContent(C);return new Promise(function(S,j){const ee=te.getReader(),oe={items:[],styles:Object.create(null)};!function re(){ee.read().then(function({value:V,done:m}){m?S(oe):(Object.assign(oe.styles,V.styles),oe.items.push(...V.items),re())},j)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const C=[];for(const te of this._intentStates.values())if(this._abortOperatorList({intentState:te,reason:new Error("Page was destroyed."),force:!0}),!te.opListReadCapability)for(const S of te.renderTasks)C.push(S.completed),S.cancel();this.objs.clear();for(const te of this._bitmaps)te.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(C)}cleanup(C=!1){return this.pendingCleanup=!0,this._tryCleanup(C)}_tryCleanup(C=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:te,operatorList:S}of this._intentStates.values())if(te.size>0||!S.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,C&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const te of this._bitmaps)te.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(C,te){const S=this._intentStates.get(te);S&&(this._stats&&this._stats.timeEnd("Page Request"),S.displayReadyCapability&&S.displayReadyCapability.resolve(C))}_renderPageChunk(C,te){for(let S=0,j=C.length;S<j;S++)te.operatorList.fnArray.push(C.fnArray[S]),te.operatorList.argsArray.push(C.argsArray[S]);te.operatorList.lastChunk=C.lastChunk,te.operatorList.separateAnnots=C.separateAnnots;for(const S of te.renderTasks)S.operatorListChanged();C.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:C,cacheKey:te,annotationStorageMap:S}){const re=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:C,cacheKey:te,annotationStorage:S}).getReader(),ee=this._intentStates.get(te);ee.streamReader=re;const oe=()=>{re.read().then(({value:V,done:m})=>{m?ee.streamReader=null:this._transport.destroyed||(this._renderPageChunk(V,ee),oe())},V=>{if(ee.streamReader=null,!this._transport.destroyed){if(ee.operatorList){ee.operatorList.lastChunk=!0;for(const m of ee.renderTasks)m.operatorListChanged();this._tryCleanup()}if(ee.displayReadyCapability)ee.displayReadyCapability.reject(V);else{if(!ee.opListReadCapability)throw V;ee.opListReadCapability.reject(V)}}})};oe()}_abortOperatorList({intentState:C,reason:te,force:S=!1}){if(C.streamReader){if(!S){if(C.renderTasks.size>0)return;if(te instanceof _display_utils.RenderingCancelledException)return void(C.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:C,reason:te,force:!0}),C.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(C.streamReader.cancel(new _util.AbortException(te.message)).catch(()=>{}),C.streamReader=null,!this._transport.destroyed){for(const[j,re]of this._intentStates)if(re===C){this._intentStates.delete(j);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(C,te){const S={data:structuredClone(C,te)};this._deferred.then(()=>{for(const j of this._listeners)j.call(this,S)})}addEventListener(C,te){this._listeners.push(te)}removeEventListener(C,te){const S=this._listeners.indexOf(te);this._listeners.splice(S,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const be=document?.currentScript?.src;be&&(PDFWorkerUtil.fallbackWorkerSrc=be.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(be,C){let te;try{if(te=new URL(be),!te.origin||"null"===te.origin)return!1}catch{return!1}const S=new URL(C,te);return te.origin===S.origin},PDFWorkerUtil.createCDNWrapper=function(be){return URL.createObjectURL(new Blob([`importScripts("${be}");`]))};class PDFWorker{static#workerPorts=new WeakMap;constructor({name:be=null,port:C=null,verbosity:te=(0,_util.getVerbosityLevel)()}={}){if(C&&PDFWorker.#workerPorts.has(C))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=be,this.destroyed=!1,this.verbosity=te,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,C)return PDFWorker.#workerPorts.set(C,this),void this._initializeFromPort(C);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(be){this._port=be,this._messageHandler=new _message_handler.MessageHandler("main","worker",be),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:be}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,be)||(be=PDFWorkerUtil.createCDNWrapper(new URL(be,window.location).href));const C=new Worker(be),te=new _message_handler.MessageHandler("main","worker",C),S=()=>{C.removeEventListener("error",j),te.destroy(),C.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},j=()=>{this._webWorker||S()};C.addEventListener("error",j),te.on("test",ee=>{C.removeEventListener("error",j),this.destroyed?S():ee?(this._messageHandler=te,this._port=C,this._webWorker=C,this._readyCapability.resolve(),te.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),te.destroy(),C.terminate())}),te.on("ready",ee=>{if(C.removeEventListener("error",j),this.destroyed)S();else try{re()}catch{this._setupFakeWorker()}});const re=()=>{const ee=new Uint8Array;te.send("test",ee,[ee.buffer])};return void re()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(be=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const C=new LoopbackPort;this._port=C;const te="fake"+PDFWorkerUtil.fakeWorkerId++,S=new _message_handler.MessageHandler(te+"_worker",te,C);be.setup(S,C);const j=new _message_handler.MessageHandler(te,te+"_worker",C);this._messageHandler=j,this._readyCapability.resolve(),j.send("configure",{verbosity:this.verbosity})}).catch(be=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${be.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(be){if(!be?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#workerPorts.has(be.port)?this.#workerPorts.get(be.port):new PDFWorker(be)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function be(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{#e=null;#t=new Map;#n=new Map;#i=null;constructor(C,te,S,j){this.messageHandler=C,this.loadingTask=te,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:te.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:j.ownerDocument,styleElement:j.styleElement}),this._params=j,j.useWorkerFetch||(this.CMapReaderFactory=new j.CMapReaderFactory({baseUrl:j.cMapUrl,isCompressed:j.cMapPacked}),this.StandardFontDataFactory=new j.StandardFontDataFactory({baseUrl:j.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=S,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#e}getRenderingIntent(C,te=_util.AnnotationMode.ENABLE,S=null,j=!1){let re=_util.RenderingIntentFlag.DISPLAY,ee=null;switch(C){case"any":re=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":re=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${C}`)}switch(te){case _util.AnnotationMode.DISABLE:re+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:re+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:re+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,ee=(re&_util.RenderingIntentFlag.PRINT&&S instanceof _annotation_storage.PrintAnnotationStorage?S:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${te}`)}return j&&(re+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:re,cacheKey:`${re}_${_annotation_storage.AnnotationStorage.getHash(ee)}`,annotationStorageMap:ee}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const C=[];for(const S of this.#t.values())C.push(S._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const te=this.messageHandler.sendWithPromise("Terminate",null);return C.push(te),Promise.all(C).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#i=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:C,loadingTask:te}=this;C.on("GetReader",(S,j)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=re=>{this._lastProgress={loaded:re.loaded,total:re.total}},j.onPull=()=>{this._fullReader.read().then(function({value:re,done:ee}){ee?j.close():((0,_util.assert)((0,_util.isArrayBuffer)(re),"GetReader - expected an ArrayBuffer."),j.enqueue(new Uint8Array(re),1,[re]))}).catch(re=>{j.error(re)})},j.onCancel=re=>{this._fullReader.cancel(re),j.ready.catch(ee=>{if(!this.destroyed)throw ee})}}),C.on("ReaderHeadersReady",S=>{const j=(0,_util.createPromiseCapability)(),re=this._fullReader;return re.headersReady.then(()=>{(!re.isStreamingSupported||!re.isRangeSupported)&&(this._lastProgress&&te.onProgress?.(this._lastProgress),re.onProgress=ee=>{te.onProgress?.({loaded:ee.loaded,total:ee.total})}),j.resolve({isStreamingSupported:re.isStreamingSupported,isRangeSupported:re.isRangeSupported,contentLength:re.contentLength})},j.reject),j.promise}),C.on("GetRangeReader",(S,j)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const re=this._networkStream.getRangeReader(S.begin,S.end);re?(j.onPull=()=>{re.read().then(function({value:ee,done:oe}){oe?j.close():((0,_util.assert)((0,_util.isArrayBuffer)(ee),"GetRangeReader - expected an ArrayBuffer."),j.enqueue(new Uint8Array(ee),1,[ee]))}).catch(ee=>{j.error(ee)})},j.onCancel=ee=>{re.cancel(ee),j.ready.catch(oe=>{if(!this.destroyed)throw oe})}):j.close()}),C.on("GetDoc",({pdfInfo:S})=>{this._numPages=S.numPages,this._htmlForXfa=S.htmlForXfa,delete S.htmlForXfa,te._capability.resolve(new PDFDocumentProxy(S,this))}),C.on("DocException",function(S){let j;switch(S.name){case"PasswordException":j=new _util.PasswordException(S.message,S.code);break;case"InvalidPDFException":j=new _util.InvalidPDFException(S.message);break;case"MissingPDFException":j=new _util.MissingPDFException(S.message);break;case"UnexpectedResponseException":j=new _util.UnexpectedResponseException(S.message,S.status);break;case"UnknownErrorException":j=new _util.UnknownErrorException(S.message,S.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}te._capability.reject(j)}),C.on("PasswordRequest",S=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),te.onPassword){const j=re=>{re instanceof Error?this._passwordCapability.reject(re):this._passwordCapability.resolve({password:re})};try{te.onPassword(j,S.code)}catch(re){this._passwordCapability.reject(re)}}else this._passwordCapability.reject(new _util.PasswordException(S.message,S.code));return this._passwordCapability.promise}),C.on("DataLoaded",S=>{te.onProgress?.({loaded:S.length,total:S.length}),this.downloadInfoCapability.resolve(S)}),C.on("StartRenderPage",S=>{this.destroyed||this.#t.get(S.pageIndex)._startRenderPage(S.transparency,S.cacheKey)}),C.on("commonobj",([S,j,re])=>{if(!this.destroyed&&!this.commonObjs.has(S))switch(j){case"Font":const ee=this._params;if("error"in re){const m=re.error;(0,_util.warn)(`Error during font loading: ${m}`),this.commonObjs.resolve(S,m);break}let oe=null;ee.pdfBug&&globalThis.FontInspector?.enabled&&(oe={registerFont(m,D){globalThis.FontInspector.fontAdded(m,D)}});const V=new _font_loader.FontFaceObject(re,{isEvalSupported:ee.isEvalSupported,disableFontFace:ee.disableFontFace,ignoreErrors:ee.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:oe});this.fontLoader.bind(V).catch(m=>C.sendWithPromise("FontFallback",{id:S})).finally(()=>{!ee.fontExtraProperties&&V.data&&(V.data=null),this.commonObjs.resolve(S,V)});break;case"FontPath":case"Image":this.commonObjs.resolve(S,re);break;default:throw new Error(`Got unknown common object type ${j}`)}}),C.on("obj",([S,j,re,ee])=>{if(this.destroyed)return;const oe=this.#t.get(j);if(!oe.objs.has(S))switch(re){case"Image":oe.objs.resolve(S,ee);const V=8e6;if(ee){let m;if(ee.bitmap){const{bitmap:D,width:p,height:b}=ee;m=p*b*4,oe._bitmaps.add(D)}else m=ee.data?.length||0;m>V&&(oe.cleanupAfterRender=!0)}break;case"Pattern":oe.objs.resolve(S,ee);break;default:throw new Error(`Got unknown object type ${re}`)}}),C.on("DocProgress",S=>{this.destroyed||te.onProgress?.({loaded:S.loaded,total:S.total})}),C.on("DocStats",S=>{this.destroyed||(this.#e=Object.freeze({streamTypes:Object.freeze(S.streamTypes),fontTypes:Object.freeze(S.fontTypes)}))}),C.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),C.on("FetchBuiltInCMap",S=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(S):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),C.on("FetchStandardFontData",S=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(S):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:C}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(C)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(C){if(!Number.isInteger(C)||C<=0||C>this._numPages)return Promise.reject(new Error("Invalid page request."));const te=C-1,S=this.#n.get(te);if(S)return S;const j=this.messageHandler.sendWithPromise("GetPage",{pageIndex:te}).then(re=>{if(this.destroyed)throw new Error("Transport destroyed");const ee=new PDFPageProxy(te,re,this,this._params.ownerDocument,this._params.pdfBug);return this.#t.set(te,ee),ee});return this.#n.set(te,j),j}getPageIndex(C){return"object"!=typeof C||null===C||!Number.isInteger(C.num)||C.num<0||!Number.isInteger(C.gen)||C.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:C.num,gen:C.gen})}getAnnotations(C,te){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:C,intent:te})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(C){return"string"!=typeof C?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:C})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(C){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:C})}getStructTree(C){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:C})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(C=>new _optional_content_config.OptionalContentConfig(C))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#i||=this.messageHandler.sendWithPromise("GetMetadata",null).then(C=>({info:C[0],metadata:C[1]?new _metadata.Metadata(C[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(C=!1){var te=this;return _asyncToGenerator(function*(){if(yield te.messageHandler.sendWithPromise("Cleanup",null),!te.destroyed){for(const S of te.#t.values())if(!S.cleanup())throw new Error(`startCleanup: Page ${S.pageNumber} is currently rendering.`);te.commonObjs.clear(),C||te.fontLoader.clear(),te.#i=null,te._getFieldObjectsPromise=null,te._hasJSActionsPromise=null}})()}get loadingParams(){const C=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:C.disableAutoFetch,enableXfa:C.enableXfa})}}class PDFObjects{#e=Object.create(null);#t(C){return this.#e[C]||(this.#e[C]={capability:(0,_util.createPromiseCapability)(),data:null})}get(C,te=null){if(te){const j=this.#t(C);return j.capability.promise.then(()=>te(j.data)),null}const S=this.#e[C];if(!S?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${C}.`);return S.data}has(C){return this.#e[C]?.capability.settled||!1}resolve(C,te=null){const S=this.#t(C);S.data=te,S.capability.resolve()}clear(){this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(C){this.#e=C,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(){this.#e.cancel()}get separateAnnots(){const{separateAnnots:C}=this.#e.operatorList;if(!C)return!1;const{annotationCanvasMap:te}=this.#e;return C.form||C.canvas&&te?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:C,params:te,objs:S,commonObjs:j,annotationCanvasMap:re,operatorList:ee,pageIndex:oe,canvasFactory:V,useRequestAnimationFrame:m=!1,pdfBug:D=!1,pageColors:p=null}){this.callback=C,this.params=te,this.objs=S,this.commonObjs=j,this.annotationCanvasMap=re,this.operatorListIdx=null,this.operatorList=ee,this._pageIndex=oe,this.canvasFactory=V,this._pdfBug=D,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===m&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=te.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:C=!1,optionalContentConfig:te}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:S,viewport:j,transform:re,imageLayer:ee,background:oe}=this.params;this.gfx=new _canvas.CanvasGraphics(S,this.commonObjs,this.objs,this.canvasFactory,ee,te,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:re,viewport:j,transparency:C,background:oe}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(C=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#e.delete(this._canvas),this.callback(C||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var C=this;return _asyncToGenerator(function*(){C.cancelled||(C.operatorListIdx=C.gfx.executeOperatorList(C.operatorList,C.operatorListIdx,C._continueBound,C.stepper),C.operatorListIdx===C.operatorList.argsArray.length&&(C.running=!1,C.operatorList.lastChunk&&(C.gfx.endDrawing(),C._canvas&&InternalRenderTask.#e.delete(C._canvas),C.callback())))})()}}const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.PrintAnnotationStorage=C.AnnotationStorage=void 0;var S=te(1),j=te(6),re=te(10);class ee{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(m,D){const p=this._storage.get(m);return void 0===p?D:Object.assign(D,p)}getRawValue(m){return this._storage.get(m)}remove(m){if(this._storage.delete(m),0===this._storage.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const D of this._storage.values())if(D instanceof j.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(m,D){const p=this._storage.get(m);let b=!1;if(void 0!==p)for(const[F,y]of Object.entries(D))p[F]!==y&&(b=!0,p[F]=y);else b=!0,this._storage.set(m,D);b&&this.#e(),D instanceof j.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(D.constructor._type)}has(m){return this._storage.has(m)}getAll(){return this._storage.size>0?(0,S.objectFromMap)(this._storage):null}get size(){return this._storage.size}#e(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new oe(this)}get serializable(){if(0===this._storage.size)return null;const m=new Map;for(const[D,p]of this._storage){const b=p instanceof j.AnnotationEditor?p.serialize():p;b&&m.set(D,b)}return m}static getHash(m){if(!m)return"";const D=new re.MurmurHash3_64;for(const[p,b]of m)D.update(`${p}:${JSON.stringify(b)}`);return D.hexdigest()}}C.AnnotationStorage=ee;class oe extends ee{#e=null;constructor(m){super(),this.#e=structuredClone(m.serializable)}get print(){(0,S.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}C.PrintAnnotationStorage=oe},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.AnnotationEditor=void 0;var S=te(7),j=te(1);class re{#e=this.focusin.bind(this);#t=this.focusout.bind(this);#n=!1;#i=!1;#s=!1;#c=re._zIndex++;static _colorManager=new S.ColorManager;static _zIndex=1;constructor(oe){this.constructor===re&&(0,j.unreachable)("Cannot initialize AnnotationEditor."),this.parent=oe.parent,this.id=oe.id,this.width=this.height=null,this.pageIndex=oe.parent.pageIndex,this.name=oe.name,this.div=null;const[V,m]=this.parent.viewportBaseDimensions;this.x=oe.x/V,this.y=oe.y/m,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,j.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#c}focusin(oe){this.#n?this.#n=!1:this.parent.setSelected(this)}focusout(oe){!this.isAttachedToDOM||oe.relatedTarget?.closest(`#${this.id}`)||(oe.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(oe){const V=this.parent.div.getBoundingClientRect();this.startX=oe.clientX-V.x,this.startY=oe.clientY-V.y,oe.dataTransfer.setData("text/plain",this.id),oe.dataTransfer.effectAllowed="move"}setAt(oe,V,m,D){const[p,b]=this.parent.viewportBaseDimensions;[m,D]=this.screenToPageTranslation(m,D),this.x=(oe+m)/p,this.y=(V+D)/b,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(oe,V){const[m,D]=this.parent.viewportBaseDimensions;[oe,V]=this.screenToPageTranslation(oe,V),this.x+=oe/m,this.y+=V/D,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(oe,V){const{rotation:m}=this.parent.viewport;switch(m){case 90:return[V,-oe];case 180:return[-oe,-V];case 270:return[-V,oe];default:return[oe,V]}}setDims(oe,V){const[m,D]=this.parent.viewportBaseDimensions;this.div.style.width=100*oe/m+"%",this.div.style.height=100*V/D+"%"}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#e),this.div.addEventListener("focusout",this.#t);const[oe,V]=this.getInitialTranslation();return this.translate(oe,V),(0,S.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(oe){const V=S.KeyboardManager.platform.isMac;0!==oe.button||oe.ctrlKey&&V?oe.preventDefault():(oe.ctrlKey&&!V||oe.shiftKey||oe.metaKey&&V?this.parent.toggleSelected(this):this.parent.setSelected(this),this.#n=!0)}getRect(oe,V){const[m,D]=this.parent.viewportBaseDimensions,[p,b]=this.parent.pageDimensions,F=p*oe/m,y=b*V/D,v=this.x*p,_=this.y*b,O=this.width*p,R=this.height*b;switch(this.rotation){case 0:return[v+F,b-_-y-R,v+F+O,b-_-y];case 90:return[v+y,b-_+F,v+y+R,b-_+F+O];case 180:return[v-F-O,b-_+y,v-F,b-_+y+R];case 270:return[v-y-R,b-_-F-O,v-y,b-_-F];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(oe,V){const[m,D,p,b]=oe,F=p-m,y=b-D;switch(this.rotation){case 0:return[m,V-b,F,y];case 90:return[m,V-D,y,F];case 180:return[p,V-D,F,y];case 270:return[p,V-b,y,F];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#s=!0}disableEditMode(){this.#s=!1}isInEditMode(){return this.#s}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#e)}serialize(){(0,j.unreachable)("An editor must be serializable")}static deserialize(oe,V){const m=new this.prototype.constructor({parent:V,id:V.getNextId()});m.rotation=oe.rotation;const[D,p]=V.pageDimensions,[b,F,y,v]=m.getRectInCurrentCoords(oe.rect,p);return m.x=b/D,m.y=F/p,m.width=y/D,m.height=v/p,m}remove(){this.div.removeEventListener("focusin",this.#e),this.div.removeEventListener("focusout",this.#t),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(oe,V){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return this.#i}set isEditing(oe){this.#i=oe,oe?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}C.AnnotationEditor=re},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.KeyboardManager=C.CommandManager=C.ColorManager=C.AnnotationEditorUIManager=void 0,C.bindEvents=function re(F,y,v){for(const _ of v)y.addEventListener(_,F[_].bind(F))},C.opacityToHex=function ee(F){return Math.round(Math.min(255,Math.max(1,255*F))).toString(16).padStart(2,"0")};var S=te(1),j=te(8);class oe{#e=0;getId(){return`${S.AnnotationEditorPrefix}${this.#e++}`}}class V{#e=[];#t=!1;#n;#i=-1;constructor(y=128){this.#n=y}add({cmd:y,undo:v,mustExec:_,type:O=NaN,overwriteIfSameType:R=!1,keepUndo:P=!1}){if(_&&y(),this.#t)return;const E={cmd:y,undo:v,type:O};if(-1===this.#i)return this.#e.length>0&&(this.#e.length=0),this.#i=0,void this.#e.push(E);if(R&&this.#e[this.#i].type===O)return P&&(E.undo=this.#e[this.#i].undo),void(this.#e[this.#i]=E);const u=this.#i+1;u===this.#n?this.#e.splice(0,1):(this.#i=u,u<this.#e.length&&this.#e.splice(u)),this.#e.push(E)}undo(){-1!==this.#i&&(this.#t=!0,this.#e[this.#i].undo(),this.#t=!1,this.#i-=1)}redo(){this.#i<this.#e.length-1&&(this.#i+=1,this.#t=!0,this.#e[this.#i].cmd(),this.#t=!1)}hasSomethingToUndo(){return-1!==this.#i}hasSomethingToRedo(){return this.#i<this.#e.length-1}destroy(){this.#e=null}}C.CommandManager=V;class m{constructor(y){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const v=m.platform.isMac;for(const[_,O]of y)for(const R of _){const P=R.startsWith("mac+");v&&P?(this.callbacks.set(R.slice(4),O),this.allKeys.add(R.split("+").at(-1))):!v&&!P&&(this.callbacks.set(R,O),this.allKeys.add(R.split("+").at(-1)))}}static get platform(){const y=typeof navigator<"u"?navigator.platform:"";return(0,S.shadow)(this,"platform",{isWin:y.includes("Win"),isMac:y.includes("Mac")})}#e(y){y.altKey&&this.buffer.push("alt"),y.ctrlKey&&this.buffer.push("ctrl"),y.metaKey&&this.buffer.push("meta"),y.shiftKey&&this.buffer.push("shift"),this.buffer.push(y.key);const v=this.buffer.join("+");return this.buffer.length=0,v}exec(y,v){if(!this.allKeys.has(v.key))return;const _=this.callbacks.get(this.#e(v));_&&(_.bind(y)(),v.stopPropagation(),v.preventDefault())}}C.KeyboardManager=m;class D{#e=null;copy(y){y&&(Array.isArray(y)?this.#e=y.map(v=>v.serialize()):this.#e=[y.serialize()],this.#e=this.#e.filter(v=>!!v),0===this.#e.length&&(this.#e=null))}paste(){return this.#e}isEmpty(){return null===this.#e}destroy(){this.#e=null}}class p{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const y=new Map([["CanvasText",null],["Canvas",null]]);return(0,j.getColorValues)(y),(0,S.shadow)(this,"_colors",y)}convert(y){const v=(0,j.getRGB)(y);if(!window.matchMedia("(forced-colors: active)").matches)return v;for(const[_,O]of this._colors)if(O.every((R,P)=>R===v[P]))return p._colorsMapping.get(_);return v}getHexCode(y){const v=this._colors.get(y);return v?S.Util.makeHexColor(...v):y}}C.ColorManager=p;class b{#e=null;#t=new Map;#n=new Map;#i=new D;#s=new V;#c=0;#a=null;#r=null;#h=new oe;#u=!1;#l=S.AnnotationEditorType.NONE;#o=new Set;#p=this.keydown.bind(this);#f=this.onEditingAction.bind(this);#v=this.onPageChanging.bind(this);#m={isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#_=null;static _keyboardManager=new m([[["ctrl+a","mac+meta+a"],b.prototype.selectAll],[["ctrl+c","mac+meta+c"],b.prototype.copy],[["ctrl+v","mac+meta+v"],b.prototype.paste],[["ctrl+x","mac+meta+x"],b.prototype.cut],[["ctrl+z","mac+meta+z"],b.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],b.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],b.prototype.delete],[["Escape","mac+Escape"],b.prototype.unselectAll]]);constructor(y,v){this.#_=y,this.#r=v,this.#r._on("editingaction",this.#f),this.#r._on("pagechanging",this.#v)}destroy(){this.#y(),this.#r._off("editingaction",this.#f),this.#r._off("pagechanging",this.#v);for(const y of this.#n.values())y.destroy();this.#n.clear(),this.#t.clear(),this.#e=null,this.#o.clear(),this.#i.destroy(),this.#s.destroy()}onPageChanging({pageNumber:y}){this.#c=y-1}focusMainContainer(){this.#_.focus()}#E(){this.#_.addEventListener("keydown",this.#p)}#y(){this.#_.removeEventListener("keydown",this.#p)}keydown(y){this.getActive()?.shouldGetKeyboardEvents()||b._keyboardManager.exec(this,y)}onEditingAction(y){["undo","redo","cut","copy","paste","delete","selectAll"].includes(y.name)&&this[y.name]()}#d(y){Object.entries(y).some(([_,O])=>this.#m[_]!==O)&&this.#r.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#m,y)})}#C(y){this.#r.dispatch("annotationeditorparamschanged",{source:this,details:y})}setEditingState(y){y?(this.#E(),this.#d({isEditing:this.#l!==S.AnnotationEditorType.NONE,isEmpty:this.#b(),hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:this.#s.hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:this.#i.isEmpty()})):(this.#y(),this.#d({isEditing:!1}))}registerEditorTypes(y){this.#a=y;for(const v of this.#a)this.#C(v.defaultPropertiesToUpdate)}getId(){return this.#h.getId()}addLayer(y){this.#n.set(y.pageIndex,y),this.#u?y.enable():y.disable()}removeLayer(y){this.#n.delete(y.pageIndex)}updateMode(y){if(this.#l=y,y===S.AnnotationEditorType.NONE)this.setEditingState(!1),this.#g();else{this.setEditingState(!0),this.#x();for(const v of this.#n.values())v.updateMode(y)}}updateToolbar(y){y!==this.#l&&this.#r.dispatch("switchannotationeditormode",{source:this,mode:y})}updateParams(y,v){for(const _ of this.#o)_.updateParams(y,v);for(const _ of this.#a)_.updateDefaultParams(y,v)}#x(){if(!this.#u){this.#u=!0;for(const y of this.#n.values())y.enable()}}#g(){if(this.unselectAll(),this.#u){this.#u=!1;for(const y of this.#n.values())y.disable()}}getEditors(y){const v=[];for(const _ of this.#t.values())_.pageIndex===y&&v.push(_);return v}getEditor(y){return this.#t.get(y)}addEditor(y){this.#t.set(y.id,y)}removeEditor(y){this.#t.delete(y.id),this.unselect(y)}#S(y){const v=this.#n.get(y.pageIndex);v?v.addOrRebuild(y):this.addEditor(y)}setActiveEditor(y){this.#e!==y&&(this.#e=y,y&&this.#C(y.propertiesToUpdate))}toggleSelected(y){if(this.#o.has(y))return this.#o.delete(y),y.unselect(),void this.#d({hasSelectedEditor:this.hasSelection});this.#o.add(y),y.select(),this.#C(y.propertiesToUpdate),this.#d({hasSelectedEditor:!0})}setSelected(y){for(const v of this.#o)v!==y&&v.unselect();this.#o.clear(),this.#o.add(y),y.select(),this.#C(y.propertiesToUpdate),this.#d({hasSelectedEditor:!0})}isSelected(y){return this.#o.has(y)}unselect(y){y.unselect(),this.#o.delete(y),this.#d({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#o.size}undo(){this.#s.undo(),this.#d({hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#b()})}redo(){this.#s.redo(),this.#d({hasSomethingToUndo:!0,hasSomethingToRedo:this.#s.hasSomethingToRedo(),isEmpty:this.#b()})}addCommands(y){this.#s.add(y),this.#d({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#b()})}#b(){if(0===this.#t.size)return!0;if(1===this.#t.size)for(const y of this.#t.values())return y.isEmpty();return!1}delete(){if(this.#e&&this.#e.commitOrRemove(),!this.hasSelection)return;const y=[...this.#o];this.addCommands({cmd:()=>{for(const O of y)O.remove()},undo:()=>{for(const O of y)this.#S(O)},mustExec:!0})}copy(){if(this.#e&&this.#e.commitOrRemove(),this.hasSelection){const y=[];for(const v of this.#o)v.isEmpty()||y.push(v);if(0===y.length)return;this.#i.copy(y),this.#d({hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(this.#i.isEmpty())return;this.unselectAll();const y=this.#n.get(this.#c),v=this.#i.paste().map(R=>y.deserialize(R));this.addCommands({cmd:()=>{for(const R of v)this.#S(R);this.#w(v)},undo:()=>{for(const R of v)R.remove()},mustExec:!0})}#w(y){this.#o.clear();for(const v of y)v.isEmpty()||(this.#o.add(v),v.select());this.#d({hasSelectedEditor:!0})}selectAll(){for(const y of this.#o)y.commit();this.#w(this.#t.values())}unselectAll(){if(this.#e)this.#e.commitOrRemove();else if(0!==this.#w.size){for(const y of this.#o)y.unselect();this.#o.clear(),this.#d({hasSelectedEditor:!1})}}isActive(y){return this.#e===y}getActive(){return this.#e}getMode(){return this.#l}}C.AnnotationEditorUIManager=b},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.StatTimer=C.RenderingCancelledException=C.PixelsPerInch=C.PageViewport=C.PDFDateString=C.DOMStandardFontDataFactory=C.DOMSVGFactory=C.DOMCanvasFactory=C.DOMCMapReaderFactory=C.AnnotationPrefix=void 0,C.deprecated=function I(W){console.log("Deprecated API usage: "+W)},C.getColorValues=function me(W){const Y=document.createElement("span");Y.style.visibility="hidden",document.body.append(Y);for(const H of W.keys()){Y.style.color=H;const U=window.getComputedStyle(Y).color;W.set(H,Q(U))}Y.remove()},C.getCurrentTransform=function pe(W){const{a:Y,b:H,c:U,d:x,e:f,f:w}=W.getTransform();return[Y,H,U,x,f,w]},C.getCurrentTransformInverse=function N(W){const{a:Y,b:H,c:U,d:x,e:f,f:w}=W.getTransform().invertSelf();return[Y,H,U,x,f,w]},C.getFilenameFromUrl=function R(W){const Y=W.indexOf("#"),H=W.indexOf("?"),U=Math.min(Y>0?Y:W.length,H>0?H:W.length);return W.substring(W.lastIndexOf("/",U)+1,U)},C.getPdfFilenameFromUrl=function P(W,Y="document.pdf"){if("string"!=typeof W)return Y;if(_(W))return(0,j.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Y;const U=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,x=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(W);let f=U.exec(x[1])||U.exec(x[2])||U.exec(x[3]);if(f&&(f=f[0],f.includes("%")))try{f=U.exec(decodeURIComponent(f))[0]}catch{}return f||Y},C.getRGB=Q,C.getXfaPageViewport=function ne(W,{scale:Y=1,rotation:H=0}){const{width:U,height:x}=W.attributes.style,f=[0,0,parseInt(U),parseInt(x)];return new y({viewBox:f,scale:Y,rotation:H})},C.isDataScheme=_,C.isPdfFile=function O(W){return"string"==typeof W&&/\.pdf$/i.test(W)},C.isValidFetchUrl=u,C.loadScript=function g(W,Y=!1){return new Promise((H,U)=>{const x=document.createElement("script");x.src=W,x.onload=function(f){Y&&x.remove(),H(f)},x.onerror=function(){U(new Error(`Cannot load script at: ${x.src}`))},(document.head||document.documentElement).append(x)})};var S=te(9),j=te(1);function m(W){return D.apply(this,arguments)}function D(){return(D=_asyncToGenerator(function*(W,Y=!1){if(u(W,document.baseURI)){const H=yield fetch(W);if(!H.ok)throw new Error(H.statusText);return Y?new Uint8Array(yield H.arrayBuffer()):(0,j.stringToBytes)(yield H.text())}return new Promise((H,U)=>{const x=new XMLHttpRequest;x.open("GET",W,!0),Y&&(x.responseType="arraybuffer"),x.onreadystatechange=()=>{if(x.readyState===XMLHttpRequest.DONE){if(200===x.status||0===x.status){let f;if(Y&&x.response?f=new Uint8Array(x.response):!Y&&x.responseText&&(f=(0,j.stringToBytes)(x.responseText)),f)return void H(f)}U(new Error(x.statusText))}},x.send(null)})})).apply(this,arguments)}C.AnnotationPrefix="pdfjs_internal_id_",C.PixelsPerInch=class oe{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF},C.DOMCanvasFactory=class V extends S.BaseCanvasFactory{constructor({ownerDocument:Y=globalThis.document}={}){super(),this._document=Y}_createCanvas(Y,H){const U=this._document.createElement("canvas");return U.width=Y,U.height=H,U}},C.DOMCMapReaderFactory=class p extends S.BaseCMapReaderFactory{_fetchData(Y,H){return m(Y,this.isCompressed).then(U=>({cMapData:U,compressionType:H}))}},C.DOMStandardFontDataFactory=class b extends S.BaseStandardFontDataFactory{_fetchData(Y){return m(Y,!0)}},C.DOMSVGFactory=class F extends S.BaseSVGFactory{_createSVG(Y){return document.createElementNS("http://www.w3.org/2000/svg",Y)}};class y{constructor({viewBox:Y,scale:H,rotation:U,offsetX:x=0,offsetY:f=0,dontFlip:w=!1}){this.viewBox=Y,this.scale=H,this.rotation=U,this.offsetX=x,this.offsetY=f;const B=(Y[2]+Y[0])/2,k=(Y[3]+Y[1])/2;let d,M,L,$,X,ie,J,ae;switch((U%=360)<0&&(U+=360),U){case 180:d=-1,M=0,L=0,$=1;break;case 90:d=0,M=1,L=1,$=0;break;case 270:d=0,M=-1,L=-1,$=0;break;case 0:d=1,M=0,L=0,$=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}w&&(L=-L,$=-$),0===d?(X=Math.abs(k-Y[1])*H+x,ie=Math.abs(B-Y[0])*H+f,J=Math.abs(Y[3]-Y[1])*H,ae=Math.abs(Y[2]-Y[0])*H):(X=Math.abs(B-Y[0])*H+x,ie=Math.abs(k-Y[1])*H+f,J=Math.abs(Y[2]-Y[0])*H,ae=Math.abs(Y[3]-Y[1])*H),this.transform=[d*H,M*H,L*H,$*H,X-d*H*B-L*H*k,ie-M*H*B-$*H*k],this.width=J,this.height=ae}clone({scale:Y=this.scale,rotation:H=this.rotation,offsetX:U=this.offsetX,offsetY:x=this.offsetY,dontFlip:f=!1}={}){return new y({viewBox:this.viewBox.slice(),scale:Y,rotation:H,offsetX:U,offsetY:x,dontFlip:f})}convertToViewportPoint(Y,H){return j.Util.applyTransform([Y,H],this.transform)}convertToViewportRectangle(Y){const H=j.Util.applyTransform([Y[0],Y[1]],this.transform),U=j.Util.applyTransform([Y[2],Y[3]],this.transform);return[H[0],H[1],U[0],U[1]]}convertToPdfPoint(Y,H){return j.Util.applyInverseTransform([Y,H],this.transform)}}function _(W){const Y=W.length;let H=0;for(;H<Y&&""===W[H].trim();)H++;return"data:"===W.substring(H,H+5).toLowerCase()}function u(W,Y){try{const{protocol:H}=Y?new URL(W,Y):new URL(W);return"http:"===H||"https:"===H}catch{return!1}}let z;function Q(W){if(W.startsWith("#")){const Y=parseInt(W.slice(1),16);return[(16711680&Y)>>16,(65280&Y)>>8,255&Y]}return W.startsWith("rgb(")?W.slice(4,-1).split(",").map(Y=>parseInt(Y)):W.startsWith("rgba(")?W.slice(5,-1).split(",").map(Y=>parseInt(Y)).slice(0,3):((0,j.warn)(`Not a valid color format: "${W}"`),[0,0,0])}C.PageViewport=y,C.RenderingCancelledException=class v extends j.BaseException{constructor(Y,H){super(Y,"RenderingCancelledException"),this.type=H}},C.StatTimer=class E{constructor(){this.started=Object.create(null),this.times=[]}time(Y){Y in this.started&&(0,j.warn)(`Timer is already running for ${Y}`),this.started[Y]=Date.now()}timeEnd(Y){Y in this.started||(0,j.warn)(`Timer has not been started for ${Y}`),this.times.push({name:Y,start:this.started[Y],end:Date.now()}),delete this.started[Y]}toString(){const Y=[];let H=0;for(const U of this.times){const x=U.name;x.length>H&&(H=x.length)}for(const U of this.times){const x=U.end-U.start;Y.push(`${U.name.padEnd(H)} ${x}ms\n`)}return Y.join("")}},C.PDFDateString=class q{static toDateObject(Y){if(!Y||"string"!=typeof Y)return null;z||(z=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const H=z.exec(Y);if(!H)return null;const U=parseInt(H[1],10);let x=parseInt(H[2],10);x=x>=1&&x<=12?x-1:0;let f=parseInt(H[3],10);f=f>=1&&f<=31?f:1;let w=parseInt(H[4],10);w=w>=0&&w<=23?w:0;let B=parseInt(H[5],10);B=B>=0&&B<=59?B:0;let k=parseInt(H[6],10);k=k>=0&&k<=59?k:0;const d=H[7]||"Z";let M=parseInt(H[8],10);M=M>=0&&M<=23?M:0;let L=parseInt(H[9],10)||0;return L=L>=0&&L<=59?L:0,"-"===d?(w+=M,B+=L):"+"===d&&(w-=M,B-=L),new Date(Date.UTC(U,x,f,w,B,k))}}},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.BaseStandardFontDataFactory=C.BaseSVGFactory=C.BaseCanvasFactory=C.BaseCMapReaderFactory=void 0;var S=te(1);class j{constructor(){this.constructor===j&&(0,S.unreachable)("Cannot initialize BaseCanvasFactory.")}create(m,D){if(m<=0||D<=0)throw new Error("Invalid canvas size");const p=this._createCanvas(m,D);return{canvas:p,context:p.getContext("2d")}}reset(m,D,p){if(!m.canvas)throw new Error("Canvas is not specified");if(D<=0||p<=0)throw new Error("Invalid canvas size");m.canvas.width=D,m.canvas.height=p}destroy(m){if(!m.canvas)throw new Error("Canvas is not specified");m.canvas.width=0,m.canvas.height=0,m.canvas=null,m.context=null}_createCanvas(m,D){(0,S.unreachable)("Abstract method `_createCanvas` called.")}}C.BaseCanvasFactory=j;class re{constructor({baseUrl:m=null,isCompressed:D=!1}){this.constructor===re&&(0,S.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=m,this.isCompressed=D}fetch({name:m}){var D=this;return _asyncToGenerator(function*(){if(!D.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!m)throw new Error("CMap name must be specified.");const p=D.baseUrl+m+(D.isCompressed?".bcmap":"");return D._fetchData(p,D.isCompressed?S.CMapCompressionType.BINARY:S.CMapCompressionType.NONE).catch(F=>{throw new Error(`Unable to load ${D.isCompressed?"binary ":""}CMap at: ${p}`)})})()}_fetchData(m,D){(0,S.unreachable)("Abstract method `_fetchData` called.")}}C.BaseCMapReaderFactory=re;class ee{constructor({baseUrl:m=null}){this.constructor===ee&&(0,S.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=m}fetch({filename:m}){var D=this;return _asyncToGenerator(function*(){if(!D.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!m)throw new Error("Font filename must be specified.");const p=`${D.baseUrl}${m}`;return D._fetchData(p).catch(b=>{throw new Error(`Unable to load font data at: ${p}`)})})()}_fetchData(m){(0,S.unreachable)("Abstract method `_fetchData` called.")}}C.BaseStandardFontDataFactory=ee;class oe{constructor(){this.constructor===oe&&(0,S.unreachable)("Cannot initialize BaseSVGFactory.")}create(m,D,p=!1){if(m<=0||D<=0)throw new Error("Invalid SVG dimensions");const b=this._createSVG("svg:svg");return b.setAttribute("version","1.1"),p||(b.setAttribute("width",`${m}px`),b.setAttribute("height",`${D}px`)),b.setAttribute("preserveAspectRatio","none"),b.setAttribute("viewBox",`0 0 ${m} ${D}`),b}createElement(m){if("string"!=typeof m)throw new Error("Invalid SVG element type");return this._createSVG(m)}_createSVG(m){(0,S.unreachable)("Abstract method `_createSVG` called.")}}C.BaseSVGFactory=oe},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.MurmurHash3_64=void 0;var S=te(1);const j=3285377520,re=4294901760,ee=65535;C.MurmurHash3_64=class oe{constructor(m){this.h1=m?4294967295&m:j,this.h2=m?4294967295&m:j}update(m){let D,p;if("string"==typeof m){D=new Uint8Array(2*m.length),p=0;for(let I=0,z=m.length;I<z;I++){const q=m.charCodeAt(I);q<=255?D[p++]=q:(D[p++]=q>>>8,D[p++]=255&q)}}else{if(!(0,S.isArrayBuffer)(m))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");D=m.slice(),p=D.byteLength}const b=p>>2,F=p-4*b,y=new Uint32Array(D.buffer,0,b);let v=0,_=0,O=this.h1,R=this.h2;const P=3432918353,E=461845907,u=P&ee,g=E&ee;for(let I=0;I<b;I++)1&I?(v=y[I],v=v*P&re|v*u&ee,v=v<<15|v>>>17,v=v*E&re|v*g&ee,O^=v,O=O<<13|O>>>19,O=5*O+3864292196):(_=y[I],_=_*P&re|_*u&ee,_=_<<15|_>>>17,_=_*E&re|_*g&ee,R^=_,R=R<<13|R>>>19,R=5*R+3864292196);switch(v=0,F){case 3:v^=D[4*b+2]<<16;case 2:v^=D[4*b+1]<<8;case 1:v^=D[4*b],v=v*P&re|v*u&ee,v=v<<15|v>>>17,v=v*E&re|v*g&ee,1&b?O^=v:R^=v}this.h1=O,this.h2=R}hexdigest(){let m=this.h1,D=this.h2;m^=D>>>1,m=3981806797*m&re|36045*m&ee,D=4283543511*D&re|(2950163797*(D<<16|m>>>16)&re)>>>16,m^=D>>>1,m=444984403*m&re|60499*m&ee,D=3301882366*D&re|(3120437893*(D<<16|m>>>16)&re)>>>16,m^=D>>>1;const p=(m>>>0).toString(16),b=(D>>>0).toString(16);return p.padStart(8,"0")+b.padStart(8,"0")}}},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.FontLoader=C.FontFaceObject=void 0;var S=te(1);class j{constructor({docId:V,onUnsupportedFeature:m,ownerDocument:D=globalThis.document,styleElement:p=null}){this.constructor===j&&(0,S.unreachable)("Cannot initialize BaseFontLoader."),this.docId=V,this._onUnsupportedFeature=m,this._document=D,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(V){this.nativeFontFaces.push(V),this._document.fonts.add(V)}insertRule(V){let m=this.styleElement;m||(m=this.styleElement=this._document.createElement("style"),m.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(m));const D=m.sheet;D.insertRule(V,D.cssRules.length)}clear(){for(const V of this.nativeFontFaces)this._document.fonts.delete(V);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(V){var m=this;return _asyncToGenerator(function*(){if(V.attached||V.missingFile)return;if(V.attached=!0,m.isFontLoadingAPISupported){const p=V.createNativeFontFace();if(p){m.addNativeFontFace(p);try{yield p.loaded}catch(b){throw m._onUnsupportedFeature({featureId:S.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,S.warn)(`Failed to load font '${p.family}': '${b}'.`),V.disableFontFace=!0,b}}return}const D=V.createFontFaceRule();if(D){if(m.insertRule(D),m.isSyncFontLoadingSupported)return;yield new Promise(p=>{const b=m._queueLoadingCallback(p);m._prepareFontLoadEvent([D],[V],b)})}})()}_queueLoadingCallback(V){(0,S.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,S.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,S.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,S.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(V,m,D){(0,S.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let re;C.FontLoader=re,C.FontLoader=re=class extends j{constructor(V){super(V),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let V=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(V=!0),(0,S.shadow)(this,"isSyncFontLoadingSupported",V)}_queueLoadingCallback(V){const D=this.loadingContext,p={id:"pdfjs-font-loading-"+D.nextRequestId++,done:!1,complete:function m(){for((0,S.assert)(!p.done,"completeRequest() cannot be called twice."),p.done=!0;D.requests.length>0&&D.requests[0].done;){const b=D.requests.shift();setTimeout(b.callback,0)}},callback:V};return D.requests.push(p),p}get _loadTestFont(){return(0,S.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(V,m,D){function p(pe,N){return pe.charCodeAt(N)<<24|pe.charCodeAt(N+1)<<16|pe.charCodeAt(N+2)<<8|255&pe.charCodeAt(N+3)}function b(pe,N,W,Y){return pe.substring(0,N)+Y+pe.substring(N+W)}let F,y;const v=this._document.createElement("canvas");v.width=1,v.height=1;const _=v.getContext("2d");let O=0;const P=`lt${Date.now()}${this.loadTestFontId++}`;let E=this._loadTestFont;E=b(E,976,P.length,P);const I=1482184792;let z=p(E,16);for(F=0,y=P.length-3;F<y;F+=4)z=z-I+p(P,F)|0;F<P.length&&(z=z-I+p(P+"XXX",F)|0),E=b(E,16,4,(0,S.string32)(z));const q=`url(data:font/opentype;base64,${btoa(E)});`;this.insertRule(`@font-face {font-family:"${P}";src:${q}}`);const Q=[];for(const pe of m)Q.push(pe.loadedName);Q.push(P);const me=this._document.createElement("div");me.style.visibility="hidden",me.style.width=me.style.height="10px",me.style.position="absolute",me.style.top=me.style.left="0px";for(const pe of Q){const N=this._document.createElement("span");N.textContent="Hi",N.style.fontFamily=pe,me.append(N)}this._document.body.append(me),function R(pe,N){if(O++,O>30)return(0,S.warn)("Load test font never loaded."),void N();_.font="30px "+pe,_.fillText(".",0,20),_.getImageData(0,0,1,1).data[3]>0?N():setTimeout(R.bind(null,pe,N))}(P,()=>{me.remove(),D.complete()})}},C.FontFaceObject=class ee{constructor(V,{isEvalSupported:m=!0,disableFontFace:D=!1,ignoreErrors:p=!1,onUnsupportedFeature:b,fontRegistry:F=null}){this.compiledGlyphs=Object.create(null);for(const y in V)this[y]=V[y];this.isEvalSupported=!1!==m,this.disableFontFace=!0===D,this.ignoreErrors=!0===p,this._onUnsupportedFeature=b,this.fontRegistry=F}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let V;if(this.cssFontInfo){const m={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(m.style=`oblique ${this.cssFontInfo.italicAngle}deg`),V=new FontFace(this.cssFontInfo.fontFamily,this.data,m)}else V=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),V}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const V=(0,S.bytesToString)(this.data),m=`url(data:${this.mimetype};base64,${btoa(V)});`;let D;if(this.cssFontInfo){let p=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(p+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),D=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${p}src:${m}}`}else D=`@font-face {font-family:"${this.loadedName}";src:${m}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,m),D}getPathGenerator(V,m){if(void 0!==this.compiledGlyphs[m])return this.compiledGlyphs[m];let D;try{D=V.get(this.loadedName+"_path_"+m)}catch(p){if(!this.ignoreErrors)throw p;return this._onUnsupportedFeature({featureId:S.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,S.warn)(`getPathGenerator - ignoring character: "${p}".`),this.compiledGlyphs[m]=function(b,F){}}if(this.isEvalSupported&&S.FeatureTest.isEvalSupported){const p=[];for(const b of D){const F=void 0!==b.args?b.args.join(","):"";p.push("c.",b.cmd,"(",F,");\n")}return this.compiledGlyphs[m]=new Function("c","size",p.join(""))}return this.compiledGlyphs[m]=function(p,b){for(const F of D)"scale"===F.cmd&&(F.args=[b,-b]),p[F.cmd].apply(p,F.args)}}}},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.CanvasGraphics=void 0;var S=te(8),j=te(1),re=te(13),ee=te(14),oe=te(3);const D=4096,F=oe.isNodeJS&&typeof Path2D>"u"?-1:1e3,y=16;class _{constructor(f){this.canvasFactory=f,this.cache=Object.create(null)}getCanvas(f,w,B){let k;return void 0!==this.cache[f]?(k=this.cache[f],this.canvasFactory.reset(k,w,B)):(k=this.canvasFactory.create(w,B),this.cache[f]=k),k}delete(f){delete this.cache[f]}clear(){for(const f in this.cache)this.canvasFactory.destroy(this.cache[f]),delete this.cache[f]}}function O(x,f,w,B,k,d,M,L,$,X){const[ie,J,ae,ce,ue,ge]=(0,S.getCurrentTransform)(x);if(0===J&&0===ae){const de=Math.round(M*ie+ue),Ie=Math.round(L*ce+ge),Ve=Math.abs(Math.round((M+$)*ie+ue)-de)||1,Ne=Math.abs(Math.round((L+X)*ce+ge)-Ie)||1;return x.setTransform(Math.sign(ie),0,0,Math.sign(ce),de,Ie),x.drawImage(f,w,B,k,d,0,0,Ve,Ne),x.setTransform(ie,J,ae,ce,ue,ge),[Ve,Ne]}if(0===ie&&0===ce){const de=Math.round(L*ae+ue),Ie=Math.round(M*J+ge),Ve=Math.abs(Math.round((L+X)*ae+ue)-de)||1,Ne=Math.abs(Math.round((M+$)*J+ge)-Ie)||1;return x.setTransform(0,Math.sign(J),Math.sign(ae),0,de,Ie),x.drawImage(f,w,B,k,d,0,0,Ne,Ve),x.setTransform(ie,J,ae,ce,ue,ge),[Ne,Ve]}return x.drawImage(f,w,B,k,d,M,L,$,X),[Math.hypot(ie,J)*$,Math.hypot(ae,ce)*X]}class P{constructor(f,w){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=j.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=j.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=j.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,f,w])}clone(){const f=Object.create(this);return f.clipBox=this.clipBox.slice(),f}setCurrentPoint(f,w){this.x=f,this.y=w}updatePathMinMax(f,w,B){[w,B]=j.Util.applyTransform([w,B],f),this.minX=Math.min(this.minX,w),this.minY=Math.min(this.minY,B),this.maxX=Math.max(this.maxX,w),this.maxY=Math.max(this.maxY,B)}updateRectMinMax(f,w){const B=j.Util.applyTransform(w,f),k=j.Util.applyTransform(w.slice(2),f);this.minX=Math.min(this.minX,B[0],k[0]),this.minY=Math.min(this.minY,B[1],k[1]),this.maxX=Math.max(this.maxX,B[0],k[0]),this.maxY=Math.max(this.maxY,B[1],k[1])}updateScalingPathMinMax(f,w){j.Util.scaleMinMax(f,w),this.minX=Math.min(this.minX,w[0]),this.maxX=Math.max(this.maxX,w[1]),this.minY=Math.min(this.minY,w[2]),this.maxY=Math.max(this.maxY,w[3])}updateCurvePathMinMax(f,w,B,k,d,M,L,$,X,ie){const J=j.Util.bezierBoundingBox(w,B,k,d,M,L,$,X);if(ie)return ie[0]=Math.min(ie[0],J[0],J[2]),ie[1]=Math.max(ie[1],J[0],J[2]),ie[2]=Math.min(ie[2],J[1],J[3]),void(ie[3]=Math.max(ie[3],J[1],J[3]));this.updateRectMinMax(f,J)}getPathBoundingBox(f=re.PathType.FILL,w=null){const B=[this.minX,this.minY,this.maxX,this.maxY];if(f===re.PathType.STROKE){w||(0,j.unreachable)("Stroke bounding box must include transform.");const k=j.Util.singularValueDecompose2dScale(w),d=k[0]*this.lineWidth/2,M=k[1]*this.lineWidth/2;B[0]-=d,B[1]-=M,B[2]+=d,B[3]+=M}return B}updateClipFromPath(){const f=j.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(f||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(f){this.clipBox=f,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(f=re.PathType.FILL,w=null){return j.Util.intersect(this.clipBox,this.getPathBoundingBox(f,w))}}function E(x,f,w=null){if(typeof ImageData<"u"&&f instanceof ImageData)return void x.putImageData(f,0,0);const B=f.height,k=f.width,d=B%y,M=(B-d)/y,L=0===d?M:M+1,$=x.createImageData(k,y);let ie,X=0;const J=f.data,ae=$.data;let ce,ue,ge,De,Ee,Te,de,ye;if(w)switch(w.length){case 1:Ee=w[0],Te=w[0],de=w[0],ye=w[0];break;case 4:Ee=w[0],Te=w[1],de=w[2],ye=w[3]}if(f.kind===j.ImageKind.GRAYSCALE_1BPP){const Ie=J.byteLength,ve=new Uint32Array(ae.buffer,0,ae.byteLength>>2),Ve=ve.length,Ue=k+7>>3;let Ne=4294967295,et=j.FeatureTest.isLittleEndian?4278190080:255;for(ye&&255===ye[0]&&0===ye[255]&&([Ne,et]=[et,Ne]),ce=0;ce<L;ce++){for(ge=ce<M?y:d,ie=0,ue=0;ue<ge;ue++){const rt=Ie-X;let Ct=0;const At=rt>Ue?k:8*rt-7,mn=-8&At;let kt=0,ht=0;for(;Ct<mn;Ct+=8)ht=J[X++],ve[ie++]=128&ht?Ne:et,ve[ie++]=64&ht?Ne:et,ve[ie++]=32&ht?Ne:et,ve[ie++]=16&ht?Ne:et,ve[ie++]=8&ht?Ne:et,ve[ie++]=4&ht?Ne:et,ve[ie++]=2&ht?Ne:et,ve[ie++]=1&ht?Ne:et;for(;Ct<At;Ct++)0===kt&&(ht=J[X++],kt=128),ve[ie++]=ht&kt?Ne:et,kt>>=1}for(;ie<Ve;)ve[ie++]=0;x.putImageData($,0,ce*y)}}else if(f.kind===j.ImageKind.RGBA_32BPP){const Ie=!!(Ee||Te||de);for(ue=0,De=k*y*4,ce=0;ce<M;ce++){if(ae.set(J.subarray(X,X+De)),X+=De,Ie)for(let ve=0;ve<De;ve+=4)Ee&&(ae[ve+0]=Ee[ae[ve+0]]),Te&&(ae[ve+1]=Te[ae[ve+1]]),de&&(ae[ve+2]=de[ae[ve+2]]);x.putImageData($,0,ue),ue+=y}if(ce<L){if(De=k*d*4,ae.set(J.subarray(X,X+De)),Ie)for(let ve=0;ve<De;ve+=4)Ee&&(ae[ve+0]=Ee[ae[ve+0]]),Te&&(ae[ve+1]=Te[ae[ve+1]]),de&&(ae[ve+2]=de[ae[ve+2]]);x.putImageData($,0,ue)}}else{if(f.kind!==j.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${f.kind}`);{const Ie=!!(Ee||Te||de);for(ge=y,De=k*ge,ce=0;ce<L;ce++){for(ce>=M&&(ge=d,De=k*ge),ie=0,ue=De;ue--;)ae[ie++]=J[X++],ae[ie++]=J[X++],ae[ie++]=J[X++],ae[ie++]=255;if(Ie)for(let ve=0;ve<ie;ve+=4)Ee&&(ae[ve+0]=Ee[ae[ve+0]]),Te&&(ae[ve+1]=Te[ae[ve+1]]),de&&(ae[ve+2]=de[ae[ve+2]]);x.putImageData($,0,ce*y)}}}}function u(x,f){if(f.bitmap)return void x.drawImage(f.bitmap,0,0);const w=f.height,B=f.width,k=w%y,d=(w-k)/y,M=0===k?d:d+1,L=x.createImageData(B,y);let $=0;const X=f.data,ie=L.data;for(let J=0;J<M;J++){const ae=J<d?y:k;({srcPos:$}=(0,ee.applyMaskImageData)({src:X,srcPos:$,dest:ie,width:B,height:ae})),x.putImageData(L,0,J*y)}}function g(x,f){const w=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let B=0,k=w.length;B<k;B++){const d=w[B];void 0!==x[d]&&(f[d]=x[d])}void 0!==x.setLineDash&&(f.setLineDash(x.getLineDash()),f.lineDashOffset=x.lineDashOffset)}function I(x,f){x.strokeStyle=x.fillStyle=f||"#000000",x.fillRule="nonzero",x.globalAlpha=1,x.lineWidth=1,x.lineCap="butt",x.lineJoin="miter",x.miterLimit=10,x.globalCompositeOperation="source-over",x.font="10px sans-serif",void 0!==x.setLineDash&&(x.setLineDash([]),x.lineDashOffset=0)}function z(x,f,w,B){const k=x.length;for(let d=3;d<k;d+=4){const M=x[d];if(0===M)x[d-3]=f,x[d-2]=w,x[d-1]=B;else if(M<255){const L=255-M;x[d-3]=x[d-3]*M+f*L>>8,x[d-2]=x[d-2]*M+w*L>>8,x[d-1]=x[d-1]*M+B*L>>8}}}function q(x,f,w){const B=x.length;for(let d=3;d<B;d+=4)f[d]=f[d]*(w?w[x[d]]:x[d])*.00392156862745098|0}function ne(x,f,w){const B=x.length;for(let k=3;k<B;k+=4){const d=77*x[k-3]+152*x[k-2]+28*x[k-1];f[k]=w?f[k]*w[d>>8]>>8:f[k]*d>>16}}function pe(x,f){const w=j.Util.singularValueDecompose2dScale(x);w[0]=Math.fround(w[0]),w[1]=Math.fround(w[1]);const B=Math.fround((globalThis.devicePixelRatio||1)*S.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==f?f:w[0]<=B||w[1]<=B}const N=["butt","round","square"],W=["miter","round","bevel"],Y={},H={};class U{constructor(f,w,B,k,d,M,L,$){this.ctx=f,this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=w,this.objs=B,this.canvasFactory=k,this.imageLayer=d,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=M,this.cachedCanvases=new _(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=L,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=$?.background||null,this.foregroundColor=$?.foreground||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(f,w=null){return"string"==typeof f?f.startsWith("g_")?this.commonObjs.get(f):this.objs.get(f):w}beginDrawing({transform:f,viewport:w,transparency:B=!1,background:k=null}){const d=this.ctx.canvas.width,M=this.ctx.canvas.height,L=k||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const $=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const X=this.backgroundColor=this.ctx.fillStyle;let ie=!0,J=L;if(this.ctx.fillStyle=L,J=this.ctx.fillStyle,ie="string"==typeof J&&/^#[0-9A-Fa-f]{6}$/.test(J),"#000000"===$&&"#ffffff"===X||$===X||!ie)this.foregroundColor=this.backgroundColor=null;else{const[ae,ce,ue]=(0,S.getRGB)(J),ge=Ee=>(Ee/=255)<=.03928?Ee/12.92:((Ee+.055)/1.055)**2.4,De=Math.round(.2126*ge(ae)+.7152*ge(ce)+.0722*ge(ue));this.selectColor=(Ee,Te,de)=>{const ye=.2126*ge(Ee)+.7152*ge(Te)+.0722*ge(de);return Math.round(ye)===De?X:$}}}if(this.ctx.fillStyle=this.backgroundColor||L,this.ctx.fillRect(0,0,d,M),this.ctx.restore(),B){const $=this.cachedCanvases.getCanvas("transparent",d,M);this.compositeCtx=this.ctx,this.transparentCanvas=$.canvas,this.ctx=$.context,this.ctx.save(),this.ctx.transform(...(0,S.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),I(this.ctx,this.foregroundColor),f&&(this.ctx.transform(...f),this.outputScaleX=f[0],this.outputScaleY=f[0]),this.ctx.transform(...w.transform),this.viewportScale=w.scale,this.baseTransform=(0,S.getCurrentTransform)(this.ctx),this.imageLayer&&((0,S.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(f,w,B,k){const d=f.argsArray,M=f.fnArray;let L=w||0;const $=d.length;if($===L)return L;const X=$-L>10&&"function"==typeof B,ie=X?Date.now()+15:0;let J=0;const ae=this.commonObjs,ce=this.objs;let ue;for(;;){if(void 0!==k&&L===k.nextBreakPoint)return k.breakIt(L,B),L;if(ue=M[L],ue!==j.OPS.dependency)this[ue].apply(this,d[L]);else for(const ge of d[L]){const De=ge.startsWith("g_")?ae:ce;if(!De.has(ge))return De.get(ge,B),L}if(L++,L===$)return L;if(X&&++J>10){if(Date.now()>ie)return B(),L;J=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const f of this._cachedBitmapsMap.values()){for(const w of f.values())typeof HTMLCanvasElement<"u"&&w instanceof HTMLCanvasElement&&(w.width=w.height=0);f.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(f,w){const B=f.width,k=f.height;let ie,J,d=Math.max(Math.hypot(w[0],w[1]),1),M=Math.max(Math.hypot(w[2],w[3]),1),L=B,$=k,X="prescale1";for(;d>2&&L>1||M>2&&$>1;){let ae=L,ce=$;d>2&&L>1&&(ae=Math.ceil(L/2),d/=L/ae),M>2&&$>1&&(ce=Math.ceil($/2),M/=$/ce),ie=this.cachedCanvases.getCanvas(X,ae,ce),J=ie.context,J.clearRect(0,0,ae,ce),J.drawImage(f,0,0,L,$,0,0,ae,ce),f=ie.canvas,L=ae,$=ce,X="prescale1"===X?"prescale2":"prescale1"}return{img:f,paintWidth:L,paintHeight:$}}_createMaskCanvas(f){const w=this.ctx,{width:B,height:k}=f,d=this.current.fillColor,M=this.current.patternFill,L=(0,S.getCurrentTransform)(w);let $,X,ie,J;if((f.bitmap||f.data)&&f.count>1){const Ve=f.bitmap||f.data.buffer,Ue=L.slice(0,4);X=JSON.stringify(M?Ue:[Ue,d]),$=this._cachedBitmapsMap.get(Ve),$||($=new Map,this._cachedBitmapsMap.set(Ve,$));const Ne=$.get(X);if(Ne&&!M)return{canvas:Ne,offsetX:Math.round(Math.min(L[0],L[2])+L[4]),offsetY:Math.round(Math.min(L[1],L[3])+L[5])};ie=Ne}ie||(J=this.cachedCanvases.getCanvas("maskCanvas",B,k),u(J.context,f));let ae=j.Util.transform(L,[1/B,0,0,-1/k,0,0]);ae=j.Util.transform(ae,[1,0,0,1,0,-k]);const ce=j.Util.applyTransform([0,0],ae),ue=j.Util.applyTransform([B,k],ae),ge=j.Util.normalizeRect([ce[0],ce[1],ue[0],ue[1]]),De=Math.round(ge[2]-ge[0])||1,Ee=Math.round(ge[3]-ge[1])||1,Te=this.cachedCanvases.getCanvas("fillCanvas",De,Ee),de=Te.context,ye=Math.min(ce[0],ue[0]),Ie=Math.min(ce[1],ue[1]);de.translate(-ye,-Ie),de.transform(...ae),ie||(ie=this._scaleImage(J.canvas,(0,S.getCurrentTransformInverse)(de)),ie=ie.img,$&&M&&$.set(X,ie)),de.imageSmoothingEnabled=pe((0,S.getCurrentTransform)(de),f.interpolate),O(de,ie,0,0,ie.width,ie.height,0,0,B,k),de.globalCompositeOperation="source-in";const ve=j.Util.transform((0,S.getCurrentTransformInverse)(de),[1,0,0,1,-ye,-Ie]);return de.fillStyle=M?d.getPattern(w,this,ve,re.PathType.FILL):d,de.fillRect(0,0,B,k),$&&!M&&(this.cachedCanvases.delete("fillCanvas"),$.set(X,Te.canvas)),{canvas:Te.canvas,offsetX:Math.round(ye),offsetY:Math.round(Ie)}}setLineWidth(f){f!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=f,this.ctx.lineWidth=f}setLineCap(f){this.ctx.lineCap=N[f]}setLineJoin(f){this.ctx.lineJoin=W[f]}setMiterLimit(f){this.ctx.miterLimit=f}setDash(f,w){const B=this.ctx;void 0!==B.setLineDash&&(B.setLineDash(f),B.lineDashOffset=w)}setRenderingIntent(f){}setFlatness(f){}setGState(f){for(let w=0,B=f.length;w<B;w++){const k=f[w],M=k[1];switch(k[0]){case"LW":this.setLineWidth(M);break;case"LC":this.setLineCap(M);break;case"LJ":this.setLineJoin(M);break;case"ML":this.setMiterLimit(M);break;case"D":this.setDash(M[0],M[1]);break;case"RI":this.setRenderingIntent(M);break;case"FL":this.setFlatness(M);break;case"Font":this.setFont(M[0],M[1]);break;case"CA":this.current.strokeAlpha=k[1];break;case"ca":this.current.fillAlpha=k[1],this.ctx.globalAlpha=k[1];break;case"BM":this.ctx.globalCompositeOperation=M;break;case"SMask":this.current.activeSMask=M?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=M}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const f=this.inSMaskMode;this.current.activeSMask&&!f?this.beginSMaskMode():!this.current.activeSMask&&f&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const k=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=k.context;const d=this.ctx;d.setTransform(...(0,S.getCurrentTransform)(this.suspendedCtx)),g(this.suspendedCtx,d),function v(x,f){if(x._removeMirroring)throw new Error("Context is already forwarding operations.");x.__originalSave=x.save,x.__originalRestore=x.restore,x.__originalRotate=x.rotate,x.__originalScale=x.scale,x.__originalTranslate=x.translate,x.__originalTransform=x.transform,x.__originalSetTransform=x.setTransform,x.__originalResetTransform=x.resetTransform,x.__originalClip=x.clip,x.__originalMoveTo=x.moveTo,x.__originalLineTo=x.lineTo,x.__originalBezierCurveTo=x.bezierCurveTo,x.__originalRect=x.rect,x.__originalClosePath=x.closePath,x.__originalBeginPath=x.beginPath,x._removeMirroring=()=>{x.save=x.__originalSave,x.restore=x.__originalRestore,x.rotate=x.__originalRotate,x.scale=x.__originalScale,x.translate=x.__originalTranslate,x.transform=x.__originalTransform,x.setTransform=x.__originalSetTransform,x.resetTransform=x.__originalResetTransform,x.clip=x.__originalClip,x.moveTo=x.__originalMoveTo,x.lineTo=x.__originalLineTo,x.bezierCurveTo=x.__originalBezierCurveTo,x.rect=x.__originalRect,x.closePath=x.__originalClosePath,x.beginPath=x.__originalBeginPath,delete x._removeMirroring},x.save=function(){f.save(),this.__originalSave()},x.restore=function(){f.restore(),this.__originalRestore()},x.translate=function(B,k){f.translate(B,k),this.__originalTranslate(B,k)},x.scale=function(B,k){f.scale(B,k),this.__originalScale(B,k)},x.transform=function(B,k,d,M,L,$){f.transform(B,k,d,M,L,$),this.__originalTransform(B,k,d,M,L,$)},x.setTransform=function(B,k,d,M,L,$){f.setTransform(B,k,d,M,L,$),this.__originalSetTransform(B,k,d,M,L,$)},x.resetTransform=function(){f.resetTransform(),this.__originalResetTransform()},x.rotate=function(B){f.rotate(B),this.__originalRotate(B)},x.clip=function(B){f.clip(B),this.__originalClip(B)},x.moveTo=function(w,B){f.moveTo(w,B),this.__originalMoveTo(w,B)},x.lineTo=function(w,B){f.lineTo(w,B),this.__originalLineTo(w,B)},x.bezierCurveTo=function(w,B,k,d,M,L){f.bezierCurveTo(w,B,k,d,M,L),this.__originalBezierCurveTo(w,B,k,d,M,L)},x.rect=function(w,B,k,d){f.rect(w,B,k,d),this.__originalRect(w,B,k,d)},x.closePath=function(){f.closePath(),this.__originalClosePath()},x.beginPath=function(){f.beginPath(),this.__originalBeginPath()}}(d,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),g(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(f){this.current.activeSMask&&(f?(f[0]=Math.floor(f[0]),f[1]=Math.floor(f[1]),f[2]=Math.ceil(f[2]),f[3]=Math.ceil(f[3])):f=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function me(x,f,w,B){const k=B[0],d=B[1],M=B[2]-k,L=B[3]-d;0===M||0===L||(function Q(x,f,w,B,k,d,M,L,$,X,ie){const J=!!d,ae=J?d[0]:0,ce=J?d[1]:0,ue=J?d[2]:0;let ge;ge="Luminosity"===k?ne:q;const Ee=Math.min(B,Math.ceil(1048576/w));for(let Te=0;Te<B;Te+=Ee){const de=Math.min(Ee,B-Te),ye=x.getImageData(L-X,Te+($-ie),w,de),Ie=f.getImageData(L,Te+$,w,de);J&&z(ye.data,ae,ce,ue),ge(ye.data,Ie.data,M),f.putImageData(Ie,L,Te+$)}}(f.context,w,M,L,f.subtype,f.backdrop,f.transferMap,k,d,f.offsetX,f.offsetY),x.save(),x.globalAlpha=1,x.globalCompositeOperation="source-over",x.setTransform(1,0,0,1,0,0),x.drawImage(w.canvas,0,0),x.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,f),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(g(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const f=this.current;this.stateStack.push(f),this.current=f.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),g(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(f,w,B,k,d,M){this.ctx.transform(f,w,B,k,d,M),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(f,w,B){const k=this.ctx,d=this.current;let $,X,M=d.x,L=d.y;const ie=(0,S.getCurrentTransform)(k),J=0===ie[0]&&0===ie[3]||0===ie[1]&&0===ie[2],ae=J?B.slice(0):null;for(let ce=0,ue=0,ge=f.length;ce<ge;ce++)switch(0|f[ce]){case j.OPS.rectangle:M=w[ue++],L=w[ue++];const De=w[ue++],Ee=w[ue++],Te=M+De,de=L+Ee;k.moveTo(M,L),0===De||0===Ee?k.lineTo(Te,de):(k.lineTo(Te,L),k.lineTo(Te,de),k.lineTo(M,de)),J||d.updateRectMinMax(ie,[M,L,Te,de]),k.closePath();break;case j.OPS.moveTo:M=w[ue++],L=w[ue++],k.moveTo(M,L),J||d.updatePathMinMax(ie,M,L);break;case j.OPS.lineTo:M=w[ue++],L=w[ue++],k.lineTo(M,L),J||d.updatePathMinMax(ie,M,L);break;case j.OPS.curveTo:$=M,X=L,M=w[ue+4],L=w[ue+5],k.bezierCurveTo(w[ue],w[ue+1],w[ue+2],w[ue+3],M,L),d.updateCurvePathMinMax(ie,$,X,w[ue],w[ue+1],w[ue+2],w[ue+3],M,L,ae),ue+=6;break;case j.OPS.curveTo2:$=M,X=L,k.bezierCurveTo(M,L,w[ue],w[ue+1],w[ue+2],w[ue+3]),d.updateCurvePathMinMax(ie,$,X,M,L,w[ue],w[ue+1],w[ue+2],w[ue+3],ae),M=w[ue+2],L=w[ue+3],ue+=4;break;case j.OPS.curveTo3:$=M,X=L,M=w[ue+2],L=w[ue+3],k.bezierCurveTo(w[ue],w[ue+1],M,L,M,L),d.updateCurvePathMinMax(ie,$,X,w[ue],w[ue+1],M,L,M,L,ae),ue+=4;break;case j.OPS.closePath:k.closePath()}J&&d.updateScalingPathMinMax(ie,ae),d.setCurrentPoint(M,L)}closePath(){this.ctx.closePath()}stroke(f){f=!(typeof f<"u")||f;const w=this.ctx,B=this.current.strokeColor;w.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof B&&B?.getPattern?(w.save(),w.strokeStyle=B.getPattern(w,this,(0,S.getCurrentTransformInverse)(w),re.PathType.STROKE),this.rescaleAndStroke(!1),w.restore()):this.rescaleAndStroke(!0)),f&&this.consumePath(this.current.getClippedPathBoundingBox()),w.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(f){f=!(typeof f<"u")||f;const w=this.ctx,B=this.current.fillColor;let d=!1;this.current.patternFill&&(w.save(),w.fillStyle=B.getPattern(w,this,(0,S.getCurrentTransformInverse)(w),re.PathType.FILL),d=!0);const M=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==M&&(this.pendingEOFill?(w.fill("evenodd"),this.pendingEOFill=!1):w.fill()),d&&w.restore(),f&&this.consumePath(M)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Y}eoClip(){this.pendingClip=H}beginText(){this.current.textMatrix=j.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const f=this.pendingTextPaths,w=this.ctx;if(void 0!==f){w.save(),w.beginPath();for(const B of f)w.setTransform(...B.transform),w.translate(B.x,B.y),B.addToPath(w,B.fontSize);w.restore(),w.clip(),w.beginPath(),delete this.pendingTextPaths}else w.beginPath()}setCharSpacing(f){this.current.charSpacing=f}setWordSpacing(f){this.current.wordSpacing=f}setHScale(f){this.current.textHScale=f/100}setLeading(f){this.current.leading=-f}setFont(f,w){const B=this.commonObjs.get(f),k=this.current;if(!B)throw new Error(`Can't find font for ${f}`);if(k.fontMatrix=B.fontMatrix||j.FONT_IDENTITY_MATRIX,(0===k.fontMatrix[0]||0===k.fontMatrix[3])&&(0,j.warn)("Invalid font matrix for font "+f),w<0?(w=-w,k.fontDirection=-1):k.fontDirection=1,this.current.font=B,this.current.fontSize=w,B.isType3Font)return;let M="normal";B.black?M="900":B.bold&&(M="bold");const L=B.italic?"italic":"normal",$=`"${B.loadedName||"sans-serif"}", ${B.fallbackName}`;let X=w;w<16?X=16:w>100&&(X=100),this.current.fontSizeScale=w/X,this.ctx.font=`${L} ${M} ${X}px ${$}`}setTextRenderingMode(f){this.current.textRenderingMode=f}setTextRise(f){this.current.textRise=f}moveText(f,w){this.current.x=this.current.lineX+=f,this.current.y=this.current.lineY+=w}setLeadingMoveText(f,w){this.setLeading(-w),this.moveText(f,w)}setTextMatrix(f,w,B,k,d,M){this.current.textMatrix=[f,w,B,k,d,M],this.current.textMatrixScale=Math.hypot(f,w),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(f,w,B,k){const d=this.ctx,M=this.current,L=M.font,$=M.textRenderingMode,X=M.fontSize/M.fontSizeScale,ie=$&j.TextRenderingMode.FILL_STROKE_MASK,J=!!($&j.TextRenderingMode.ADD_TO_PATH_FLAG),ae=M.patternFill&&!L.missingFile;let ce;(L.disableFontFace||J||ae)&&(ce=L.getPathGenerator(this.commonObjs,f)),L.disableFontFace||ae?(d.save(),d.translate(w,B),d.beginPath(),ce(d,X),k&&d.setTransform(...k),(ie===j.TextRenderingMode.FILL||ie===j.TextRenderingMode.FILL_STROKE)&&d.fill(),(ie===j.TextRenderingMode.STROKE||ie===j.TextRenderingMode.FILL_STROKE)&&d.stroke(),d.restore()):((ie===j.TextRenderingMode.FILL||ie===j.TextRenderingMode.FILL_STROKE)&&d.fillText(f,w,B),(ie===j.TextRenderingMode.STROKE||ie===j.TextRenderingMode.FILL_STROKE)&&d.strokeText(f,w,B)),J&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,S.getCurrentTransform)(d),x:w,y:B,fontSize:X,addToPath:ce})}get isFontSubpixelAAEnabled(){const{context:f}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);f.scale(1.5,1),f.fillText("I",0,10);const w=f.getImageData(0,0,10,10).data;let B=!1;for(let k=3;k<w.length;k+=4)if(w[k]>0&&w[k]<255){B=!0;break}return(0,j.shadow)(this,"isFontSubpixelAAEnabled",B)}showText(f){const w=this.current,B=w.font;if(B.isType3Font)return this.showType3Text(f);const k=w.fontSize;if(0===k)return;const d=this.ctx,M=w.fontSizeScale,L=w.charSpacing,$=w.wordSpacing,X=w.fontDirection,ie=w.textHScale*X,J=f.length,ae=B.vertical,ce=ae?1:-1,ue=B.defaultVMetrics,ge=k*w.fontMatrix[0],De=w.textRenderingMode===j.TextRenderingMode.FILL&&!B.disableFontFace&&!w.patternFill;let Ee;if(d.save(),d.transform(...w.textMatrix),d.translate(w.x,w.y+w.textRise),d.scale(ie,X>0?-1:1),w.patternFill){d.save();const ve=w.fillColor.getPattern(d,this,(0,S.getCurrentTransformInverse)(d),re.PathType.FILL);Ee=(0,S.getCurrentTransform)(d),d.restore(),d.fillStyle=ve}let Te=w.lineWidth;const de=w.textMatrixScale;if(0===de||0===Te){const ve=w.textRenderingMode&j.TextRenderingMode.FILL_STROKE_MASK;(ve===j.TextRenderingMode.STROKE||ve===j.TextRenderingMode.FILL_STROKE)&&(Te=this.getSinglePixelWidth())}else Te/=de;1!==M&&(d.scale(M,M),Te/=M),d.lineWidth=Te;let Ie,ye=0;for(Ie=0;Ie<J;++Ie){const ve=f[Ie];if("number"==typeof ve){ye+=ce*ve*k/1e3;continue}let Ve=!1;const Ue=(ve.isSpace?$:0)+L,Ne=ve.fontChar,et=ve.accent;let rt,Ct,mn,At=ve.width;if(ae){const kt=ve.vmetric||ue,ht=-(ve.vmetric?kt[1]:.5*At)*ge;At=kt?-kt[0]:At,rt=ht/M,Ct=(ye+kt[2]*ge)/M}else rt=ye/M,Ct=0;if(B.remeasure&&At>0){const kt=1e3*d.measureText(Ne).width/k*M;if(At<kt&&this.isFontSubpixelAAEnabled){const ht=At/kt;Ve=!0,d.save(),d.scale(ht,1),rt/=ht}else At!==kt&&(rt+=(At-kt)/2e3*k/M)}this.contentVisible&&(ve.isInFont||B.missingFile)&&(De&&!et?d.fillText(Ne,rt,Ct):(this.paintChar(Ne,rt,Ct,Ee),et&&this.paintChar(et.fontChar,rt+k*et.offset.x/M,Ct-k*et.offset.y/M,Ee))),mn=ae?At*ge-Ue*X:At*ge+Ue*X,ye+=mn,Ve&&d.restore()}ae?w.y-=ye:w.x+=ye*ie,d.restore(),this.compose()}showType3Text(f){const w=this.ctx,B=this.current,k=B.font,d=B.fontSize,M=B.fontDirection,L=k.vertical?1:-1,$=B.charSpacing,X=B.wordSpacing,ie=B.textHScale*M,J=B.fontMatrix||j.FONT_IDENTITY_MATRIX,ae=f.length;let ue,ge,De,Ee;if(B.textRenderingMode!==j.TextRenderingMode.INVISIBLE&&0!==d){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,w.save(),w.transform(...B.textMatrix),w.translate(B.x,B.y),w.scale(ie,M),ue=0;ue<ae;++ue){if(ge=f[ue],"number"==typeof ge){Ee=L*ge*d/1e3,this.ctx.translate(Ee,0),B.x+=Ee*ie;continue}const Te=(ge.isSpace?X:0)+$,de=k.charProcOperatorList[ge.operatorListId];de?(this.contentVisible&&(this.processingType3=ge,this.save(),w.scale(d,d),w.transform(...J),this.executeOperatorList(de),this.restore()),De=j.Util.applyTransform([ge.width,0],J)[0]*d+Te,w.translate(De,0),B.x+=De*ie):(0,j.warn)(`Type3 character "${ge.operatorListId}" is not available.`)}w.restore(),this.processingType3=null}}setCharWidth(f,w){}setCharWidthAndBounds(f,w,B,k,d,M){this.ctx.rect(B,k,d-B,M-k),this.ctx.clip(),this.endPath()}getColorN_Pattern(f){let w;if("TilingPattern"===f[0]){const B=f[1],k=this.baseTransform||(0,S.getCurrentTransform)(this.ctx);w=new re.TilingPattern(f,B,this.ctx,{createCanvasGraphics:M=>new U(M,this.commonObjs,this.objs,this.canvasFactory)},k)}else w=this._getPattern(f[1],f[2]);return w}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(f,w,B){const k=this.selectColor?.(f,w,B)||j.Util.makeHexColor(f,w,B);this.ctx.strokeStyle=k,this.current.strokeColor=k}setFillRGBColor(f,w,B){const k=this.selectColor?.(f,w,B)||j.Util.makeHexColor(f,w,B);this.ctx.fillStyle=k,this.current.fillColor=k,this.current.patternFill=!1}_getPattern(f,w=null){let B;return this.cachedPatterns.has(f)?B=this.cachedPatterns.get(f):(B=(0,re.getShadingPattern)(this.objs.get(f)),this.cachedPatterns.set(f,B)),w&&(B.matrix=w),B}shadingFill(f){if(!this.contentVisible)return;const w=this.ctx;this.save();const B=this._getPattern(f);w.fillStyle=B.getPattern(w,this,(0,S.getCurrentTransformInverse)(w),re.PathType.SHADING);const k=(0,S.getCurrentTransformInverse)(w);if(k){const d=w.canvas,M=d.width,L=d.height,$=j.Util.applyTransform([0,0],k),X=j.Util.applyTransform([0,L],k),ie=j.Util.applyTransform([M,0],k),J=j.Util.applyTransform([M,L],k),ae=Math.min($[0],X[0],ie[0],J[0]),ce=Math.min($[1],X[1],ie[1],J[1]),ue=Math.max($[0],X[0],ie[0],J[0]),ge=Math.max($[1],X[1],ie[1],J[1]);this.ctx.fillRect(ae,ce,ue-ae,ge-ce)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,j.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,j.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(f,w){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(f)&&6===f.length&&this.transform(...f),this.baseTransform=(0,S.getCurrentTransform)(this.ctx),w)&&(this.ctx.rect(w[0],w[1],w[2]-w[0],w[3]-w[1]),this.current.updateRectMinMax((0,S.getCurrentTransform)(this.ctx),w),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(f){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const w=this.ctx;f.isolated||(0,j.info)("TODO: Support non-isolated groups."),f.knockout&&(0,j.warn)("Knockout groups not supported.");const B=(0,S.getCurrentTransform)(w);if(f.matrix&&w.transform(...f.matrix),!f.bbox)throw new Error("Bounding box is required.");let k=j.Util.getAxialAlignedBoundingBox(f.bbox,(0,S.getCurrentTransform)(w));k=j.Util.intersect(k,[0,0,w.canvas.width,w.canvas.height])||[0,0,0,0];const M=Math.floor(k[0]),L=Math.floor(k[1]);let $=Math.max(Math.ceil(k[2])-M,1),X=Math.max(Math.ceil(k[3])-L,1),ie=1,J=1;$>D&&(ie=$/D,$=D),X>D&&(J=X/D,X=D),this.current.startNewPathAndClipBox([0,0,$,X]);let ae="groupAt"+this.groupLevel;f.smask&&(ae+="_smask_"+this.smaskCounter++%2);const ce=this.cachedCanvases.getCanvas(ae,$,X),ue=ce.context;ue.scale(1/ie,1/J),ue.translate(-M,-L),ue.transform(...B),f.smask?this.smaskStack.push({canvas:ce.canvas,context:ue,offsetX:M,offsetY:L,scaleX:ie,scaleY:J,subtype:f.smask.subtype,backdrop:f.smask.backdrop,transferMap:f.smask.transferMap||null,startTransformInverse:null}):(w.setTransform(1,0,0,1,0,0),w.translate(M,L),w.scale(ie,J),w.save()),g(w,ue),this.ctx=ue,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(w),this.groupLevel++}endGroup(f){if(!this.contentVisible)return;this.groupLevel--;const w=this.ctx,B=this.groupStack.pop();if(this.ctx=B,this.ctx.imageSmoothingEnabled=!1,f.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const k=(0,S.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...k);const d=j.Util.getAxialAlignedBoundingBox([0,0,w.canvas.width,w.canvas.height],k);this.ctx.drawImage(w.canvas,0,0),this.ctx.restore(),this.compose(d)}}beginAnnotation(f,w,B,k,d){if(this.#e(),I(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(w)&&4===w.length){const M=w[2]-w[0],L=w[3]-w[1];if(d&&this.annotationCanvasMap){(B=B.slice())[4]-=w[0],B[5]-=w[1],(w=w.slice())[0]=w[1]=0,w[2]=M,w[3]=L;const[$,X]=j.Util.singularValueDecompose2dScale((0,S.getCurrentTransform)(this.ctx)),{viewportScale:ie}=this,J=Math.ceil(M*this.outputScaleX*ie),ae=Math.ceil(L*this.outputScaleY*ie);this.annotationCanvas=this.canvasFactory.create(J,ae);const{canvas:ce,context:ue}=this.annotationCanvas;this.annotationCanvasMap.set(f,ce),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ue,this.ctx.setTransform($,0,0,-X,0,L*X),I(this.ctx,this.foregroundColor)}else I(this.ctx,this.foregroundColor),this.ctx.rect(w[0],w[1],M,L),this.ctx.clip(),this.endPath()}this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...B),this.transform(...k)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(f){if(!this.contentVisible)return;const w=f.count;(f=this.getObject(f.data,f)).count=w;const B=this.ctx,k=this.processingType3;if(k&&(void 0===k.compiled&&(k.compiled=function R(x){const{width:f,height:w}=x;if(f>F||w>F)return null;const k=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),d=f+1;let L,$,X,M=new Uint8Array(d*(w+1));const ie=f+7&-8;let J=new Uint8Array(ie*w),ae=0;for(const Ee of x.data){let Te=128;for(;Te>0;)J[ae++]=Ee&Te?0:255,Te>>=1}let ce=0;for(ae=0,0!==J[ae]&&(M[0]=1,++ce),$=1;$<f;$++)J[ae]!==J[ae+1]&&(M[$]=J[ae]?2:1,++ce),ae++;for(0!==J[ae]&&(M[$]=2,++ce),L=1;L<w;L++){ae=L*ie,X=L*d,J[ae-ie]!==J[ae]&&(M[X]=J[ae]?1:8,++ce);let Ee=(J[ae]?4:0)+(J[ae-ie]?8:0);for($=1;$<f;$++)Ee=(Ee>>2)+(J[ae+1]?4:0)+(J[ae-ie+1]?8:0),k[Ee]&&(M[X+$]=k[Ee],++ce),ae++;if(J[ae-ie]!==J[ae]&&(M[X+$]=J[ae]?2:4,++ce),ce>1e3)return null}for(ae=ie*(w-1),X=L*d,0!==J[ae]&&(M[X]=8,++ce),$=1;$<f;$++)J[ae]!==J[ae+1]&&(M[X+$]=J[ae]?4:8,++ce),ae++;if(0!==J[ae]&&(M[X+$]=4,++ce),ce>1e3)return null;const ue=new Int32Array([0,d,-1,0,-d,0,0,0,1]),ge=new Path2D;for(L=0;ce&&L<=w;L++){let Ee=L*d;const Te=Ee+f;for(;Ee<Te&&!M[Ee];)Ee++;if(Ee===Te)continue;ge.moveTo(Ee%d,L);const de=Ee;let ye=M[Ee];do{const Ie=ue[ye];do{Ee+=Ie}while(!M[Ee]);const ve=M[Ee];5!==ve&&10!==ve?(ye=ve,M[Ee]=0):(ye=ve&51*ye>>4,M[Ee]&=ye>>2|ye<<2),ge.lineTo(Ee%d,Ee/d|0),M[Ee]||--ce}while(de!==Ee);--L}return J=null,M=null,function(Ee){Ee.save(),Ee.scale(1/f,-1/w),Ee.translate(0,-w),Ee.fill(ge),Ee.beginPath(),Ee.restore()}}(f)),k.compiled))return void k.compiled(B);const d=this._createMaskCanvas(f),M=d.canvas;B.save(),B.setTransform(1,0,0,1,0,0),B.drawImage(M,d.offsetX,d.offsetY),B.restore(),this.compose()}paintImageMaskXObjectRepeat(f,w,B=0,k=0,d,M){if(!this.contentVisible)return;f=this.getObject(f.data,f);const L=this.ctx;L.save();const $=(0,S.getCurrentTransform)(L);L.transform(w,B,k,d,0,0);const X=this._createMaskCanvas(f);L.setTransform(1,0,0,1,0,0);for(let ie=0,J=M.length;ie<J;ie+=2){const ae=j.Util.transform($,[w,B,k,d,M[ie],M[ie+1]]),[ce,ue]=j.Util.applyTransform([0,0],ae);L.drawImage(X.canvas,ce,ue)}L.restore(),this.compose()}paintImageMaskXObjectGroup(f){if(!this.contentVisible)return;const w=this.ctx,B=this.current.fillColor,k=this.current.patternFill;for(const d of f){const{data:M,width:L,height:$,transform:X}=d,ie=this.cachedCanvases.getCanvas("maskCanvas",L,$),J=ie.context;J.save(),u(J,this.getObject(M,d)),J.globalCompositeOperation="source-in",J.fillStyle=k?B.getPattern(J,this,(0,S.getCurrentTransformInverse)(w),re.PathType.FILL):B,J.fillRect(0,0,L,$),J.restore(),w.save(),w.transform(...X),w.scale(1,-1),O(w,ie.canvas,0,0,L,$,0,-1,1,1),w.restore()}this.compose()}paintImageXObject(f){if(!this.contentVisible)return;const w=this.getObject(f);w?this.paintInlineImageXObject(w):(0,j.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(f,w,B,k){if(!this.contentVisible)return;const d=this.getObject(f);if(!d)return void(0,j.warn)("Dependent image isn't ready yet");const M=d.width,L=d.height,$=[];for(let X=0,ie=k.length;X<ie;X+=2)$.push({transform:[w,0,0,B,k[X],k[X+1]],x:0,y:0,w:M,h:L});this.paintInlineImageXObjectGroup(d,$)}paintInlineImageXObject(f){if(!this.contentVisible)return;const w=f.width,B=f.height,k=this.ctx;let d;if(this.save(),k.scale(1/w,-1/B),"function"==typeof HTMLElement&&f instanceof HTMLElement||!f.data)d=f;else{const X=this.cachedCanvases.getCanvas("inlineImage",w,B);E(X.context,f,this.current.transferMaps),d=X.canvas}const M=this._scaleImage(d,(0,S.getCurrentTransformInverse)(k));k.imageSmoothingEnabled=pe((0,S.getCurrentTransform)(k),f.interpolate);const[L,$]=O(k,M.img,0,0,M.paintWidth,M.paintHeight,0,-B,w,B);if(this.imageLayer){const[X,ie]=j.Util.applyTransform([0,-B],(0,S.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:f,left:X,top:ie,width:L,height:$})}this.compose(),this.restore()}paintInlineImageXObjectGroup(f,w){if(!this.contentVisible)return;const B=this.ctx,k=f.width,d=f.height,M=this.cachedCanvases.getCanvas("inlineImage",k,d);E(M.context,f,this.current.transferMaps);for(const $ of w){if(B.save(),B.transform(...$.transform),B.scale(1,-1),O(B,M.canvas,$.x,$.y,$.w,$.h,0,-1,1,1),this.imageLayer){const[X,ie]=j.Util.applyTransform([$.x,$.y],(0,S.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:f,left:X,top:ie,width:k,height:d})}B.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(f){}markPointProps(f,w){}beginMarkedContent(f){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(f,w){this.markedContentStack.push("OC"===f?{visible:this.optionalContentConfig.isVisible(w)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(f){const w=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(f);const B=this.ctx;this.pendingClip&&(w||(this.pendingClip===H?B.clip("evenodd"):B.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),B.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const f=(0,S.getCurrentTransform)(this.ctx);if(0===f[1]&&0===f[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(f[0]),Math.abs(f[3]));else{const w=Math.abs(f[0]*f[3]-f[2]*f[1]),B=Math.hypot(f[0],f[2]),k=Math.hypot(f[1],f[3]);this._cachedGetSinglePixelWidth=Math.max(B,k)/w}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:f}=this.current,w=(0,S.getCurrentTransform)(this.ctx);let B,k;if(0===w[1]&&0===w[2]){const d=Math.abs(w[0]),M=Math.abs(w[3]);if(0===f)B=1/d,k=1/M;else{const L=d*f,$=M*f;B=L<1?1/L:1,k=$<1?1/$:1}}else{const d=Math.abs(w[0]*w[3]-w[2]*w[1]),M=Math.hypot(w[0],w[1]),L=Math.hypot(w[2],w[3]);if(0===f)B=L/d,k=M/d;else{const $=f*d;B=L>$?L/$:1,k=M>$?M/$:1}}this._cachedScaleForStroking=[B,k]}return this._cachedScaleForStroking}rescaleAndStroke(f){const{ctx:w}=this,{lineWidth:B}=this.current,[k,d]=this.getScaleForStroking();if(w.lineWidth=B||1,1===k&&1===d)return void w.stroke();let M,L,$;f&&(M=(0,S.getCurrentTransform)(w),L=w.getLineDash().slice(),$=w.lineDashOffset),w.scale(k,d);const X=Math.max(k,d);w.setLineDash(w.getLineDash().map(ie=>ie/X)),w.lineDashOffset/=X,w.stroke(),f&&(w.setTransform(...M),w.setLineDash(L),w.lineDashOffset=$)}isContentVisible(){for(let f=this.markedContentStack.length-1;f>=0;f--)if(!this.markedContentStack[f].visible)return!1;return!0}}C.CanvasGraphics=U;for(const x in j.OPS)void 0!==U.prototype[x]&&(U.prototype[j.OPS[x]]=U.prototype[x])},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.TilingPattern=C.PathType=void 0,C.getShadingPattern=function y(O){switch(O[0]){case"RadialAxial":return new m(O);case"Mesh":return new b(O);case"Dummy":return new F}throw new Error(`Unknown IR type: ${O[0]}`)};var S=te(1),j=te(8),re=te(3);const ee={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function oe(O,R){if(!R||re.isNodeJS)return;const P=R[2]-R[0],E=R[3]-R[1],u=new Path2D;u.rect(R[0],R[1],P,E),O.clip(u)}C.PathType=ee;class V{constructor(){this.constructor===V&&(0,S.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,S.unreachable)("Abstract method `getPattern` called.")}}class m extends V{constructor(R){super(),this._type=R[1],this._bbox=R[2],this._colorStops=R[3],this._p0=R[4],this._p1=R[5],this._r0=R[6],this._r1=R[7],this.matrix=null}_createGradient(R){let P;"axial"===this._type?P=R.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(P=R.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const E of this._colorStops)P.addColorStop(E[0],E[1]);return P}getPattern(R,P,E,u){let g;if(u===ee.STROKE||u===ee.FILL){const I=P.current.getClippedPathBoundingBox(u,(0,j.getCurrentTransform)(R))||[0,0,0,0],z=Math.ceil(I[2]-I[0])||1,q=Math.ceil(I[3]-I[1])||1,ne=P.cachedCanvases.getCanvas("pattern",z,q,!0),Q=ne.context;Q.clearRect(0,0,Q.canvas.width,Q.canvas.height),Q.beginPath(),Q.rect(0,0,Q.canvas.width,Q.canvas.height),Q.translate(-I[0],-I[1]),E=S.Util.transform(E,[1,0,0,1,I[0],I[1]]),Q.transform(...P.baseTransform),this.matrix&&Q.transform(...this.matrix),oe(Q,this._bbox),Q.fillStyle=this._createGradient(Q),Q.fill(),g=R.createPattern(ne.canvas,"no-repeat");const me=new DOMMatrix(E);try{g.setTransform(me)}catch(pe){(0,S.warn)(`RadialAxialShadingPattern.getPattern: "${pe?.message}".`)}}else oe(R,this._bbox),g=this._createGradient(R);return g}}function D(O,R,P,E,u,g,I,z){const q=R.coords,ne=R.colors,Q=O.data,me=4*O.width;let pe;q[P+1]>q[E+1]&&(pe=P,P=E,E=pe,pe=g,g=I,I=pe),q[E+1]>q[u+1]&&(pe=E,E=u,u=pe,pe=I,I=z,z=pe),q[P+1]>q[E+1]&&(pe=P,P=E,E=pe,pe=g,g=I,I=pe);const N=(q[P]+R.offsetX)*R.scaleX,W=(q[P+1]+R.offsetY)*R.scaleY,Y=(q[E]+R.offsetX)*R.scaleX,H=(q[E+1]+R.offsetY)*R.scaleY,U=(q[u]+R.offsetX)*R.scaleX,x=(q[u+1]+R.offsetY)*R.scaleY;if(W>=x)return;const f=ne[g],w=ne[g+1],B=ne[g+2],k=ne[I],d=ne[I+1],M=ne[I+2],L=ne[z],$=ne[z+1],X=ne[z+2],ie=Math.round(W),J=Math.round(x);let ae,ce,ue,ge,De,Ee,Te,de;for(let ye=ie;ye<=J;ye++){if(ye<H){let Ne;Ne=ye<W?0:(W-ye)/(W-H),ae=N-(N-Y)*Ne,ce=f-(f-k)*Ne,ue=w-(w-d)*Ne,ge=B-(B-M)*Ne}else{let Ne;Ne=ye>x?1:H===x?0:(H-ye)/(H-x),ae=Y-(Y-U)*Ne,ce=k-(k-L)*Ne,ue=d-(d-$)*Ne,ge=M-(M-X)*Ne}let Ie;Ie=ye<W?0:ye>x?1:(W-ye)/(W-x),De=N-(N-U)*Ie,Ee=f-(f-L)*Ie,Te=w-(w-$)*Ie,de=B-(B-X)*Ie;const ve=Math.round(Math.min(ae,De)),Ve=Math.round(Math.max(ae,De));let Ue=me*ye+4*ve;for(let Ne=ve;Ne<=Ve;Ne++)Ie=(ae-Ne)/(ae-De),Ie<0?Ie=0:Ie>1&&(Ie=1),Q[Ue++]=ce-(ce-Ee)*Ie|0,Q[Ue++]=ue-(ue-Te)*Ie|0,Q[Ue++]=ge-(ge-de)*Ie|0,Q[Ue++]=255}}function p(O,R,P){const E=R.coords,u=R.colors;let g,I;switch(R.type){case"lattice":const z=R.verticesPerRow,q=Math.floor(E.length/z)-1,ne=z-1;for(g=0;g<q;g++){let Q=g*z;for(let me=0;me<ne;me++,Q++)D(O,P,E[Q],E[Q+1],E[Q+z],u[Q],u[Q+1],u[Q+z]),D(O,P,E[Q+z+1],E[Q+1],E[Q+z],u[Q+z+1],u[Q+1],u[Q+z])}break;case"triangles":for(g=0,I=E.length;g<I;g+=3)D(O,P,E[g],E[g+1],E[g+2],u[g],u[g+1],u[g+2]);break;default:throw new Error("illegal figure")}}class b extends V{constructor(R){super(),this._coords=R[2],this._colors=R[3],this._figures=R[4],this._bounds=R[5],this._bbox=R[7],this._background=R[8],this.matrix=null}_createMeshCanvas(R,P,E){const z=Math.floor(this._bounds[0]),q=Math.floor(this._bounds[1]),ne=Math.ceil(this._bounds[2])-z,Q=Math.ceil(this._bounds[3])-q,me=Math.min(Math.ceil(Math.abs(ne*R[0]*1.1)),3e3),pe=Math.min(Math.ceil(Math.abs(Q*R[1]*1.1)),3e3),N=ne/me,W=Q/pe,Y={coords:this._coords,colors:this._colors,offsetX:-z,offsetY:-q,scaleX:1/N,scaleY:1/W},x=E.getCanvas("mesh",me+4,pe+4,!1),f=x.context,w=f.createImageData(me,pe);if(P){const k=w.data;for(let d=0,M=k.length;d<M;d+=4)k[d]=P[0],k[d+1]=P[1],k[d+2]=P[2],k[d+3]=255}for(const k of this._figures)p(w,k,Y);return f.putImageData(w,2,2),{canvas:x.canvas,offsetX:z-2*N,offsetY:q-2*W,scaleX:N,scaleY:W}}getPattern(R,P,E,u){let g;if(oe(R,this._bbox),u===ee.SHADING)g=S.Util.singularValueDecompose2dScale((0,j.getCurrentTransform)(R));else if(g=S.Util.singularValueDecompose2dScale(P.baseTransform),this.matrix){const z=S.Util.singularValueDecompose2dScale(this.matrix);g=[g[0]*z[0],g[1]*z[1]]}const I=this._createMeshCanvas(g,u===ee.SHADING?null:this._background,P.cachedCanvases);return u!==ee.SHADING&&(R.setTransform(...P.baseTransform),this.matrix&&R.transform(...this.matrix)),R.translate(I.offsetX,I.offsetY),R.scale(I.scaleX,I.scaleY),R.createPattern(I.canvas,"no-repeat")}}class F extends V{getPattern(){return"hotpink"}}class _{static get MAX_PATTERN_SIZE(){return(0,S.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(R,P,E,u,g){this.operatorList=R[2],this.matrix=R[3]||[1,0,0,1,0,0],this.bbox=R[4],this.xstep=R[5],this.ystep=R[6],this.paintType=R[7],this.tilingType=R[8],this.color=P,this.ctx=E,this.canvasGraphicsFactory=u,this.baseTransform=g}createPatternCanvas(R){const P=this.operatorList,E=this.bbox,u=this.xstep,g=this.ystep,I=this.paintType,q=this.color,ne=this.canvasGraphicsFactory;(0,S.info)("TilingType: "+this.tilingType);const Q=E[0],me=E[1],pe=E[2],N=E[3],W=S.Util.singularValueDecompose2dScale(this.matrix),Y=S.Util.singularValueDecompose2dScale(this.baseTransform),H=[W[0]*Y[0],W[1]*Y[1]],U=this.getSizeAndScale(u,this.ctx.canvas.width,H[0]),x=this.getSizeAndScale(g,this.ctx.canvas.height,H[1]),f=R.cachedCanvases.getCanvas("pattern",U.size,x.size,!0),w=f.context,B=ne.createCanvasGraphics(w);B.groupLevel=R.groupLevel,this.setFillAndStrokeStyleToContext(B,I,q);let k=Q,d=me,M=pe,L=N;return Q<0&&(k=0,M+=Math.abs(Q)),me<0&&(d=0,L+=Math.abs(me)),w.translate(-U.scale*k,-x.scale*d),B.transform(U.scale,0,0,x.scale,0,0),w.save(),this.clipBbox(B,k,d,M,L),B.baseTransform=(0,j.getCurrentTransform)(B.ctx),B.executeOperatorList(P),B.endDrawing(),{canvas:f.canvas,scaleX:U.scale,scaleY:x.scale,offsetX:k,offsetY:d}}getSizeAndScale(R,P,E){R=Math.abs(R);const u=Math.max(_.MAX_PATTERN_SIZE,P);let g=Math.ceil(R*E);return g>=u?g=u:E=g/R,{scale:E,size:g}}clipBbox(R,P,E,u,g){R.ctx.rect(P,E,u-P,g-E),R.current.updateRectMinMax((0,j.getCurrentTransform)(R.ctx),[P,E,u,g]),R.clip(),R.endPath()}setFillAndStrokeStyleToContext(R,P,E){const u=R.ctx,g=R.current;switch(P){case 1:const I=this.ctx;u.fillStyle=I.fillStyle,u.strokeStyle=I.strokeStyle,g.fillColor=I.fillStyle,g.strokeColor=I.strokeStyle;break;case 2:const z=S.Util.makeHexColor(E[0],E[1],E[2]);u.fillStyle=z,u.strokeStyle=z,g.fillColor=z,g.strokeColor=z;break;default:throw new S.FormatError(`Unsupported paint type: ${P}`)}}getPattern(R,P,E,u){let g=E;u!==ee.SHADING&&(g=S.Util.transform(g,P.baseTransform),this.matrix&&(g=S.Util.transform(g,this.matrix)));const I=this.createPatternCanvas(P);let z=new DOMMatrix(g);z=z.translate(I.offsetX,I.offsetY),z=z.scale(1/I.scaleX,1/I.scaleY);const q=R.createPattern(I.canvas,"repeat");try{q.setTransform(z)}catch(ne){(0,S.warn)(`TilingPattern.getPattern: "${ne?.message}".`)}return q}}C.TilingPattern=_},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.applyMaskImageData=function j({src:re,srcPos:ee=0,dest:oe,destPos:V=0,width:m,height:D,inverseDecode:p=!1}){const b=S.FeatureTest.isLittleEndian?4278190080:255,[F,y]=p?[0,b]:[b,0],v=m>>3,_=7&m,O=re.length;oe=new Uint32Array(oe.buffer);for(let R=0;R<D;R++){for(const E=ee+v;ee<E;ee++){const u=ee<O?re[ee]:255;oe[V++]=128&u?y:F,oe[V++]=64&u?y:F,oe[V++]=32&u?y:F,oe[V++]=16&u?y:F,oe[V++]=8&u?y:F,oe[V++]=4&u?y:F,oe[V++]=2&u?y:F,oe[V++]=1&u?y:F}if(0===_)continue;const P=ee<O?re[ee++]:255;for(let E=0;E<_;E++)oe[V++]=P&1<<7-E?y:F}return{srcPos:ee,destPos:V}};var S=te(1)},(be,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.GlobalWorkerOptions=void 0;const te=Object.create(null);C.GlobalWorkerOptions=te,te.workerPort=void 0===te.workerPort?null:te.workerPort,te.workerSrc=void 0===te.workerSrc?"":te.workerSrc},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.MessageHandler=void 0;var S=te(1);function ee(V){switch(V instanceof Error||"object"==typeof V&&null!==V||(0,S.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),V.name){case"AbortException":return new S.AbortException(V.message);case"MissingPDFException":return new S.MissingPDFException(V.message);case"PasswordException":return new S.PasswordException(V.message,V.code);case"UnexpectedResponseException":return new S.UnexpectedResponseException(V.message,V.status);case"UnknownErrorException":return new S.UnknownErrorException(V.message,V.details);default:return new S.UnknownErrorException(V.message,V.toString())}}C.MessageHandler=class oe{constructor(m,D,p){this.sourceName=m,this.targetName=D,this.comObj=p,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=b=>{const F=b.data;if(F.targetName!==this.sourceName)return;if(F.stream)return void this._processStreamMessage(F);if(F.callback){const v=F.callbackId,_=this.callbackCapabilities[v];if(!_)throw new Error(`Cannot resolve callback ${v}`);if(delete this.callbackCapabilities[v],1===F.callback)_.resolve(F.data);else{if(2!==F.callback)throw new Error("Unexpected callback case");_.reject(ee(F.reason))}return}const y=this.actionHandler[F.action];if(!y)throw new Error(`Unknown action from worker: ${F.action}`);if(F.callbackId){const v=this.sourceName,_=F.sourceName;new Promise(function(O){O(y(F.data))}).then(function(O){p.postMessage({sourceName:v,targetName:_,callback:1,callbackId:F.callbackId,data:O})},function(O){p.postMessage({sourceName:v,targetName:_,callback:2,callbackId:F.callbackId,reason:ee(O)})})}else F.streamId?this._createStreamSink(F):y(F.data)},p.addEventListener("message",this._onComObjOnMessage)}on(m,D){const p=this.actionHandler;if(p[m])throw new Error(`There is already an actionName called "${m}"`);p[m]=D}send(m,D,p){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:m,data:D},p)}sendWithPromise(m,D,p){const b=this.callbackId++,F=(0,S.createPromiseCapability)();this.callbackCapabilities[b]=F;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:m,callbackId:b,data:D},p)}catch(y){F.reject(y)}return F.promise}sendWithStream(m,D,p,b){const F=this.streamId++,y=this.sourceName,v=this.targetName,_=this.comObj;return new ReadableStream({start:O=>{const R=(0,S.createPromiseCapability)();return this.streamControllers[F]={controller:O,startCall:R,pullCall:null,cancelCall:null,isClosed:!1},_.postMessage({sourceName:y,targetName:v,action:m,streamId:F,data:D,desiredSize:O.desiredSize},b),R.promise},pull:O=>{const R=(0,S.createPromiseCapability)();return this.streamControllers[F].pullCall=R,_.postMessage({sourceName:y,targetName:v,stream:6,streamId:F,desiredSize:O.desiredSize}),R.promise},cancel:O=>{(0,S.assert)(O instanceof Error,"cancel must have a valid reason");const R=(0,S.createPromiseCapability)();return this.streamControllers[F].cancelCall=R,this.streamControllers[F].isClosed=!0,_.postMessage({sourceName:y,targetName:v,stream:1,streamId:F,reason:ee(O)}),R.promise}},p)}_createStreamSink(m){const D=m.streamId,p=this.sourceName,b=m.sourceName,F=this.comObj,y=this,v=this.actionHandler[m.action],_={enqueue(O,R=1,P){if(this.isCancelled)return;const E=this.desiredSize;this.desiredSize-=R,E>0&&this.desiredSize<=0&&(this.sinkCapability=(0,S.createPromiseCapability)(),this.ready=this.sinkCapability.promise),F.postMessage({sourceName:p,targetName:b,stream:4,streamId:D,chunk:O},P)},close(){this.isCancelled||(this.isCancelled=!0,F.postMessage({sourceName:p,targetName:b,stream:3,streamId:D}),delete y.streamSinks[D])},error(O){(0,S.assert)(O instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,F.postMessage({sourceName:p,targetName:b,stream:5,streamId:D,reason:ee(O)}))},sinkCapability:(0,S.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:m.desiredSize,ready:null};_.sinkCapability.resolve(),_.ready=_.sinkCapability.promise,this.streamSinks[D]=_,new Promise(function(O){O(v(m.data,_))}).then(function(){F.postMessage({sourceName:p,targetName:b,stream:8,streamId:D,success:!0})},function(O){F.postMessage({sourceName:p,targetName:b,stream:8,streamId:D,reason:ee(O)})})}_processStreamMessage(m){const D=m.streamId,p=this.sourceName,b=m.sourceName,F=this.comObj,y=this.streamControllers[D],v=this.streamSinks[D];switch(m.stream){case 8:m.success?y.startCall.resolve():y.startCall.reject(ee(m.reason));break;case 7:m.success?y.pullCall.resolve():y.pullCall.reject(ee(m.reason));break;case 6:if(!v){F.postMessage({sourceName:p,targetName:b,stream:7,streamId:D,success:!0});break}v.desiredSize<=0&&m.desiredSize>0&&v.sinkCapability.resolve(),v.desiredSize=m.desiredSize,new Promise(function(_){_(v.onPull&&v.onPull())}).then(function(){F.postMessage({sourceName:p,targetName:b,stream:7,streamId:D,success:!0})},function(_){F.postMessage({sourceName:p,targetName:b,stream:7,streamId:D,reason:ee(_)})});break;case 4:if((0,S.assert)(y,"enqueue should have stream controller"),y.isClosed)break;y.controller.enqueue(m.chunk);break;case 3:if((0,S.assert)(y,"close should have stream controller"),y.isClosed)break;y.isClosed=!0,y.controller.close(),this._deleteStreamController(y,D);break;case 5:(0,S.assert)(y,"error should have stream controller"),y.controller.error(ee(m.reason)),this._deleteStreamController(y,D);break;case 2:m.success?y.cancelCall.resolve():y.cancelCall.reject(ee(m.reason)),this._deleteStreamController(y,D);break;case 1:if(!v)break;new Promise(function(_){_(v.onCancel&&v.onCancel(ee(m.reason)))}).then(function(){F.postMessage({sourceName:p,targetName:b,stream:2,streamId:D,success:!0})},function(_){F.postMessage({sourceName:p,targetName:b,stream:2,streamId:D,reason:ee(_)})}),v.sinkCapability.reject(ee(m.reason)),v.isCancelled=!0,delete this.streamSinks[D];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(m,D){var p=this;return _asyncToGenerator(function*(){yield Promise.allSettled([m.startCall&&m.startCall.promise,m.pullCall&&m.pullCall.promise,m.cancelCall&&m.cancelCall.promise]),delete p.streamControllers[D]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.Metadata=void 0;var S=te(1);C.Metadata=class j{#e;#t;constructor({parsedData:ee,rawData:oe}){this.#e=ee,this.#t=oe}getRaw(){return this.#t}get(ee){return this.#e.get(ee)??null}getAll(){return(0,S.objectFromMap)(this.#e)}has(ee){return this.#e.has(ee)}}},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.OptionalContentConfig=void 0;var S=te(1);const j=Symbol("INTERNAL");class re{#e=!0;constructor(V,m){this.name=V,this.intent=m}get visible(){return this.#e}_setVisible(V,m){V!==j&&(0,S.unreachable)("Internal method `_setVisible` called."),this.#e=m}}C.OptionalContentConfig=class ee{#e=!0;#t=new Map;#n=null;#i=null;constructor(V){if(this.name=null,this.creator=null,null!==V){this.name=V.name,this.creator=V.creator,this.#i=V.order;for(const m of V.groups)this.#t.set(m.id,new re(m.name,m.intent));if("OFF"===V.baseState)for(const m of this.#t.values())m._setVisible(j,!1);for(const m of V.on)this.#t.get(m)._setVisible(j,!0);for(const m of V.off)this.#t.get(m)._setVisible(j,!1);this.#n=new Map;for(const[m,D]of this.#t)this.#n.set(m,D.visible)}}#s(V){const m=V.length;if(m<2)return!0;const D=V[0];for(let p=1;p<m;p++){const b=V[p];let F;if(Array.isArray(b))F=this.#s(b);else{if(!this.#t.has(b))return(0,S.warn)(`Optional content group not found: ${b}`),!0;F=this.#t.get(b).visible}switch(D){case"And":if(!F)return!1;break;case"Or":if(F)return!0;break;case"Not":return!F;default:return!0}}return"And"===D}isVisible(V){if(0===this.#t.size)return!0;if(!V)return(0,S.warn)("Optional content group not defined."),!0;if("OCG"===V.type)return this.#t.has(V.id)?this.#t.get(V.id).visible:((0,S.warn)(`Optional content group not found: ${V.id}`),!0);if("OCMD"===V.type){if(V.expression)return this.#s(V.expression);if(!V.policy||"AnyOn"===V.policy){for(const m of V.ids){if(!this.#t.has(m))return(0,S.warn)(`Optional content group not found: ${m}`),!0;if(this.#t.get(m).visible)return!0}return!1}if("AllOn"===V.policy){for(const m of V.ids){if(!this.#t.has(m))return(0,S.warn)(`Optional content group not found: ${m}`),!0;if(!this.#t.get(m).visible)return!1}return!0}if("AnyOff"===V.policy){for(const m of V.ids){if(!this.#t.has(m))return(0,S.warn)(`Optional content group not found: ${m}`),!0;if(!this.#t.get(m).visible)return!0}return!1}if("AllOff"===V.policy){for(const m of V.ids){if(!this.#t.has(m))return(0,S.warn)(`Optional content group not found: ${m}`),!0;if(this.#t.get(m).visible)return!1}return!0}return(0,S.warn)(`Unknown optional content policy ${V.policy}.`),!0}return(0,S.warn)(`Unknown group type ${V.type}.`),!0}setVisibility(V,m=!0){this.#t.has(V)?(this.#t.get(V)._setVisible(j,!!m),this.#e=null):(0,S.warn)(`Optional content group not found: ${V}`)}get hasInitialVisibility(){if(null!==this.#e)return this.#e;for(const[V,m]of this.#t){const D=this.#n.get(V);if(m.visible!==D)return this.#e=!1}return this.#e=!0}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,S.objectFromMap)(this.#t):null}getGroup(V){return this.#t.get(V)||null}}},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.PDFDataTransportStream=void 0;var S=te(1),j=te(8);C.PDFDataTransportStream=class re{constructor(m,D){(0,S.assert)(D,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=m.progressiveDone||!1,this._contentDispositionFilename=m.contentDispositionFilename||null;const p=m.initialData;if(p?.length>0){const b=new Uint8Array(p).buffer;this._queuedChunks.push(b)}this._pdfDataRangeTransport=D,this._isStreamingSupported=!m.disableStream,this._isRangeSupported=!m.disableRange,this._contentLength=m.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((b,F)=>{this._onReceiveData({begin:b,chunk:F})}),this._pdfDataRangeTransport.addProgressListener((b,F)=>{this._onProgress({loaded:b,total:F})}),this._pdfDataRangeTransport.addProgressiveReadListener(b=>{this._onReceiveData({chunk:b})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(m){const D=new Uint8Array(m.chunk).buffer;if(void 0===m.begin)this._fullRequestReader?this._fullRequestReader._enqueue(D):this._queuedChunks.push(D);else{const p=this._rangeReaders.some(function(b){return b._begin===m.begin&&(b._enqueue(D),!0)});(0,S.assert)(p,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(m){if(void 0===m.total){const D=this._rangeReaders[0];D?.onProgress&&D.onProgress({loaded:m.loaded})}else{const D=this._fullRequestReader;D?.onProgress&&D.onProgress({loaded:m.loaded,total:m.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(m){const D=this._rangeReaders.indexOf(m);D>=0&&this._rangeReaders.splice(D,1)}getFullReader(){(0,S.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const m=this._queuedChunks;return this._queuedChunks=null,new ee(this,m,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(m,D){if(D<=this._progressiveDataLength)return null;const p=new oe(this,m,D);return this._pdfDataRangeTransport.requestDataRange(m,D),this._rangeReaders.push(p),p}cancelAllRequests(m){this._fullRequestReader&&this._fullRequestReader.cancel(m);for(const D of this._rangeReaders.slice(0))D.cancel(m);this._pdfDataRangeTransport.abort()}};class ee{constructor(m,D,p=!1,b=null){this._stream=m,this._done=p||!1,this._filename=(0,j.isPdfFile)(b)?b:null,this._queuedChunks=D||[],this._loaded=0;for(const F of this._queuedChunks)this._loaded+=F.byteLength;this._requests=[],this._headersReady=Promise.resolve(),m._fullRequestReader=this,this.onProgress=null}_enqueue(m){this._done||(this._requests.length>0?this._requests.shift().resolve({value:m,done:!1}):this._queuedChunks.push(m),this._loaded+=m.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var m=this;return _asyncToGenerator(function*(){if(m._queuedChunks.length>0)return{value:m._queuedChunks.shift(),done:!1};if(m._done)return{value:void 0,done:!0};const D=(0,S.createPromiseCapability)();return m._requests.push(D),D.promise})()}cancel(m){this._done=!0;for(const D of this._requests)D.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class oe{constructor(m,D,p){this._stream=m,this._begin=D,this._end=p,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(m){if(!this._done){if(0===this._requests.length)this._queuedChunk=m;else{this._requests.shift().resolve({value:m,done:!1});for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var m=this;return _asyncToGenerator(function*(){if(m._queuedChunk){const p=m._queuedChunk;return m._queuedChunk=null,{value:p,done:!1}}if(m._done)return{value:void 0,done:!0};const D=(0,S.createPromiseCapability)();return m._requests.push(D),D.promise})()}cancel(m){this._done=!0;for(const D of this._requests)D.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(be,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.XfaText=void 0;class te{static textContent(j){const re=[],ee={items:re,styles:Object.create(null)};return function oe(V){if(!V)return;let m=null;const D=V.name;if("#text"===D)m=V.value;else{if(!te.shouldBuildText(D))return;V?.attributes?.textContent?m=V.attributes.textContent:V.value&&(m=V.value)}if(null!==m&&re.push({str:m}),V.children)for(const p of V.children)oe(p)}(j),ee}static shouldBuildText(j){return!("textarea"===j||"input"===j||"option"===j||"select"===j)}}C.XfaText=te},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.NodeStandardFontDataFactory=C.NodeCanvasFactory=C.NodeCMapReaderFactory=void 0;var S=te(9);const j=function(V){return new Promise((m,D)=>{__webpack_require__(172).readFile(V,(b,F)=>{!b&&F?m(new Uint8Array(F)):D(new Error(b))})})};C.NodeCanvasFactory=class re extends S.BaseCanvasFactory{_createCanvas(m,D){return __webpack_require__(414).createCanvas(m,D)}},C.NodeCMapReaderFactory=class ee extends S.BaseCMapReaderFactory{_fetchData(m,D){return j(m).then(p=>({cMapData:p,compressionType:D}))}},C.NodeStandardFontDataFactory=class oe extends S.BaseStandardFontDataFactory{_fetchData(m){return j(m)}}},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.AnnotationEditorLayer=void 0;var S=te(7),j=te(1),re=te(23),ee=te(24);C.AnnotationEditorLayer=(()=>{class V{#e;#t=!1;#n=this.pointerup.bind(this);#i=this.pointerdown.bind(this);#s=new Map;#c=!1;#a=!1;#r;static _initialized=!1;constructor(D){V._initialized||(V._initialized=!0,re.FreeTextEditor.initialize(D.l10n),ee.InkEditor.initialize(D.l10n),D.uiManager.registerEditorTypes([re.FreeTextEditor,ee.InkEditor])),this.#r=D.uiManager,this.annotationStorage=D.annotationStorage,this.pageIndex=D.pageIndex,this.div=D.div,this.#e=D.accessibilityManager,this.#r.addLayer(this)}updateToolbar(D){this.#r.updateToolbar(D)}updateMode(D=this.#r.getMode()){this.#o(),D===j.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),this.#r.unselectAll()}addInkEditorIfNeeded(D){if(D||this.#r.getMode()===j.AnnotationEditorType.INK){if(!D)for(const b of this.#s.values())if(b.isEmpty())return void b.setInBackground();this.#l({offsetX:0,offsetY:0}).setInBackground()}}setEditingState(D){this.#r.setEditingState(D)}addCommands(D){this.#r.addCommands(D)}enable(){this.div.style.pointerEvents="auto";for(const D of this.#s.values())D.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const D of this.#s.values())D.disableEditing()}setActiveEditor(D){this.#r.getActive()!==D&&this.#r.setActiveEditor(D)}enableClick(){this.div.addEventListener("pointerdown",this.#i),this.div.addEventListener("pointerup",this.#n)}disableClick(){this.div.removeEventListener("pointerdown",this.#i),this.div.removeEventListener("pointerup",this.#n)}attach(D){this.#s.set(D.id,D)}detach(D){this.#s.delete(D.id),this.#e?.removePointerInTextLayer(D.contentDiv)}remove(D){this.#r.removeEditor(D),this.detach(D),this.annotationStorage.remove(D.id),D.div.style.display="none",setTimeout(()=>{D.div.style.display="",D.div.remove(),D.isAttachedToDOM=!1,document.activeElement===document.body&&this.#r.focusMainContainer()},0),this.#a||this.addInkEditorIfNeeded(!1)}#h(D){D.parent!==this&&(this.attach(D),D.pageIndex=this.pageIndex,D.parent?.detach(D),D.parent=this,D.div&&D.isAttachedToDOM&&(D.div.remove(),this.div.append(D.div)))}add(D){if(this.#h(D),this.#r.addEditor(D),this.attach(D),!D.isAttachedToDOM){const p=D.render();this.div.append(p),D.isAttachedToDOM=!0}this.moveEditorInDOM(D),D.onceAdded(),this.addToAnnotationStorage(D)}moveEditorInDOM(D){this.#e?.moveElementInDOM(this.div,D.div,D.contentDiv,!0)}addToAnnotationStorage(D){!D.isEmpty()&&!this.annotationStorage.has(D.id)&&this.annotationStorage.setValue(D.id,D)}addOrRebuild(D){D.needsToBeRebuilt()?D.rebuild():this.add(D)}addANewEditor(D){this.addCommands({cmd:()=>{this.addOrRebuild(D)},undo:()=>{D.remove()},mustExec:!0})}addUndoableEditor(D){this.addCommands({cmd:()=>{this.addOrRebuild(D)},undo:()=>{D.remove()},mustExec:!1})}getNextId(){return this.#r.getId()}#u(D){switch(this.#r.getMode()){case j.AnnotationEditorType.FREETEXT:return new re.FreeTextEditor(D);case j.AnnotationEditorType.INK:return new ee.InkEditor(D)}return null}deserialize(D){switch(D.annotationType){case j.AnnotationEditorType.FREETEXT:return re.FreeTextEditor.deserialize(D,this);case j.AnnotationEditorType.INK:return ee.InkEditor.deserialize(D,this)}return null}#l(D){const p=this.getNextId(),b=this.#u({parent:this,id:p,x:D.offsetX,y:D.offsetY});return b&&this.add(b),b}setSelected(D){this.#r.setSelected(D)}toggleSelected(D){this.#r.toggleSelected(D)}isSelected(D){return this.#r.isSelected(D)}unselect(D){this.#r.unselect(D)}pointerup(D){if(!(0!==D.button||D.ctrlKey&&S.KeyboardManager.platform.isMac)&&D.target===this.div&&this.#c){if(this.#c=!1,!this.#t)return void(this.#t=!0);this.#l(D)}}pointerdown(D){if(0!==D.button||D.ctrlKey&&S.KeyboardManager.platform.isMac||D.target!==this.div)return;this.#c=!0;const b=this.#r.getActive();this.#t=!b||b.isEmpty()}drop(D){const p=D.dataTransfer.getData("text/plain"),b=this.#r.getEditor(p);if(!b)return;D.preventDefault(),D.dataTransfer.dropEffect="move",this.#h(b);const F=this.div.getBoundingClientRect();b.translate(D.clientX-F.x-b.startX,D.clientY-F.y-b.startY),this.moveEditorInDOM(b),b.div.focus()}dragover(D){D.preventDefault()}destroy(){this.#r.getActive()?.parent===this&&this.#r.setActiveEditor(null);for(const D of this.#s.values())this.#e?.removePointerInTextLayer(D.contentDiv),D.isAttachedToDOM=!1,D.div.remove(),D.parent=null;this.div=null,this.#s.clear(),this.#r.removeLayer(this)}#o(){this.#a=!0;for(const D of this.#s.values())D.isEmpty()&&D.remove();this.#a=!1}render(D){this.viewport=D.viewport,(0,S.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const p of this.#r.getEditors(this.pageIndex))this.add(p);this.updateMode()}update(D){this.viewport=D.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[D,p,b,F]=this.viewport.viewBox;return[b-D,F-p]}get viewportBaseDimensions(){const{width:D,height:p,rotation:b}=this.viewport;return b%180==0?[D,p]:[p,D]}setDimensions(){const{width:D,height:p,rotation:b}=this.viewport,F=b%180!=0,y=Math.floor(D)+"px",v=Math.floor(p)+"px";this.div.style.width=F?v:y,this.div.style.height=F?y:v,this.div.setAttribute("data-main-rotation",b)}}return V})()},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.FreeTextEditor=void 0;var S=te(1),j=te(7),re=te(6);class ee extends re.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivKeydown.bind(this);#i;#s="";#c=!1;#a;static _freeTextDefaultContent="";static _l10nPromise;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static _keyboardManager=new j.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ee.prototype.commitOrRemove]]);static _type="freetext";constructor(V){super({...V,name:"freeTextEditor"}),this.#i=V.color||ee._defaultColor||re.AnnotationEditor._defaultLineColor,this.#a=V.fontSize||ee._defaultFontSize}static initialize(V){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(D=>[D,V.get(D)]));const m=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(m.getPropertyValue("--freetext-padding"))}static updateDefaultParams(V,m){switch(V){case S.AnnotationEditorParamsType.FREETEXT_SIZE:ee._defaultFontSize=m;break;case S.AnnotationEditorParamsType.FREETEXT_COLOR:ee._defaultColor=m}}updateParams(V,m){switch(V){case S.AnnotationEditorParamsType.FREETEXT_SIZE:this.#r(m);break;case S.AnnotationEditorParamsType.FREETEXT_COLOR:this.#h(m)}}static get defaultPropertiesToUpdate(){return[[S.AnnotationEditorParamsType.FREETEXT_SIZE,ee._defaultFontSize],[S.AnnotationEditorParamsType.FREETEXT_COLOR,ee._defaultColor||re.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[S.AnnotationEditorParamsType.FREETEXT_SIZE,this.#a],[S.AnnotationEditorParamsType.FREETEXT_COLOR,this.#i]]}#r(V){const m=p=>{this.editorDiv.style.fontSize=`calc(${p}px * var(--scale-factor))`,this.translate(0,-(p-this.#a)*this.parent.scaleFactor),this.#a=p,this.#l()},D=this.#a;this.parent.addCommands({cmd:()=>{m(V)},undo:()=>{m(D)},mustExec:!0,type:S.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#h(V){const m=this.#i;this.parent.addCommands({cmd:()=>{this.#i=V,this.editorDiv.style.color=V},undo:()=>{this.#i=m,this.editorDiv.style.color=m},mustExec:!0,type:S.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}getInitialTranslation(){return[-ee._internalPadding*this.parent.scaleFactor,-(ee._internalPadding+this.#a)*this.parent.scaleFactor]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(S.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",this.#n),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",this.#n),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.div.focus(),this.isEditing=!1)}focusin(V){super.focusin(V),V.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}#u(){const V=this.editorDiv.getElementsByTagName("div");if(0===V.length)return this.editorDiv.innerText;const m=[];for(let D=0,p=V.length;D<p;D++){const F=V[D].firstChild;m.push("#text"===F?.nodeName?F.data:"")}return m.join("\n")}#l(){const[V,m]=this.parent.viewportBaseDimensions,D=this.div.getBoundingClientRect();this.width=D.width/V,this.height=D.height/m}commit(){super.commit(),this.#c||(this.#c=!0,this.parent.addUndoableEditor(this)),this.disableEditMode(),this.#s=this.#u().trimEnd(),this.#l()}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(V){this.enableEditMode(),this.editorDiv.focus()}keydown(V){V.target===this.div&&"Enter"===V.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(V){ee._keyboardManager.exec(this,V)}editorDivFocus(V){this.isEditing=!0}editorDivBlur(V){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let V,m;this.width&&(V=this.x,m=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),ee._l10nPromise.get("editor_free_text_aria_label").then(p=>this.editorDiv?.setAttribute("aria-label",p)),ee._l10nPromise.get("free_text_default_content").then(p=>this.editorDiv?.setAttribute("default-content",p)),this.editorDiv.contentEditable=!0;const{style:D}=this.editorDiv;if(D.fontSize=`calc(${this.#a}px * var(--scale-factor))`,D.color=this.#i,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,j.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[p,b]=this.parent.viewportBaseDimensions;this.setAt(V*p,m*b,this.width*p,this.height*b);for(const F of this.#s.split("\n")){const y=document.createElement("div");y.append(F?document.createTextNode(F):document.createElement("br")),this.editorDiv.append(y)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(V,m){const D=super.deserialize(V,m);return D.#a=V.fontSize,D.#i=S.Util.makeHexColor(...V.color),D.#s=V.value,D}serialize(){if(this.isEmpty())return null;const V=ee._internalPadding*this.parent.scaleFactor,m=this.getRect(V,V),D=re.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:S.AnnotationEditorType.FREETEXT,color:D,fontSize:this.#a,value:this.#s,pageIndex:this.parent.pageIndex,rect:m,rotation:this.rotation}}}C.FreeTextEditor=ee},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.InkEditor=void 0,Object.defineProperty(C,"fitCurve",{enumerable:!0,get:function(){return re.fitCurve}});var S=te(1),j=te(6),re=te(25),ee=te(7);C.InkEditor=(()=>{class m extends j.AnnotationEditor{#e=0;#t=0;#n=0;#i=this.canvasPointermove.bind(this);#s=this.canvasPointerleave.bind(this);#c=this.canvasPointerup.bind(this);#a=this.canvasPointerdown.bind(this);#r=!1;#h=!1;#u=null;#l=null;#o=0;#p=0;#f=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _l10nPromise;static _type="ink";constructor(p){super({...p,name:"inkEditor"}),this.color=p.color||null,this.thickness=p.thickness||null,this.opacity=p.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(p){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(b=>[b,p.get(b)]))}static updateDefaultParams(p,b){switch(p){case S.AnnotationEditorParamsType.INK_THICKNESS:m._defaultThickness=b;break;case S.AnnotationEditorParamsType.INK_COLOR:m._defaultColor=b;break;case S.AnnotationEditorParamsType.INK_OPACITY:m._defaultOpacity=b/100}}updateParams(p,b){switch(p){case S.AnnotationEditorParamsType.INK_THICKNESS:this.#v(b);break;case S.AnnotationEditorParamsType.INK_COLOR:this.#m(b);break;case S.AnnotationEditorParamsType.INK_OPACITY:this.#_(b)}}static get defaultPropertiesToUpdate(){return[[S.AnnotationEditorParamsType.INK_THICKNESS,m._defaultThickness],[S.AnnotationEditorParamsType.INK_COLOR,m._defaultColor||j.AnnotationEditor._defaultLineColor],[S.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*m._defaultOpacity)]]}get propertiesToUpdate(){return[[S.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||m._defaultThickness],[S.AnnotationEditorParamsType.INK_COLOR,this.color||m._defaultColor||j.AnnotationEditor._defaultLineColor],[S.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??m._defaultOpacity))]]}#v(p){const b=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=p,this.#D()},undo:()=>{this.thickness=b,this.#D()},mustExec:!0,type:S.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#m(p){const b=this.color;this.parent.addCommands({cmd:()=>{this.color=p,this.#g()},undo:()=>{this.color=b,this.#g()},mustExec:!0,type:S.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#_(p){p/=100;const b=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=p,this.#g()},undo:()=>{this.opacity=b,this.#g()},mustExec:!0,type:S.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(this.#b(),this.#w()),this.isAttachedToDOM||(this.parent.add(this),this.#A()),this.#D())}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#l.disconnect(),this.#l=null,super.remove())}enableEditMode(){this.#r||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",this.#a),this.canvas.addEventListener("pointerup",this.#c))}disableEditMode(){!this.isInEditMode()||null===this.canvas||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#a),this.canvas.removeEventListener("pointerup",this.#c))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#E(){const{width:p,height:b,rotation:F}=this.parent.viewport;switch(F){case 90:return[0,p,p,b];case 180:return[p,b,p,b];case 270:return[b,0,p,b];default:return[0,0,p,b]}}#y(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,ee.opacityToHex)(this.opacity)}`}#d(p,b){this.isEditing=!0,this.#h||(this.#h=!0,this.#A(),this.thickness||=m._defaultThickness,this.color||=m._defaultColor||j.AnnotationEditor._defaultLineColor,this.opacity??=m._defaultOpacity),this.currentPath.push([p,b]),this.#u=null,this.#y(),this.ctx.beginPath(),this.ctx.moveTo(p,b),this.#f=()=>{this.#f&&(this.#u&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):this.#g(),this.ctx.lineTo(...this.#u),this.#u=null,this.ctx.stroke()),window.requestAnimationFrame(this.#f))},window.requestAnimationFrame(this.#f)}#C(p,b){const[F,y]=this.currentPath.at(-1);p===F&&b===y||(this.currentPath.push([p,b]),this.#u=[p,b])}#x(p,b){this.ctx.closePath(),this.#f=null,p=Math.min(Math.max(p,0),this.canvas.width),b=Math.min(Math.max(b,0),this.canvas.height);const[F,y]=this.currentPath.at(-1);let v;if((p!==F||b!==y)&&this.currentPath.push([p,b]),1!==this.currentPath.length)v=(0,re.fitCurve)(this.currentPath,30,null);else{const P=[p,b];v=[[P,P.slice(),P.slice(),P]]}const _=m.#P(v);this.currentPath.length=0,this.parent.addCommands({cmd:()=>{this.paths.push(v),this.bezierPath2D.push(_),this.rebuild()},undo:()=>{this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#b(),this.#w()),this.#D())},mustExec:!0})}#g(){if(this.isEmpty())return void this.#M();this.#y();const{canvas:p,ctx:b}=this;b.setTransform(1,0,0,1,0,0),b.clearRect(0,0,p.width,p.height),this.#M();for(const F of this.bezierPath2D)b.stroke(F)}commit(){this.#r||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#r=!0,this.div.classList.add("disabled"),this.#D(!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(p){super.focusin(p),this.enableEditMode()}canvasPointerdown(p){0!==p.button||!this.isInEditMode()||this.#r||(this.setInForeground(),"mouse"!==p.type&&this.div.focus(),p.stopPropagation(),this.canvas.addEventListener("pointerleave",this.#s),this.canvas.addEventListener("pointermove",this.#i),this.#d(p.offsetX,p.offsetY))}canvasPointermove(p){p.stopPropagation(),this.#C(p.offsetX,p.offsetY)}canvasPointerup(p){0===p.button&&this.isInEditMode()&&0!==this.currentPath.length&&(p.stopPropagation(),this.#S(p),this.setInBackground())}canvasPointerleave(p){this.#S(p),this.setInBackground()}#S(p){this.#x(p.offsetX,p.offsetY),this.canvas.removeEventListener("pointerleave",this.#s),this.canvas.removeEventListener("pointermove",this.#i),this.parent.addToAnnotationStorage(this)}#b(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",m._l10nPromise.get("editor_ink_canvas_aria_label").then(p=>this.canvas?.setAttribute("aria-label",p)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#w(){this.#l=new ResizeObserver(p=>{const b=p[0].contentRect;b.width&&b.height&&this.setDimensions(b.width,b.height)}),this.#l.observe(this.div)}render(){if(this.div)return this.div;let p,b;this.width&&(p=this.x,b=this.y),super.render(),m._l10nPromise.get("editor_ink_aria_label").then(O=>this.div?.setAttribute("aria-label",O));const[F,y,v,_]=this.#E();if(this.setAt(F,y,0,0),this.setDims(v,_),this.#b(),this.width){const[O,R]=this.parent.viewportBaseDimensions;this.setAt(p*O,b*R,this.width*O,this.height*R),this.#h=!0,this.#A(),this.setDims(this.width*O,this.height*R),this.#g(),this.#k(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#w(),this.div}#A(){if(!this.#h)return;const[p,b]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*p),this.canvas.height=Math.ceil(this.height*b),this.#M()}setDimensions(p,b){const F=Math.round(p),y=Math.round(b);if(this.#o===F&&this.#p===y)return;this.#o=F,this.#p=y,this.canvas.style.visibility="hidden",this.#e&&Math.abs(this.#e-p/b)>.01&&(b=Math.ceil(p/this.#e),this.setDims(p,b));const[v,_]=this.parent.viewportBaseDimensions;this.width=p/v,this.height=b/_,this.#r&&this.#I(p,b),this.#A(),this.#g(),this.canvas.style.visibility="visible"}#I(p,b){const F=this.#T(),y=(p-F)/this.#n,v=(b-F)/this.#t;this.scaleFactor=Math.min(y,v)}#M(){const p=this.#T()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+p,this.translationY*this.scaleFactor+p)}static#P(p){const b=new Path2D;for(let F=0,y=p.length;F<y;F++){const[v,_,O,R]=p[F];0===F&&b.moveTo(...v),b.bezierCurveTo(_[0],_[1],O[0],O[1],R[0],R[1])}return b}#O(p,b,F,y){const _=[],O=this.thickness/2;let R,P;for(const E of this.paths){R=[],P=[];for(let u=0,g=E.length;u<g;u++){const[I,z,q,ne]=E[u],Q=p*(I[0]+b)+O,me=y-p*(I[1]+F)-O,pe=p*(z[0]+b)+O,N=y-p*(z[1]+F)-O,W=p*(q[0]+b)+O,Y=y-p*(q[1]+F)-O,H=p*(ne[0]+b)+O,U=y-p*(ne[1]+F)-O;0===u&&(R.push(Q,me),P.push(Q,me)),R.push(pe,N,W,Y,H,U),this.#F(Q,me,pe,N,W,Y,H,U,4,P)}_.push({bezier:R,points:P})}return _}#F(p,b,F,y,v,_,O,R,P,E){if(this.#N(p,b,F,y,v,_,O,R))E.push(O,R);else{for(let u=1;u<P-1;u++){const g=u/P,I=1-g;let z=g*p+I*F,q=g*b+I*y,ne=g*F+I*v,Q=g*y+I*_;z=g*z+I*ne,q=g*q+I*Q,ne=g*ne+I*(g*v+I*O),Q=g*Q+I*(g*_+I*R),z=g*z+I*ne,q=g*q+I*Q,E.push(z,q)}E.push(O,R)}}#N(p,b,F,y,v,_,O,R){const u=(3*y-2*b-R)**2,I=(3*_-b-2*R)**2;return Math.max((3*F-2*p-O)**2,(3*v-p-2*O)**2)+Math.max(u,I)<=10}#R(){let p=1/0,b=-1/0,F=1/0,y=-1/0;for(const v of this.paths)for(const[_,O,R,P]of v){const E=S.Util.bezierBoundingBox(..._,...O,...R,...P);p=Math.min(p,E[0]),F=Math.min(F,E[1]),b=Math.max(b,E[2]),y=Math.max(y,E[3])}return[p,F,b,y]}#T(){return this.#r?Math.ceil(this.thickness*this.parent.scaleFactor):0}#D(p=!1){if(this.isEmpty())return;if(!this.#r)return void this.#g();const b=this.#R(),F=this.#T();this.#n=Math.max(16,b[2]-b[0]),this.#t=Math.max(16,b[3]-b[1]);const y=Math.ceil(F+this.#n*this.scaleFactor),v=Math.ceil(F+this.#t*this.scaleFactor),[_,O]=this.parent.viewportBaseDimensions;this.width=y/_,this.height=v/O,this.#e=y/v,this.#k();const R=this.translationX,P=this.translationY;this.translationX=-b[0],this.translationY=-b[1],this.#A(),this.#g(),this.#o=y,this.#p=v,this.setDims(y,v);const E=p?F/this.scaleFactor/2:0;this.translate(R-this.translationX-E,P-this.translationY-E)}#k(){const{style:p}=this.div;this.#e>=1?(p.minHeight="16px",p.minWidth=`${Math.round(16*this.#e)}px`):(p.minWidth="16px",p.minHeight=`${Math.round(16/this.#e)}px`)}static deserialize(p,b){const F=super.deserialize(p,b);F.thickness=p.thickness,F.color=S.Util.makeHexColor(...p.color),F.opacity=p.opacity;const[y,v]=b.pageDimensions,_=F.width*y,O=F.height*v,R=b.scaleFactor,P=p.thickness/2;F.#e=_/O,F.#r=!0,F.#o=Math.round(_),F.#p=Math.round(O);for(const{bezier:u}of p.paths){const g=[];F.paths.push(g);let I=R*(u[0]-P),z=R*(O-u[1]-P);for(let ne=2,Q=u.length;ne<Q;ne+=6){const Y=R*(u[ne+4]-P),H=R*(O-u[ne+5]-P);g.push([[I,z],[R*(u[ne]-P),R*(O-u[ne+1]-P)],[R*(u[ne+2]-P),R*(O-u[ne+3]-P)],[Y,H]]),I=Y,z=H}const q=this.#P(g);F.bezierPath2D.push(q)}const E=F.#R();return F.#n=Math.max(16,E[2]-E[0]),F.#t=Math.max(16,E[3]-E[1]),F.#I(_,O),F}serialize(){if(this.isEmpty())return null;const p=this.getRect(0,0),b=this.rotation%180==0?p[3]-p[1]:p[2]-p[0],F=j.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:S.AnnotationEditorType.INK,color:F,thickness:this.thickness,opacity:this.opacity,paths:this.#O(this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,b),pageIndex:this.parent.pageIndex,rect:p,rotation:this.rotation}}}return m})()},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.fitCurve=void 0;const S=te(26);C.fitCurve=S},be=>{function te(y,v,_,O,R){var E,u,g,I,z,q,ne,Q,me,pe,N,W,Y;if(2===y.length)return W=b.vectorLen(b.subtract(y[0],y[1]))/3,[E=[y[0],b.addArrays(y[0],b.mulItems(v,W)),b.addArrays(y[1],b.mulItems(_,W)),y[1]]];if(u=function oe(y){var _,O,R,v=[];return y.forEach((P,E)=>{_=E?O+b.vectorLen(b.subtract(P,R)):0,v.push(_),O=_,R=P}),v=v.map(P=>P/O)}(y),[E,I,q]=S(y,u,u,v,_,R),0===I||I<O)return[E];if(I<O*O)for(g=u,z=I,ne=q,Y=0;Y<20;Y++){if(g=re(E,y,g),[E,I,q]=S(y,u,g,v,_,R),I<O)return[E];if(q===ne){let H=I/z;if(H>.9999&&H<1.0001)break}z=I,ne=q}return N=[],(Q=b.subtract(y[q-1],y[q+1])).every(H=>0===H)&&(Q=b.subtract(y[q-1],y[q]),[Q[0],Q[1]]=[-Q[1],Q[0]]),me=b.normalize(Q),pe=b.mulItems(me,-1),(N=N.concat(te(y.slice(0,q+1),v,me,O,R))).concat(te(y.slice(q),pe,_,O,R))}function S(y,v,_,O,R,P){var E,u,g;return E=function j(y,v,_,O){var R,P,E,u,g,I,ne,Q,me,pe,N,W,Y,H,U,x=y[0],f=y[y.length-1];for(R=[x,null,null,f],P=b.zeros_Xx2x2(v.length),N=0,W=v.length;N<W;N++)(E=P[N])[0]=b.mulItems(_,3*(H=v[N])*((U=1-H)*U)),E[1]=b.mulItems(O,3*U*(H*H));for(u=[[0,0],[0,0]],g=[0,0],N=0,W=y.length;N<W;N++)H=v[N],u[0][0]+=b.dot((E=P[N])[0],E[0]),u[0][1]+=b.dot(E[0],E[1]),u[1][0]+=b.dot(E[0],E[1]),u[1][1]+=b.dot(E[1],E[1]),Y=b.subtract(y[N],F.q([x,x,f,f],H)),g[0]+=b.dot(E[0],Y),g[1]+=b.dot(E[1],Y);return ne=0==(I=u[0][0]*u[1][1]-u[1][0]*u[0][1])?0:(g[0]*u[1][1]-g[1]*u[0][1])/I,Q=0===I?0:(u[0][0]*g[1]-u[1][0]*g[0])/I,ne<(me=1e-6*(pe=b.vectorLen(b.subtract(x,f))))||Q<me?(R[1]=b.addArrays(x,b.mulItems(_,pe/3)),R[2]=b.addArrays(f,b.mulItems(O,pe/3))):(R[1]=b.addArrays(x,b.mulItems(_,ne)),R[2]=b.addArrays(f,b.mulItems(O,Q))),R}(y,_,O,R),[u,g]=function V(y,v,_){var O,R,P,E,u,g,I,z;R=0,P=Math.floor(y.length/2);const q=m(v,10);for(u=0,g=y.length;u<g;u++)I=y[u],z=D(0,_[u],q,10),(O=(E=b.subtract(F.q(v,z),I))[0]*E[0]+E[1]*E[1])>R&&(R=O,P=u);return[R,P]}(y,E,v),P&&P({bez:E,points:y,params:v,maxErr:u,maxPoint:g}),[E,u,g]}function re(y,v,_){return _.map((O,R)=>function ee(y,v,_){var O=b.subtract(F.q(y,_),v),R=F.qprime(y,_),P=b.mulMatrix(O,R),E=b.sum(b.squareItems(R))+2*b.mulMatrix(O,F.qprimeprime(y,_));return 0===E?_:_-P/E}(y,v[R],O))}var m=function(y,v){for(var _,O=[0],R=y[0],P=0,E=1;E<=v;E++)_=F.q(y,E/v),P+=b.vectorLen(b.subtract(_,R)),O.push(P),R=_;return O.map(u=>u/P)};function D(y,v,_,O){if(v<0)return 0;if(v>1)return 1;for(var P,u,g,I=1;I<=O;I++)if(v<=_[I]){g=(v-(P=_[I-1]))/(_[I]-P)*(I/O-(u=(I-1)/O))+u;break}return g}function p(y,v){return b.normalize(b.subtract(y,v))}class b{static zeros_Xx2x2(v){for(var _=[];v--;)_.push([0,0]);return _}static mulItems(v,_){return v.map(O=>O*_)}static mulMatrix(v,_){return v.reduce((O,R,P)=>O+R*_[P],0)}static subtract(v,_){return v.map((O,R)=>O-_[R])}static addArrays(v,_){return v.map((O,R)=>O+_[R])}static addItems(v,_){return v.map(O=>O+_)}static sum(v){return v.reduce((_,O)=>_+O)}static dot(v,_){return b.mulMatrix(v,_)}static vectorLen(v){return Math.hypot(...v)}static divItems(v,_){return v.map(O=>O/_)}static squareItems(v){return v.map(_=>_*_)}static normalize(v){return this.divItems(v,this.vectorLen(v))}}class F{static q(v,_){var O=1-_,R=b.mulItems(v[0],O*O*O),P=b.mulItems(v[1],3*O*O*_),E=b.mulItems(v[2],3*O*_*_),u=b.mulItems(v[3],_*_*_);return b.addArrays(b.addArrays(R,P),b.addArrays(E,u))}static qprime(v,_){var O=1-_,R=b.mulItems(b.subtract(v[1],v[0]),3*O*O),P=b.mulItems(b.subtract(v[2],v[1]),6*O*_),E=b.mulItems(b.subtract(v[3],v[2]),3*_*_);return b.addArrays(b.addArrays(R,P),E)}static qprimeprime(v,_){return b.addArrays(b.mulItems(b.addArrays(b.subtract(v[2],b.mulItems(v[1],2)),v[0]),6*(1-_)),b.mulItems(b.addArrays(b.subtract(v[3],b.mulItems(v[2],2)),v[1]),6*_))}}be.exports=function C(y,v,_){if(!Array.isArray(y))throw new TypeError("First argument should be an array");if(y.forEach(E=>{if(!Array.isArray(E)||E.some(u=>"number"!=typeof u)||E.length!==y[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),(y=y.filter((E,u)=>0===u||!E.every((g,I)=>g===y[u-1][I]))).length<2)return[];const O=y.length,R=p(y[1],y[0]),P=p(y[O-2],y[O-1]);return te(y,R,P,v,_)},be.exports.fitCubic=te,be.exports.createTangent=p},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.AnnotationLayer=void 0;var S=te(1),j=te(8),re=te(5),ee=te(28),oe=te(29);const V=1e3,D=new WeakSet;function p(k){return{width:k[2]-k[0],height:k[3]-k[1]}}class b{static create(d){switch(d.data.annotationType){case S.AnnotationType.LINK:return new y(d);case S.AnnotationType.TEXT:return new v(d);case S.AnnotationType.WIDGET:switch(d.data.fieldType){case"Tx":return new O(d);case"Btn":return d.data.radioButton?new P(d):d.data.checkBox?new R(d):new E(d);case"Ch":return new u(d)}return new _(d);case S.AnnotationType.POPUP:return new g(d);case S.AnnotationType.FREETEXT:return new z(d);case S.AnnotationType.LINE:return new q(d);case S.AnnotationType.SQUARE:return new ne(d);case S.AnnotationType.CIRCLE:return new Q(d);case S.AnnotationType.POLYLINE:return new me(d);case S.AnnotationType.CARET:return new N(d);case S.AnnotationType.INK:return new W(d);case S.AnnotationType.POLYGON:return new pe(d);case S.AnnotationType.HIGHLIGHT:return new Y(d);case S.AnnotationType.UNDERLINE:return new H(d);case S.AnnotationType.SQUIGGLY:return new U(d);case S.AnnotationType.STRIKEOUT:return new x(d);case S.AnnotationType.STAMP:return new f(d);case S.AnnotationType.FILEATTACHMENT:return new w(d);default:return new F(d)}}}class F{constructor(d,{isRenderable:M=!1,ignoreBorder:L=!1,createQuadrilaterals:$=!1}={}){this.isRenderable=M,this.data=d.data,this.layer=d.layer,this.page=d.page,this.viewport=d.viewport,this.linkService=d.linkService,this.downloadManager=d.downloadManager,this.imageResourcesPath=d.imageResourcesPath,this.renderForms=d.renderForms,this.svgFactory=d.svgFactory,this.annotationStorage=d.annotationStorage,this.enableScripting=d.enableScripting,this.hasJSActions=d.hasJSActions,this._fieldObjects=d.fieldObjects,this._mouseState=d.mouseState,M&&(this.container=this._createContainer(L)),$&&(this.quadrilaterals=this._createQuadrilaterals(L))}_createContainer(d=!1){const M=this.data,L=this.page,$=this.viewport,X=document.createElement("section"),{width:ie,height:J}=p(M.rect),[ae,ce,ue,ge]=$.viewBox,De=ue-ae,Ee=ge-ce;X.setAttribute("data-annotation-id",M.id);const Te=S.Util.normalizeRect([M.rect[0],L.view[3]-M.rect[1]+L.view[1],M.rect[2],L.view[3]-M.rect[3]+L.view[1]]);if(!d&&M.borderStyle.width>0){X.style.borderWidth=`${M.borderStyle.width}px`;const ye=M.borderStyle.horizontalCornerRadius,Ie=M.borderStyle.verticalCornerRadius;switch(ye>0||Ie>0?X.style.borderRadius=`calc(${ye}px * var(--scale-factor)) / calc(${Ie}px * var(--scale-factor))`:this instanceof P&&(X.style.borderRadius=`calc(${ie}px * var(--scale-factor)) / calc(${J}px * var(--scale-factor))`),M.borderStyle.style){case S.AnnotationBorderStyleType.SOLID:X.style.borderStyle="solid";break;case S.AnnotationBorderStyleType.DASHED:X.style.borderStyle="dashed";break;case S.AnnotationBorderStyleType.BEVELED:(0,S.warn)("Unimplemented border style: beveled");break;case S.AnnotationBorderStyleType.INSET:(0,S.warn)("Unimplemented border style: inset");break;case S.AnnotationBorderStyleType.UNDERLINE:X.style.borderBottomStyle="solid"}const ve=M.borderColor||null;ve?X.style.borderColor=S.Util.makeHexColor(0|ve[0],0|ve[1],0|ve[2]):X.style.borderWidth=0}X.style.left=100*(Te[0]-ae)/De+"%",X.style.top=100*(Te[1]-ce)/Ee+"%";const{rotation:de}=M;return M.hasOwnCanvas||0===de?(X.style.width=100*ie/De+"%",X.style.height=100*J/Ee+"%"):this.setRotation(de,X),X}setRotation(d,M=this.container){const[L,$,X,ie]=this.viewport.viewBox,J=X-L,ae=ie-$,{width:ce,height:ue}=p(this.data.rect);let ge,De;d%180==0?(ge=100*ce/J,De=100*ue/ae):(ge=100*ue/J,De=100*ce/ae),M.style.width=`${ge}%`,M.style.height=`${De}%`,M.setAttribute("data-main-rotation",(360-d)%360)}get _commonActions(){const d=(M,L,$)=>{const X=$.detail[M];$.target.style[L]=ee.ColorConverters[`${X[0]}_HTML`](X.slice(1))};return(0,S.shadow)(this,"_commonActions",{display:M=>{const L=M.detail.display%2==1;this.container.style.visibility=L?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:L,print:0===M.detail.display||3===M.detail.display})},print:M=>{this.annotationStorage.setValue(this.data.id,{print:M.detail.print})},hidden:M=>{this.container.style.visibility=M.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:M.detail.hidden})},focus:M=>{setTimeout(()=>M.target.focus({preventScroll:!1}),0)},userName:M=>{M.target.title=M.detail.userName},readonly:M=>{M.detail.readonly?M.target.setAttribute("readonly",""):M.target.removeAttribute("readonly")},required:M=>{this._setRequired(M.target,M.detail.required)},bgColor:M=>{d("bgColor","backgroundColor",M)},fillColor:M=>{d("fillColor","backgroundColor",M)},fgColor:M=>{d("fgColor","color",M)},textColor:M=>{d("textColor","color",M)},borderColor:M=>{d("borderColor","borderColor",M)},strokeColor:M=>{d("strokeColor","borderColor",M)},rotation:M=>{const L=M.detail.rotation;this.setRotation(L),this.annotationStorage.setValue(this.data.id,{rotation:L})}})}_dispatchEventFromSandbox(d,M){const L=this._commonActions;for(const $ of Object.keys(M.detail)){const X=d[$]||L[$];X&&X(M)}}_setDefaultPropertiesFromJS(d){if(!this.enableScripting)return;const M=this.annotationStorage.getRawValue(this.data.id);if(!M)return;const L=this._commonActions;for(const[$,X]of Object.entries(M)){const ie=L[$];ie&&(ie({detail:{[$]:X},target:d}),delete M[$])}}_createQuadrilaterals(d=!1){if(!this.data.quadPoints)return null;const M=[],L=this.data.rect;for(const $ of this.data.quadPoints)this.data.rect=[$[2].x,$[2].y,$[1].x,$[1].y],M.push(this._createContainer(d));return this.data.rect=L,M}_createPopup(d,M){let L=this.container;this.quadrilaterals&&(d=d||this.quadrilaterals,L=this.quadrilaterals[0]),d||((d=document.createElement("div")).className="popupTriggerArea",L.append(d));const X=new I({container:L,trigger:d,color:M.color,titleObj:M.titleObj,modificationDate:M.modificationDate,contentsObj:M.contentsObj,richText:M.richText,hideWrapper:!0}).render();X.style.left="100%",L.append(X)}_renderQuadrilaterals(d){for(const M of this.quadrilaterals)M.className=d;return this.quadrilaterals}render(){(0,S.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(d,M=null){const L=[];if(this._fieldObjects){const $=this._fieldObjects[d];if($)for(const{page:X,id:ie,exportValues:J}of $){if(-1===X||ie===M)continue;const ae="string"==typeof J?J:null,ce=document.querySelector(`[data-element-id="${ie}"]`);!ce||D.has(ce)?L.push({id:ie,exportValue:ae,domElement:ce}):(0,S.warn)(`_getElementsByName - element not allowed: ${ie}`)}return L}for(const $ of document.getElementsByName(d)){const{id:X,exportValue:ie}=$;X!==M&&D.has($)&&L.push({id:X,exportValue:ie,domElement:$})}return L}static get platform(){const d=typeof navigator<"u"?navigator.platform:"";return(0,S.shadow)(this,"platform",{isWin:d.includes("Win"),isMac:d.includes("Mac")})}}class y extends F{constructor(d,M=null){super(d,{isRenderable:!0,ignoreBorder:!!M?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=d.data.isTooltipOnly}render(){const{data:d,linkService:M}=this,L=document.createElement("a");L.setAttribute("data-element-id",d.id);let $=!1;return d.url?(M.addLinkAttributes(L,d.url,d.newWindow),$=!0):d.action?(this._bindNamedAction(L,d.action),$=!0):d.dest?(this._bindLink(L,d.dest),$=!0):(d.actions&&(d.actions.Action||d.actions["Mouse Up"]||d.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(L,d),$=!0),d.resetForm?(this._bindResetFormAction(L,d.resetForm),$=!0):this.isTooltipOnly&&!$&&(this._bindLink(L,""),$=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((X,ie)=>{const J=0===ie?L:L.cloneNode();return X.append(J),X}):(this.container.className="linkAnnotation",$&&this.container.append(L),this.container)}_bindLink(d,M){d.href=this.linkService.getDestinationHash(M),d.onclick=()=>(M&&this.linkService.goToDestination(M),!1),(M||""===M)&&(d.className="internalLink")}_bindNamedAction(d,M){d.href=this.linkService.getAnchorUrl(""),d.onclick=()=>(this.linkService.executeNamedAction(M),!1),d.className="internalLink"}_bindJSAction(d,M){d.href=this.linkService.getAnchorUrl("");const L=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const $ of Object.keys(M.actions)){const X=L.get($);X&&(d[X]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M.id,name:$}}),!1))}d.onclick||(d.onclick=()=>!1),d.className="internalLink"}_bindResetFormAction(d,M){const L=d.onclick;if(L||(d.href=this.linkService.getAnchorUrl("")),d.className="internalLink",!this._fieldObjects)return(0,S.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(L||(d.onclick=()=>!1));d.onclick=()=>{L&&L();const{fields:$,refs:X,include:ie}=M,J=[];if(0!==$.length||0!==X.length){const ue=new Set(X);for(const ge of $){const De=this._fieldObjects[ge]||[];for(const{id:Ee}of De)ue.add(Ee)}for(const ge of Object.values(this._fieldObjects))for(const De of ge)ue.has(De.id)===ie&&J.push(De)}else for(const ue of Object.values(this._fieldObjects))J.push(...ue);const ae=this.annotationStorage,ce=[];for(const ue of J){const{id:ge}=ue;switch(ce.push(ge),ue.type){case"text":case"combobox":case"listbox":ae.setValue(ge,{value:ue.defaultValue||""});break;case"checkbox":case"radiobutton":ae.setValue(ge,{value:ue.defaultValue===ue.exportValues});break;default:continue}const De=document.querySelector(`[data-element-id="${ge}"]`);De&&(D.has(De)?De.dispatchEvent(new Event("resetform")):(0,S.warn)(`_bindResetFormAction - element not allowed: ${ge}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ce,name:"ResetForm"}}),!1}}}class v extends F{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str)})}render(){this.container.className="textAnnotation";const d=document.createElement("img");return d.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",d.alt="[{{type}} Annotation]",d.dataset.l10nId="text_annotation_type",d.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(d,this.data),this.container.append(d),this.container}}class _ extends F{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(d){const{isWin:M,isMac:L}=F.platform;return M&&d.ctrlKey||L&&d.metaKey}_setEventListener(d,M,L,$){M.includes("mouse")?d.addEventListener(M,X=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:L,value:$(X),shift:X.shiftKey,modifier:this._getKeyModifier(X)}})}):d.addEventListener(M,X=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:L,value:$(X)}})})}_setEventListeners(d,M,L){for(const[$,X]of M)("Action"===X||this.data.actions?.[X])&&this._setEventListener(d,$,X,L)}_setBackgroundColor(d){const M=this.data.backgroundColor||null;d.style.backgroundColor=null===M?"transparent":S.Util.makeHexColor(M[0],M[1],M[2])}_setTextStyle(d){const{fontColor:L}=this.data.defaultAppearanceData,$=this.data.defaultAppearanceData.fontSize||9,X=d.style;let ie;if(this.data.multiLine){const J=Math.abs(this.data.rect[3]-this.data.rect[1]),ae=Math.round(J/(S.LINE_FACTOR*$))||1;ie=Math.min($,Math.round(J/ae/S.LINE_FACTOR))}else{const J=Math.abs(this.data.rect[3]-this.data.rect[1]);ie=Math.min($,Math.round(J/S.LINE_FACTOR))}X.fontSize=`calc(${ie}px * var(--scale-factor))`,X.color=S.Util.makeHexColor(L[0],L[1],L[2]),null!==this.data.textAlignment&&(X.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(d,M){M?d.setAttribute("required",!0):d.removeAttribute("required"),d.setAttribute("aria-required",M)}}class O extends _{constructor(d){super(d,{isRenderable:d.renderForms||!d.data.hasAppearance&&!!d.data.fieldValue})}setPropertyOnSiblings(d,M,L,$){const X=this.annotationStorage;for(const ie of this._getElementsByName(d.name,d.id))ie.domElement&&(ie.domElement[M]=L),X.setValue(ie.id,{[$]:L})}render(){const d=this.annotationStorage,M=this.data.id;this.container.className="textWidgetAnnotation";let L=null;if(this.renderForms){const $=d.getValue(M,{value:this.data.fieldValue});let X=$.formattedValue||$.value||"";const ie=d.getValue(M,{charLimit:this.data.maxLen}).charLimit;ie&&X.length>ie&&(X=X.slice(0,ie));const J={userValue:X,formattedValue:null,valueOnFocus:""};this.data.multiLine?(L=document.createElement("textarea"),L.textContent=X,this.data.doNotScroll&&(L.style.overflowY="hidden")):(L=document.createElement("input"),L.type="text",L.setAttribute("value",X),this.data.doNotScroll&&(L.style.overflowX="hidden")),D.add(L),L.setAttribute("data-element-id",M),L.disabled=this.data.readOnly,L.name=this.data.fieldName,L.tabIndex=V,this._setRequired(L,this.data.required),ie&&(L.maxLength=ie),L.addEventListener("input",ce=>{d.setValue(M,{value:ce.target.value}),this.setPropertyOnSiblings(L,"value",ce.target.value,"value")}),L.addEventListener("resetform",ce=>{L.value=J.userValue=this.data.defaultFieldValue??"",J.formattedValue=null});let ae=ce=>{const{formattedValue:ue}=J;null!=ue&&(ce.target.value=ue),ce.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){L.addEventListener("focus",ue=>{J.userValue&&(ue.target.value=J.userValue),J.valueOnFocus=ue.target.value}),L.addEventListener("updatefromsandbox",ue=>{this._dispatchEventFromSandbox({value(De){J.userValue=De.detail.value??"",d.setValue(M,{value:J.userValue.toString()}),De.target.value=J.userValue},formattedValue(De){const{formattedValue:Ee}=De.detail;J.formattedValue=Ee,null!=Ee&&De.target!==document.activeElement&&(De.target.value=Ee),d.setValue(M,{formattedValue:Ee})},selRange(De){De.target.setSelectionRange(...De.detail.selRange)},charLimit:De=>{const{charLimit:Ee}=De.detail,{target:Te}=De;if(0===Ee)return void Te.removeAttribute("maxLength");Te.setAttribute("maxLength",Ee);let de=J.userValue;!de||de.length<=Ee||(de=de.slice(0,Ee),Te.value=J.userValue=de,d.setValue(M,{value:de}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:de,willCommit:!0,commitKey:1,selStart:Te.selectionStart,selEnd:Te.selectionEnd}}))}},ue)}),L.addEventListener("keydown",ue=>{let ge=-1;if("Escape"===ue.key?ge=0:"Enter"===ue.key?ge=2:"Tab"===ue.key&&(ge=3),-1===ge)return;const{value:De}=ue.target;J.valueOnFocus!==De&&(J.userValue=De,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:De,willCommit:!0,commitKey:ge,selStart:ue.target.selectionStart,selEnd:ue.target.selectionEnd}}))});const ce=ae;ae=null,L.addEventListener("blur",ue=>{const{value:ge}=ue.target;J.userValue=ge,this._mouseState.isDown&&J.valueOnFocus!==ge&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:ge,willCommit:!0,commitKey:1,selStart:ue.target.selectionStart,selEnd:ue.target.selectionEnd}}),ce(ue)}),this.data.actions?.Keystroke&&L.addEventListener("beforeinput",ue=>{const{data:ge,target:De}=ue,{value:Ee,selectionStart:Te,selectionEnd:de}=De;let ye=Te,Ie=de;switch(ue.inputType){case"deleteWordBackward":{const ve=Ee.substring(0,Te).match(/\w*[^\w]*$/);ve&&(ye-=ve[0].length);break}case"deleteWordForward":{const ve=Ee.substring(Te).match(/^[^\w]*\w*/);ve&&(Ie+=ve[0].length);break}case"deleteContentBackward":Te===de&&(ye-=1);break;case"deleteContentForward":Te===de&&(Ie+=1)}ue.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:Ee,change:ge||"",willCommit:!1,selStart:ye,selEnd:Ie}})}),this._setEventListeners(L,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ue=>ue.target.value)}if(ae&&L.addEventListener("blur",ae),this.data.comb){const ue=(this.data.rect[2]-this.data.rect[0])/ie;L.classList.add("comb"),L.style.letterSpacing=`calc(${ue}px * var(--scale-factor) - 1ch)`}}else L=document.createElement("div"),L.textContent=this.data.fieldValue,L.style.verticalAlign="middle",L.style.display="table-cell";return this._setTextStyle(L),this._setBackgroundColor(L),this._setDefaultPropertiesFromJS(L),this.container.append(L),this.container}}class R extends _{constructor(d){super(d,{isRenderable:d.renderForms})}render(){const d=this.annotationStorage,M=this.data,L=M.id;let $=d.getValue(L,{value:M.exportValue===M.fieldValue}).value;"string"==typeof $&&($="Off"!==$,d.setValue(L,{value:$})),this.container.className="buttonWidgetAnnotation checkBox";const X=document.createElement("input");return D.add(X),X.setAttribute("data-element-id",L),X.disabled=M.readOnly,this._setRequired(X,this.data.required),X.type="checkbox",X.name=M.fieldName,$&&X.setAttribute("checked",!0),X.setAttribute("exportValue",M.exportValue),X.tabIndex=V,X.addEventListener("change",ie=>{const{name:J,checked:ae}=ie.target;for(const ce of this._getElementsByName(J,L)){const ue=ae&&ce.exportValue===M.exportValue;ce.domElement&&(ce.domElement.checked=ue),d.setValue(ce.id,{value:ue})}d.setValue(L,{value:ae})}),X.addEventListener("resetform",ie=>{ie.target.checked=(M.defaultFieldValue||"Off")===M.exportValue}),this.enableScripting&&this.hasJSActions&&(X.addEventListener("updatefromsandbox",ie=>{this._dispatchEventFromSandbox({value(ae){ae.target.checked="Off"!==ae.detail.value,d.setValue(L,{value:ae.target.checked})}},ie)}),this._setEventListeners(X,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ie=>ie.target.checked)),this._setBackgroundColor(X),this._setDefaultPropertiesFromJS(X),this.container.append(X),this.container}}class P extends _{constructor(d){super(d,{isRenderable:d.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const d=this.annotationStorage,M=this.data,L=M.id;let $=d.getValue(L,{value:M.fieldValue===M.buttonValue}).value;"string"==typeof $&&($=$!==M.buttonValue,d.setValue(L,{value:$}));const X=document.createElement("input");if(D.add(X),X.setAttribute("data-element-id",L),X.disabled=M.readOnly,this._setRequired(X,this.data.required),X.type="radio",X.name=M.fieldName,$&&X.setAttribute("checked",!0),X.tabIndex=V,X.addEventListener("change",ie=>{const{name:J,checked:ae}=ie.target;for(const ce of this._getElementsByName(J,L))d.setValue(ce.id,{value:!1});d.setValue(L,{value:ae})}),X.addEventListener("resetform",ie=>{const J=M.defaultFieldValue;ie.target.checked=null!=J&&J===M.buttonValue}),this.enableScripting&&this.hasJSActions){const ie=M.buttonValue;X.addEventListener("updatefromsandbox",J=>{this._dispatchEventFromSandbox({value:ce=>{const ue=ie===ce.detail.value;for(const ge of this._getElementsByName(ce.target.name)){const De=ue&&ge.id===L;ge.domElement&&(ge.domElement.checked=De),d.setValue(ge.id,{value:De})}}},J)}),this._setEventListeners(X,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],J=>J.target.checked)}return this._setBackgroundColor(X),this._setDefaultPropertiesFromJS(X),this.container.append(X),this.container}}class E extends y{constructor(d){super(d,{ignoreBorder:d.data.hasAppearance})}render(){const d=super.render();d.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(d.title=this.data.alternativeText);const M=d.lastChild;return this.enableScripting&&this.hasJSActions&&M&&(this._setDefaultPropertiesFromJS(M),M.addEventListener("updatefromsandbox",L=>{this._dispatchEventFromSandbox({},L)})),d}}class u extends _{constructor(d){super(d,{isRenderable:d.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const d=this.annotationStorage,M=this.data.id,L=d.getValue(M,{value:this.data.fieldValue}),$=document.createElement("select");D.add($),$.setAttribute("data-element-id",M),$.disabled=this.data.readOnly,this._setRequired($,this.data.required),$.name=this.data.fieldName,$.tabIndex=V;let X=this.data.combo&&this.data.options.length>0;this.data.combo||($.size=this.data.options.length,this.data.multiSelect&&($.multiple=!0)),$.addEventListener("resetform",ce=>{const ue=this.data.defaultFieldValue;for(const ge of $.options)ge.selected=ge.value===ue});for(const ce of this.data.options){const ue=document.createElement("option");ue.textContent=ce.displayValue,ue.value=ce.exportValue,L.value.includes(ce.exportValue)&&(ue.setAttribute("selected",!0),X=!1),$.append(ue)}let ie=null;if(X){const ce=document.createElement("option");ce.value=" ",ce.setAttribute("hidden",!0),ce.setAttribute("selected",!0),$.prepend(ce),ie=()=>{ce.remove(),$.removeEventListener("input",ie),ie=null},$.addEventListener("input",ie)}const J=(ce,ue)=>{const ge=ue?"value":"textContent",De=ce.target.options;return ce.target.multiple?Array.prototype.filter.call(De,Ee=>Ee.selected).map(Ee=>Ee[ge]):-1===De.selectedIndex?null:De[De.selectedIndex][ge]},ae=ce=>Array.prototype.map.call(ce.target.options,ge=>({displayValue:ge.textContent,exportValue:ge.value}));return this.enableScripting&&this.hasJSActions?($.addEventListener("updatefromsandbox",ce=>{this._dispatchEventFromSandbox({value(ge){ie?.();const De=ge.detail.value,Ee=new Set(Array.isArray(De)?De:[De]);for(const Te of $.options)Te.selected=Ee.has(Te.value);d.setValue(M,{value:J(ge,!0)})},multipleSelection(ge){$.multiple=!0},remove(ge){const De=$.options,Ee=ge.detail.remove;De[Ee].selected=!1,$.remove(Ee),De.length>0&&-1===Array.prototype.findIndex.call(De,de=>de.selected)&&(De[0].selected=!0),d.setValue(M,{value:J(ge,!0),items:ae(ge)})},clear(ge){for(;0!==$.length;)$.remove(0);d.setValue(M,{value:null,items:[]})},insert(ge){const{index:De,displayValue:Ee,exportValue:Te}=ge.detail.insert,de=$.children[De],ye=document.createElement("option");ye.textContent=Ee,ye.value=Te,de?de.before(ye):$.append(ye),d.setValue(M,{value:J(ge,!0),items:ae(ge)})},items(ge){const{items:De}=ge.detail;for(;0!==$.length;)$.remove(0);for(const Ee of De){const{displayValue:Te,exportValue:de}=Ee,ye=document.createElement("option");ye.textContent=Te,ye.value=de,$.append(ye)}$.options.length>0&&($.options[0].selected=!0),d.setValue(M,{value:J(ge,!0),items:ae(ge)})},indices(ge){const De=new Set(ge.detail.indices);for(const Ee of ge.target.options)Ee.selected=De.has(Ee.index);d.setValue(M,{value:J(ge,!0)})},editable(ge){ge.target.disabled=!ge.detail.editable}},ce)}),$.addEventListener("input",ce=>{const ue=J(ce,!0),ge=J(ce,!1);d.setValue(M,{value:ue}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:ge,changeEx:ue,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners($,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],ce=>ce.target.checked)):$.addEventListener("input",function(ce){d.setValue(M,{value:J(ce,!0)})}),this.data.combo&&this._setTextStyle($),this._setBackgroundColor($),this._setDefaultPropertiesFromJS($),this.container.append($),this.container}}class g extends F{constructor(d){super(d,{isRenderable:!!(d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const L=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===L.length)return this.container;const $=new I({container:this.container,trigger:Array.from(L),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),X=this.page,ie=S.Util.normalizeRect([this.data.parentRect[0],X.view[3]-this.data.parentRect[1]+X.view[1],this.data.parentRect[2],X.view[3]-this.data.parentRect[3]+X.view[1]]),J=ie[0]+this.data.parentRect[2]-this.data.parentRect[0],ae=ie[1],[ce,ue,ge,De]=this.viewport.viewBox,Te=De-ue;return this.container.style.left=100*(J-ce)/(ge-ce)+"%",this.container.style.top=100*(ae-ue)/Te+"%",this.container.append($.render()),this.container}}class I{constructor(d){this.container=d.container,this.trigger=d.trigger,this.color=d.color,this.titleObj=d.titleObj,this.modificationDate=d.modificationDate,this.contentsObj=d.contentsObj,this.richText=d.richText,this.hideWrapper=d.hideWrapper||!1,this.pinned=!1}render(){const M=document.createElement("div");M.className="popupWrapper",this.hideElement=this.hideWrapper?M:this.container,this.hideElement.hidden=!0;const L=document.createElement("div");L.className="popup";const $=this.color;$&&(L.style.backgroundColor=S.Util.makeHexColor(0|.7*(255-$[0])+$[0],0|.7*(255-$[1])+$[1],0|.7*(255-$[2])+$[2]));const X=document.createElement("h1");X.dir=this.titleObj.dir,X.textContent=this.titleObj.str,L.append(X);const ie=j.PDFDateString.toDateObject(this.modificationDate);if(ie){const J=document.createElement("span");J.className="popupDate",J.textContent="{{date}}, {{time}}",J.dataset.l10nId="annotation_date_string",J.dataset.l10nArgs=JSON.stringify({date:ie.toLocaleDateString(),time:ie.toLocaleTimeString()}),L.append(J)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const J=this._formatContents(this.contentsObj);L.append(J)}else oe.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:L}),L.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const J of this.trigger)J.addEventListener("click",this._toggle.bind(this)),J.addEventListener("mouseover",this._show.bind(this,!1)),J.addEventListener("mouseout",this._hide.bind(this,!1));return L.addEventListener("click",this._hide.bind(this,!0)),M.append(L),M}_formatContents({str:d,dir:M}){const L=document.createElement("p");L.className="popupContent",L.dir=M;const $=d.split(/(?:\r\n?|\n)/);for(let X=0,ie=$.length;X<ie;++X)L.append(document.createTextNode($[X])),X<ie-1&&L.append(document.createElement("br"));return L}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(d=!1){d&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(d=!0){d&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class z extends F{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0}),this.textContent=d.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const d=document.createElement("div");d.className="annotationTextContent",d.setAttribute("role","comment");for(const M of this.textContent){const L=document.createElement("span");L.textContent=M,d.append(L)}this.container.append(d)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class q extends F{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const d=this.data,{width:M,height:L}=p(d.rect),$=this.svgFactory.create(M,L,!0),X=this.svgFactory.createElement("svg:line");return X.setAttribute("x1",d.rect[2]-d.lineCoordinates[0]),X.setAttribute("y1",d.rect[3]-d.lineCoordinates[1]),X.setAttribute("x2",d.rect[2]-d.lineCoordinates[2]),X.setAttribute("y2",d.rect[3]-d.lineCoordinates[3]),X.setAttribute("stroke-width",d.borderStyle.width||1),X.setAttribute("stroke","transparent"),X.setAttribute("fill","transparent"),$.append(X),this.container.append($),this._createPopup(X,d),this.container}}class ne extends F{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const d=this.data,{width:M,height:L}=p(d.rect),$=this.svgFactory.create(M,L,!0),X=d.borderStyle.width,ie=this.svgFactory.createElement("svg:rect");return ie.setAttribute("x",X/2),ie.setAttribute("y",X/2),ie.setAttribute("width",M-X),ie.setAttribute("height",L-X),ie.setAttribute("stroke-width",X||1),ie.setAttribute("stroke","transparent"),ie.setAttribute("fill","transparent"),$.append(ie),this.container.append($),this._createPopup(ie,d),this.container}}class Q extends F{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const d=this.data,{width:M,height:L}=p(d.rect),$=this.svgFactory.create(M,L,!0),X=d.borderStyle.width,ie=this.svgFactory.createElement("svg:ellipse");return ie.setAttribute("cx",M/2),ie.setAttribute("cy",L/2),ie.setAttribute("rx",M/2-X/2),ie.setAttribute("ry",L/2-X/2),ie.setAttribute("stroke-width",X||1),ie.setAttribute("stroke","transparent"),ie.setAttribute("fill","transparent"),$.append(ie),this.container.append($),this._createPopup(ie,d),this.container}}class me extends F{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const d=this.data,{width:M,height:L}=p(d.rect),$=this.svgFactory.create(M,L,!0);let X=[];for(const J of d.vertices)X.push(J.x-d.rect[0]+","+(d.rect[3]-J.y));X=X.join(" ");const ie=this.svgFactory.createElement(this.svgElementName);return ie.setAttribute("points",X),ie.setAttribute("stroke-width",d.borderStyle.width||1),ie.setAttribute("stroke","transparent"),ie.setAttribute("fill","transparent"),$.append(ie),this.container.append($),this._createPopup(ie,d),this.container}}class pe extends me{constructor(d){super(d),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class N extends F{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class W extends F{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const d=this.data,{width:M,height:L}=p(d.rect),$=this.svgFactory.create(M,L,!0);for(const X of d.inkLists){let ie=[];for(const ae of X)ie.push(`${ae.x-d.rect[0]},${d.rect[3]-ae.y}`);ie=ie.join(" ");const J=this.svgFactory.createElement(this.svgElementName);J.setAttribute("points",ie),J.setAttribute("stroke-width",d.borderStyle.width||1),J.setAttribute("stroke","transparent"),J.setAttribute("fill","transparent"),this._createPopup(J,d),$.append(J)}return this.container.append($),this.container}}class Y extends F{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class H extends F{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class U extends F{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class x extends F{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class f extends F{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class w extends F{constructor(d){super(d,{isRenderable:!0});const{filename:M,content:L}=this.data.file;this.filename=(0,j.getFilenameFromUrl)(M),this.content=L,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:M,content:L})}render(){this.container.className="fileAttachmentAnnotation";const d=document.createElement("div");return d.className="popupTriggerArea",d.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(d,this.data),this.container.append(d),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class B{static#e(d,M,L,$){const X=d.firstChild||d;X.id=`${j.AnnotationPrefix}${M}`,L.append(d),$?.moveElementInDOM(L,d,X,!1)}static render(d){const{annotations:M,div:L,viewport:$,accessibilityManager:X}=d;this.#t(L,$);let ie=0;for(const J of M){if(J.annotationType!==S.AnnotationType.POPUP){const{width:ce,height:ue}=p(J.rect);if(ce<=0||ue<=0)continue}const ae=b.create({data:J,layer:L,page:d.page,viewport:$,linkService:d.linkService,downloadManager:d.downloadManager,imageResourcesPath:d.imageResourcesPath||"",renderForms:!1!==d.renderForms,svgFactory:new j.DOMSVGFactory,annotationStorage:d.annotationStorage||new re.AnnotationStorage,enableScripting:d.enableScripting,hasJSActions:d.hasJSActions,fieldObjects:d.fieldObjects,mouseState:d.mouseState||{isDown:!1}});if(ae.isRenderable){const ce=ae.render();if(J.hidden&&(ce.style.visibility="hidden"),Array.isArray(ce))for(const ue of ce)ue.style.zIndex=ie++,B.#e(ue,J.id,L,X);else ce.style.zIndex=ie++,ae instanceof g?L.prepend(ce):B.#e(ce,J.id,L,X)}}this.#n(L,d.annotationCanvasMap)}static update(d){const{annotationCanvasMap:M,div:L,viewport:$}=d;this.#t(L,$),this.#n(L,M),L.hidden=!1}static#t(d,{width:M,height:L,rotation:$}){const{style:X}=d,ie=$%180!=0,J=Math.floor(M)+"px",ae=Math.floor(L)+"px";X.width=ie?ae:J,X.height=ie?J:ae,d.setAttribute("data-main-rotation",$)}static#n(d,M){if(M){for(const[L,$]of M){const X=d.querySelector(`[data-annotation-id="${L}"]`);if(!X)continue;const{firstChild:ie}=X;ie?"CANVAS"===ie.nodeName?ie.replaceWith($):ie.before($):X.append($)}M.clear()}}}C.AnnotationLayer=B},(be,C)=>{function te(j){return Math.floor(255*Math.max(0,Math.min(1,j))).toString(16).padStart(2,"0")}Object.defineProperty(C,"__esModule",{value:!0}),C.ColorConverters=void 0,C.ColorConverters=class S{static CMYK_G([re,ee,oe,V]){return["G",1-Math.min(1,.3*re+.59*oe+.11*ee+V)]}static G_CMYK([re]){return["CMYK",0,0,0,1-re]}static G_RGB([re]){return["RGB",re,re,re]}static G_HTML([re]){const ee=te(re);return`#${ee}${ee}${ee}`}static RGB_G([re,ee,oe]){return["G",.3*re+.59*ee+.11*oe]}static RGB_HTML([re,ee,oe]){return`#${te(re)}${te(ee)}${te(oe)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([re,ee,oe,V]){return["RGB",1-Math.min(1,re+V),1-Math.min(1,oe+V),1-Math.min(1,ee+V)]}static CMYK_HTML(re){const ee=this.CMYK_RGB(re).slice(1);return this.RGB_HTML(ee)}static RGB_CMYK([re,ee,oe]){const V=1-re,m=1-ee,D=1-oe;return["CMYK",V,m,D,Math.min(V,m,D)]}}},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.XfaLayer=void 0;var S=te(20);C.XfaLayer=class j{static setupStorage(ee,oe,V,m,D){const p=m.getValue(oe,{value:null});switch(V.name){case"textarea":if(null!==p.value&&(ee.textContent=p.value),"print"===D)break;ee.addEventListener("input",b=>{m.setValue(oe,{value:b.target.value})});break;case"input":if("radio"===V.attributes.type||"checkbox"===V.attributes.type){if(p.value===V.attributes.xfaOn?ee.setAttribute("checked",!0):p.value===V.attributes.xfaOff&&ee.removeAttribute("checked"),"print"===D)break;ee.addEventListener("change",b=>{m.setValue(oe,{value:b.target.getAttribute(b.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==p.value&&ee.setAttribute("value",p.value),"print"===D)break;ee.addEventListener("input",b=>{m.setValue(oe,{value:b.target.value})})}break;case"select":if(null!==p.value)for(const b of V.children)b.attributes.value===p.value&&(b.attributes.selected=!0);ee.addEventListener("input",b=>{const F=b.target.options;m.setValue(oe,{value:-1===F.selectedIndex?"":F[F.selectedIndex].value})})}}static setAttributes({html:ee,element:oe,storage:V=null,intent:m,linkService:D}){const{attributes:p}=oe,b=ee instanceof HTMLAnchorElement;"radio"===p.type&&(p.name=`${p.name}-${m}`);for(const[F,y]of Object.entries(p))if(null!=y)switch(F){case"class":y.length&&ee.setAttribute(F,y.join(" "));break;case"dataId":break;case"id":ee.setAttribute("data-element-id",y);break;case"style":Object.assign(ee.style,y);break;case"textContent":ee.textContent=y;break;default:(!b||"href"!==F&&"newWindow"!==F)&&ee.setAttribute(F,y)}b&&D.addLinkAttributes(ee,p.href,p.newWindow),V&&p.dataId&&this.setupStorage(ee,p.dataId,oe,V)}static render(ee){const oe=ee.annotationStorage,V=ee.linkService,m=ee.xfaHtml,D=ee.intent||"display",p=document.createElement(m.name);m.attributes&&this.setAttributes({html:p,element:m,intent:D,linkService:V});const b=[[m,-1,p]],F=ee.div;if(F.append(p),ee.viewport){const v=`matrix(${ee.viewport.transform.join(",")})`;F.style.transform=v}"richText"!==D&&F.setAttribute("class","xfaLayer xfaFont");const y=[];for(;b.length>0;){const[v,_,O]=b.at(-1);if(_+1===v.children.length){b.pop();continue}const R=v.children[++b.at(-1)[1]];if(null===R)continue;const{name:P}=R;if("#text"===P){const u=document.createTextNode(R.value);y.push(u),O.append(u);continue}let E;if(E=R?.attributes?.xmlns?document.createElementNS(R.attributes.xmlns,P):document.createElement(P),O.append(E),R.attributes&&this.setAttributes({html:E,element:R,storage:oe,intent:D,linkService:V}),R.children&&R.children.length>0)b.push([R,-1,E]);else if(R.value){const u=document.createTextNode(R.value);S.XfaText.shouldBuildText(P)&&y.push(u),E.append(u)}}for(const v of F.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:y}}static update(ee){const oe=`matrix(${ee.viewport.transform.join(",")})`;ee.div.style.transform=oe,ee.div.hidden=!1}}},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.TextLayerRenderTask=void 0,C.renderTextLayer=function R(P){const E=new O({textContent:P.textContent,textContentStream:P.textContentStream,container:P.container,viewport:P.viewport,textDivs:P.textDivs,textContentItemsStr:P.textContentItemsStr,enhanceTextSelection:P.enhanceTextSelection});return E._render(P.timeout),E};var S=te(1),j=te(8);const V=new Map,m=/^\s+$/g;function p(P,E,u,g){const I=document.createElement("span"),z=P._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==E.str,hasEOL:E.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:""!==E.str,hasEOL:E.hasEOL,fontSize:0};P._textDivs.push(I);const q=S.Util.transform(P._viewport.transform,E.transform);let ne=Math.atan2(q[1],q[0]);const Q=u[E.fontName];Q.vertical&&(ne+=Math.PI/2);const me=Math.hypot(q[2],q[3]),pe=me*function D(P,E){const u=V.get(P);if(u)return u;E.save(),E.font=`30px ${P}`;const g=E.measureText("");let I=g.fontBoundingBoxAscent,z=Math.abs(g.fontBoundingBoxDescent);if(I){E.restore();const ne=I/(I+z);return V.set(P,ne),ne}E.strokeStyle="red",E.clearRect(0,0,30,30),E.strokeText("g",0,0);let q=E.getImageData(0,0,30,30).data;z=0;for(let ne=q.length-1-3;ne>=0;ne-=4)if(q[ne]>0){z=Math.ceil(ne/4/30);break}E.clearRect(0,0,30,30),E.strokeText("A",0,30),q=E.getImageData(0,0,30,30).data,I=0;for(let ne=0,Q=q.length;ne<Q;ne+=4)if(q[ne]>0){I=30-Math.floor(ne/4/30);break}if(E.restore(),I){const ne=I/(I+z);return V.set(P,ne),ne}return V.set(P,.8),.8}(Q.fontFamily,g);let N,W;0===ne?(N=q[4],W=q[5]-pe):(N=q[4]+pe*Math.sin(ne),W=q[5]-pe*Math.cos(ne)),I.style.left=`${N}px`,I.style.top=`${W}px`,I.style.fontSize=`${me}px`,I.style.fontFamily=Q.fontFamily,z.fontSize=me,I.setAttribute("role","presentation"),I.textContent=E.str,I.dir=E.dir,P._fontInspectorEnabled&&(I.dataset.fontName=E.fontName),0!==ne&&(z.angle=ne*(180/Math.PI));let Y=!1;if(E.str.length>1||P._enhanceTextSelection&&m.test(E.str))Y=!0;else if(" "!==E.str&&E.transform[0]!==E.transform[3]){const H=Math.abs(E.transform[0]),U=Math.abs(E.transform[3]);H!==U&&Math.max(H,U)/Math.min(H,U)>1.5&&(Y=!0)}if(Y&&(z.canvasWidth=Q.vertical?E.height*P._viewport.scale:E.width*P._viewport.scale),P._textDivProperties.set(I,z),P._textContentStream&&P._layoutText(I),P._enhanceTextSelection&&z.hasText){let H=1,U=0;0!==ne&&(H=Math.cos(ne),U=Math.sin(ne));const x=(Q.vertical?E.height:E.width)*P._viewport.scale,f=me;let w,B;0!==ne?(w=[H,U,-U,H,N,W],B=S.Util.getAxialAlignedBoundingBox([0,0,x,f],w)):B=[N,W,N+x,W+f],P._bounds.push({left:B[0],top:B[1],right:B[2],bottom:B[3],div:I,size:[x,f],m:w})}}function b(P){if(P._canceled)return;const E=P._textDivs,u=P._capability,g=E.length;if(g>1e5)return P._renderingDone=!0,void u.resolve();if(!P._textContentStream)for(let I=0;I<g;I++)P._layoutText(E[I]);P._renderingDone=!0,u.resolve()}function F(P,E,u){let g=0;for(let I=0;I<u;I++){const z=P[E++];z>0&&(g=g?Math.min(z,g):z)}return g}function _(P,E){E.sort(function(I,z){return I.x1-z.x1||I.index-z.index});const g=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const I of E){let z=0;for(;z<g.length&&g[z].end<=I.y1;)z++;let q=g.length-1;for(;q>=0&&g[q].start>=I.y2;)q--;let ne,Q,me,pe,N=-1/0;for(me=z;me<=q;me++){let H;ne=g[me],Q=ne.boundary,H=Q.x2>I.x1?Q.index>I.index?Q.x1New:I.x1:void 0===Q.x2New?(Q.x2+I.x1)/2:Q.x2New,H>N&&(N=H)}for(I.x1New=N,me=z;me<=q;me++)ne=g[me],Q=ne.boundary,void 0===Q.x2New?Q.x2>I.x1?Q.index>I.index&&(Q.x2New=Q.x2):Q.x2New=N:Q.x2New>N&&(Q.x2New=Math.max(N,Q.x2));const W=[];let Y=null;for(me=z;me<=q;me++){ne=g[me],Q=ne.boundary;const H=Q.x2>I.x2?Q:I;Y===H?W.at(-1).end=ne.end:(W.push({start:ne.start,end:ne.end,boundary:H}),Y=H)}for(g[z].start<I.y1&&(W[0].start=I.y1,W.unshift({start:g[z].start,end:I.y1,boundary:g[z].boundary})),I.y2<g[q].end&&(W.at(-1).end=I.y2,W.push({start:I.y2,end:g[q].end,boundary:g[q].boundary})),me=z;me<=q;me++){if(ne=g[me],Q=ne.boundary,void 0!==Q.x2New)continue;let H=!1;for(pe=z-1;!H&&pe>=0&&g[pe].start>=Q.y1;pe--)H=g[pe].boundary===Q;for(pe=q+1;!H&&pe<g.length&&g[pe].end<=Q.y2;pe++)H=g[pe].boundary===Q;for(pe=0;!H&&pe<W.length;pe++)H=W[pe].boundary===Q;H||(Q.x2New=N)}Array.prototype.splice.apply(g,[z,q-z+1,...W])}for(const I of g){const z=I.boundary;void 0===z.x2New&&(z.x2New=Math.max(P,z.x2))}}class O{constructor({textContent:E,textContentStream:u,container:g,viewport:I,textDivs:z,textContentItemsStr:q,enhanceTextSelection:ne}){ne&&(0,j.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=E,this._textContentStream=u,this._container=g,this._document=g.ownerDocument,this._viewport=I,this._textDivs=z||[],this._textContentItemsStr=q||[],this._enhanceTextSelection=!!ne,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,S.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new S.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(E,u){for(let g=0,I=E.length;g<I;g++)if(void 0!==E[g].str)this._textContentItemsStr.push(E[g].str),p(this,E[g],u,this._layoutTextCtx);else if("beginMarkedContentProps"===E[g].type||"beginMarkedContent"===E[g].type){const z=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==E[g].id&&this._container.setAttribute("id",`${E[g].id}`),z.append(this._container)}else"endMarkedContent"===E[g].type&&(this._container=this._container.parentNode)}_layoutText(E){const u=this._textDivProperties.get(E);let g="";if(0!==u.canvasWidth&&u.hasText){const{fontFamily:I}=E.style,{fontSize:z}=u;(z!==this._layoutTextLastFontSize||I!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${z*this._devicePixelRatio}px ${I}`,this._layoutTextLastFontSize=z,this._layoutTextLastFontFamily=I);const{width:q}=this._layoutTextCtx.measureText(E.textContent);if(q>0){const ne=this._devicePixelRatio*u.canvasWidth/q;this._enhanceTextSelection&&(u.scale=ne),g=`scaleX(${ne})`}}if(0!==u.angle&&(g=`rotate(${u.angle}deg) ${g}`),g.length>0&&(this._enhanceTextSelection&&(u.originalTransform=g),E.style.transform=g),u.hasText&&this._container.append(E),u.hasEOL){const I=document.createElement("br");I.setAttribute("role","presentation"),this._container.append(I)}}_render(E=0){const u=(0,S.createPromiseCapability)();let g=Object.create(null);const I=this._document.createElement("canvas");if(I.height=I.width=30,this._layoutTextCtx=I.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),u.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const z=()=>{this._reader.read().then(({value:q,done:ne})=>{ne?u.resolve():(Object.assign(g,q.styles),this._processItems(q.items,g),z())},u.reject)};this._reader=this._textContentStream.getReader(),z()}}u.promise.then(()=>{g=null,E?this._renderTimer=setTimeout(()=>{b(this),this._renderTimer=null},E):b(this)},this._capability.reject)}expandTextDivs(E=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function y(P){const E=P._bounds,u=P._viewport,g=function v(P,E,u){const g=u.map(function(z,q){return{x1:z.left,y1:z.top,x2:z.right,y2:z.bottom,index:q,x1New:void 0,x2New:void 0}});_(P,g);const I=new Array(u.length);for(const z of g)I[z.index]={left:z.x1New,top:0,right:z.x2New,bottom:0};u.map(function(z,q){const ne=I[q],Q=g[q];Q.x1=z.top,Q.y1=P-ne.right,Q.x2=z.bottom,Q.y2=P-ne.left,Q.index=q,Q.x1New=void 0,Q.x2New=void 0}),_(E,g);for(const z of g){const q=z.index;I[q].top=z.x1New,I[q].bottom=z.x2New}return I}(u.width,u.height,E);for(let I=0;I<g.length;I++){const z=E[I].div,q=P._textDivProperties.get(z);if(0===q.angle){q.paddingLeft=E[I].left-g[I].left,q.paddingTop=E[I].top-g[I].top,q.paddingRight=g[I].right-E[I].right,q.paddingBottom=g[I].bottom-E[I].bottom,P._textDivProperties.set(z,q);continue}const ne=g[I],Q=E[I],me=Q.m,pe=me[0],N=me[1],W=[[0,0],[0,Q.size[1]],[Q.size[0],0],Q.size],Y=new Float64Array(64);for(let U=0,x=W.length;U<x;U++){const f=S.Util.applyTransform(W[U],me);Y[U+0]=pe&&(ne.left-f[0])/pe,Y[U+4]=N&&(ne.top-f[1])/N,Y[U+8]=pe&&(ne.right-f[0])/pe,Y[U+12]=N&&(ne.bottom-f[1])/N,Y[U+16]=N&&(ne.left-f[0])/-N,Y[U+20]=pe&&(ne.top-f[1])/pe,Y[U+24]=N&&(ne.right-f[0])/-N,Y[U+28]=pe&&(ne.bottom-f[1])/pe,Y[U+32]=pe&&(ne.left-f[0])/-pe,Y[U+36]=N&&(ne.top-f[1])/-N,Y[U+40]=pe&&(ne.right-f[0])/-pe,Y[U+44]=N&&(ne.bottom-f[1])/-N,Y[U+48]=N&&(ne.left-f[0])/N,Y[U+52]=pe&&(ne.top-f[1])/-pe,Y[U+56]=N&&(ne.right-f[0])/N,Y[U+60]=pe&&(ne.bottom-f[1])/-pe}const H=1+Math.min(Math.abs(pe),Math.abs(N));q.paddingLeft=F(Y,32,16)/H,q.paddingTop=F(Y,48,16)/H,q.paddingRight=F(Y,0,16)/H,q.paddingBottom=F(Y,16,16)/H,P._textDivProperties.set(z,q)}}(this),this._bounds=null);const u=[],g=[];for(let I=0,z=this._textDivs.length;I<z;I++){const q=this._textDivs[I],ne=this._textDivProperties.get(q);ne.hasText&&(E?(u.length=0,g.length=0,ne.originalTransform&&u.push(ne.originalTransform),ne.paddingTop>0?(g.push(`${ne.paddingTop}px`),u.push(`translateY(${-ne.paddingTop}px)`)):g.push(0),g.push(ne.paddingRight>0?ne.paddingRight/ne.scale+"px":0),g.push(ne.paddingBottom>0?`${ne.paddingBottom}px`:0),ne.paddingLeft>0?(g.push(ne.paddingLeft/ne.scale+"px"),u.push(`translateX(${-ne.paddingLeft/ne.scale}px)`)):g.push(0),q.style.padding=g.join(" "),u.length&&(q.style.transform=u.join(" "))):(q.style.padding=null,q.style.transform=ne.originalTransform))}}}C.TextLayerRenderTask=O},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.SVGGraphics=void 0;var S=te(8),j=te(1),re=te(3);let ee=class{constructor(){(0,j.unreachable)("Not implemented: SVGGraphics")}};C.SVGGraphics=ee;{let v=function(u){let g=[];const I=[];for(const z of u)"save"!==z.fn?"restore"===z.fn?g=I.pop():g.push(z):(g.push({fnId:92,fn:"group",items:[]}),I.push(g),g=g.at(-1).items);return g},_=function(u){if(Number.isInteger(u))return u.toString();const g=u.toFixed(10);let I=g.length-1;if("0"!==g[I])return g;do{I--}while("0"===g[I]);return g.substring(0,"."===g[I]?I:I+1)},O=function(u){if(0===u[4]&&0===u[5]){if(0===u[1]&&0===u[2])return 1===u[0]&&1===u[3]?"":`scale(${_(u[0])} ${_(u[3])})`;if(u[0]===u[3]&&u[1]===-u[2]){const g=180*Math.acos(u[0])/Math.PI;return`rotate(${_(g)})`}}else if(1===u[0]&&0===u[1]&&0===u[2]&&1===u[3])return`translate(${_(u[4])} ${_(u[5])})`;return`matrix(${_(u[0])} ${_(u[1])} ${_(u[2])} ${_(u[3])} ${_(u[4])} ${_(u[5])})`};const oe={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},V="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/1999/xlink",D=["butt","round","square"],p=["miter","round","bevel"],b=function(u,g="",I=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!I)return URL.createObjectURL(new Blob([u],{type:g}));const z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let q=`data:${g};base64,`;for(let ne=0,Q=u.length;ne<Q;ne+=3){const me=255&u[ne],pe=255&u[ne+1],N=255&u[ne+2];q+=z[me>>2]+z[(3&me)<<4|pe>>4]+z[ne+1<Q?(15&pe)<<2|N>>6:64]+z[ne+2<Q?63&N:64]}return q},F=function(){const u=new Uint8Array([137,80,78,71,13,10,26,10]),I=new Int32Array(256);for(let N=0;N<256;N++){let W=N;for(let Y=0;Y<8;Y++)W=1&W?3988292384^W>>1&2147483647:W>>1&2147483647;I[N]=W}function q(N,W,Y,H){let U=H;const x=W.length;Y[U]=x>>24&255,Y[U+1]=x>>16&255,Y[U+2]=x>>8&255,Y[U+3]=255&x,U+=4,Y[U]=255&N.charCodeAt(0),Y[U+1]=255&N.charCodeAt(1),Y[U+2]=255&N.charCodeAt(2),Y[U+3]=255&N.charCodeAt(3),U+=4,Y.set(W,U),U+=W.length;const f=function z(N,W,Y){let H=-1;for(let U=W;U<Y;U++)H=H>>>8^I[255&(H^N[U])];return-1^H}(Y,H+4,U);Y[U]=f>>24&255,Y[U+1]=f>>16&255,Y[U+2]=f>>8&255,Y[U+3]=255&f}function me(N){let W=N.length;const Y=65535,H=Math.ceil(W/Y),U=new Uint8Array(2+W+5*H+4);let x=0;U[x++]=120,U[x++]=156;let f=0;for(;W>Y;)U[x++]=0,U[x++]=255,U[x++]=255,U[x++]=0,U[x++]=0,U.set(N.subarray(f,f+Y),x),x+=Y,f+=Y,W-=Y;U[x++]=1,U[x++]=255&W,U[x++]=W>>8&255,U[x++]=255&~W,U[x++]=(65535&~W)>>8&255,U.set(N.subarray(f),x),x+=N.length-f;const w=function ne(N,W,Y){let H=1,U=0;for(let x=W;x<Y;++x)H=(H+(255&N[x]))%65521,U=(U+H)%65521;return U<<16|H}(N,0,N.length);return U[x++]=w>>24&255,U[x++]=w>>16&255,U[x++]=w>>8&255,U[x++]=255&w,U}return function(W,Y,H){return function pe(N,W,Y,H){const U=N.width,x=N.height;let f,w,B;const k=N.data;switch(W){case j.ImageKind.GRAYSCALE_1BPP:w=0,f=1,B=U+7>>3;break;case j.ImageKind.RGB_24BPP:w=2,f=8,B=3*U;break;case j.ImageKind.RGBA_32BPP:w=6,f=8,B=4*U;break;default:throw new Error("invalid format")}const d=new Uint8Array((1+B)*x);let M=0,L=0;for(let ce=0;ce<x;++ce)d[M++]=0,d.set(k.subarray(L,L+B),M),L+=B,M+=B;if(W===j.ImageKind.GRAYSCALE_1BPP&&H){M=0;for(let ce=0;ce<x;ce++){M++;for(let ue=0;ue<B;ue++)d[M++]^=255}}const $=new Uint8Array([U>>24&255,U>>16&255,U>>8&255,255&U,x>>24&255,x>>16&255,x>>8&255,255&x,f,w,0,0,0]),X=function Q(N){if(!re.isNodeJS)return me(N);try{let W;W=parseInt(process.versions.node)>=8?N:Buffer.from(N);const Y=__webpack_require__(258).deflateSync(W,{level:9});return Y instanceof Uint8Array?Y:new Uint8Array(Y)}catch(W){(0,j.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+W)}return me(N)}(d),J=new Uint8Array(u.length+36+$.length+X.length);let ae=0;return J.set(u,ae),ae+=u.length,q("IHDR",$,J,ae),ae+=12+$.length,q("IDATA",X,J,ae),ae+=12+X.length,q("IEND",new Uint8Array(0),J,ae),b(J,"image/png",Y)}(W,void 0===W.kind?j.ImageKind.GRAYSCALE_1BPP:W.kind,Y,H)}}();class y{constructor(){this.fontSizeScale=1,this.fontWeight=oe.fontWeight,this.fontSize=0,this.textMatrix=j.IDENTITY_MATRIX,this.fontMatrix=j.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=j.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=oe.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(g,I){this.x=g,this.y=I}}let R=0,P=0,E=0;C.SVGGraphics=ee=class{constructor(u,g,I=!1){(0,S.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new S.DOMSVGFactory,this.current=new y,this.transformMatrix=j.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=u,this.objs=g,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!I,this._operatorIdMapping=[];for(const z in j.OPS)this._operatorIdMapping[j.OPS[z]]=z}save(){this.transformStack.push(this.transformMatrix);const u=this.current;this.extraStack.push(u),this.current=u.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(u){this.save(),this.executeOpTree(u),this.restore()}loadDependencies(u){const g=u.fnArray,I=u.argsArray;for(let z=0,q=g.length;z<q;z++)if(g[z]===j.OPS.dependency)for(const ne of I[z]){const Q=ne.startsWith("g_")?this.commonObjs:this.objs,me=new Promise(pe=>{Q.get(ne,pe)});this.current.dependencies.push(me)}return Promise.all(this.current.dependencies)}transform(u,g,I,z,q,ne){this.transformMatrix=j.Util.transform(this.transformMatrix,[u,g,I,z,q,ne]),this.tgrp=null}getSVG(u,g){this.viewport=g;const I=this._initialize(g);return this.loadDependencies(u).then(()=>(this.transformMatrix=j.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(u)),I))}convertOpList(u){const g=this._operatorIdMapping,I=u.argsArray,z=u.fnArray,q=[];for(let ne=0,Q=z.length;ne<Q;ne++){const me=z[ne];q.push({fnId:me,fn:g[me],args:I[ne]})}return v(q)}executeOpTree(u){for(const g of u){const I=g.fn,q=g.args;switch(0|g.fnId){case j.OPS.beginText:this.beginText();break;case j.OPS.dependency:break;case j.OPS.setLeading:this.setLeading(q);break;case j.OPS.setLeadingMoveText:this.setLeadingMoveText(q[0],q[1]);break;case j.OPS.setFont:this.setFont(q);break;case j.OPS.showText:case j.OPS.showSpacedText:this.showText(q[0]);break;case j.OPS.endText:this.endText();break;case j.OPS.moveText:this.moveText(q[0],q[1]);break;case j.OPS.setCharSpacing:this.setCharSpacing(q[0]);break;case j.OPS.setWordSpacing:this.setWordSpacing(q[0]);break;case j.OPS.setHScale:this.setHScale(q[0]);break;case j.OPS.setTextMatrix:this.setTextMatrix(q[0],q[1],q[2],q[3],q[4],q[5]);break;case j.OPS.setTextRise:this.setTextRise(q[0]);break;case j.OPS.setTextRenderingMode:this.setTextRenderingMode(q[0]);break;case j.OPS.setLineWidth:this.setLineWidth(q[0]);break;case j.OPS.setLineJoin:this.setLineJoin(q[0]);break;case j.OPS.setLineCap:this.setLineCap(q[0]);break;case j.OPS.setMiterLimit:this.setMiterLimit(q[0]);break;case j.OPS.setFillRGBColor:this.setFillRGBColor(q[0],q[1],q[2]);break;case j.OPS.setStrokeRGBColor:this.setStrokeRGBColor(q[0],q[1],q[2]);break;case j.OPS.setStrokeColorN:this.setStrokeColorN(q);break;case j.OPS.setFillColorN:this.setFillColorN(q);break;case j.OPS.shadingFill:this.shadingFill(q[0]);break;case j.OPS.setDash:this.setDash(q[0],q[1]);break;case j.OPS.setRenderingIntent:this.setRenderingIntent(q[0]);break;case j.OPS.setFlatness:this.setFlatness(q[0]);break;case j.OPS.setGState:this.setGState(q[0]);break;case j.OPS.fill:this.fill();break;case j.OPS.eoFill:this.eoFill();break;case j.OPS.stroke:this.stroke();break;case j.OPS.fillStroke:this.fillStroke();break;case j.OPS.eoFillStroke:this.eoFillStroke();break;case j.OPS.clip:this.clip("nonzero");break;case j.OPS.eoClip:this.clip("evenodd");break;case j.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case j.OPS.paintImageXObject:this.paintImageXObject(q[0]);break;case j.OPS.paintInlineImageXObject:this.paintInlineImageXObject(q[0]);break;case j.OPS.paintImageMaskXObject:this.paintImageMaskXObject(q[0]);break;case j.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(q[0],q[1]);break;case j.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case j.OPS.closePath:this.closePath();break;case j.OPS.closeStroke:this.closeStroke();break;case j.OPS.closeFillStroke:this.closeFillStroke();break;case j.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case j.OPS.nextLine:this.nextLine();break;case j.OPS.transform:this.transform(q[0],q[1],q[2],q[3],q[4],q[5]);break;case j.OPS.constructPath:this.constructPath(q[0],q[1]);break;case j.OPS.endPath:this.endPath();break;case 92:this.group(g.items);break;default:(0,j.warn)(`Unimplemented operator ${I}`)}}}setWordSpacing(u){this.current.wordSpacing=u}setCharSpacing(u){this.current.charSpacing=u}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(u,g,I,z,q,ne){const Q=this.current;Q.textMatrix=Q.lineMatrix=[u,g,I,z,q,ne],Q.textMatrixScale=Math.hypot(u,g),Q.x=Q.lineX=0,Q.y=Q.lineY=0,Q.xcoords=[],Q.ycoords=[],Q.tspan=this.svgFactory.createElement("svg:tspan"),Q.tspan.setAttributeNS(null,"font-family",Q.fontFamily),Q.tspan.setAttributeNS(null,"font-size",`${_(Q.fontSize)}px`),Q.tspan.setAttributeNS(null,"y",_(-Q.y)),Q.txtElement=this.svgFactory.createElement("svg:text"),Q.txtElement.append(Q.tspan)}beginText(){const u=this.current;u.x=u.lineX=0,u.y=u.lineY=0,u.textMatrix=j.IDENTITY_MATRIX,u.lineMatrix=j.IDENTITY_MATRIX,u.textMatrixScale=1,u.tspan=this.svgFactory.createElement("svg:tspan"),u.txtElement=this.svgFactory.createElement("svg:text"),u.txtgrp=this.svgFactory.createElement("svg:g"),u.xcoords=[],u.ycoords=[]}moveText(u,g){const I=this.current;I.x=I.lineX+=u,I.y=I.lineY+=g,I.xcoords=[],I.ycoords=[],I.tspan=this.svgFactory.createElement("svg:tspan"),I.tspan.setAttributeNS(null,"font-family",I.fontFamily),I.tspan.setAttributeNS(null,"font-size",`${_(I.fontSize)}px`),I.tspan.setAttributeNS(null,"y",_(-I.y))}showText(u){const g=this.current,I=g.font,z=g.fontSize;if(0===z)return;const q=g.fontSizeScale,ne=g.charSpacing,Q=g.wordSpacing,me=g.fontDirection,pe=g.textHScale*me,N=I.vertical,W=N?1:-1,Y=I.defaultVMetrics,H=z*g.fontMatrix[0];let U=0;for(const w of u){if(null===w){U+=me*Q;continue}if("number"==typeof w){U+=W*w*z/1e3;continue}const B=(w.isSpace?Q:0)+ne,k=w.fontChar;let d,M,$,L=w.width;if(N){let X;const ie=w.vmetric||Y;X=w.vmetric?ie[1]:.5*L,X=-X*H,L=ie?-ie[0]:L,d=X/q,M=(U+ie[2]*H)/q}else d=U/q,M=0;(w.isInFont||I.missingFile)&&(g.xcoords.push(g.x+d),N&&g.ycoords.push(-g.y+M),g.tspan.textContent+=k),$=N?L*H-B*me:L*H+B*me,U+=$}g.tspan.setAttributeNS(null,"x",g.xcoords.map(_).join(" ")),g.tspan.setAttributeNS(null,"y",N?g.ycoords.map(_).join(" "):_(-g.y)),N?g.y-=U:g.x+=U*pe,g.tspan.setAttributeNS(null,"font-family",g.fontFamily),g.tspan.setAttributeNS(null,"font-size",`${_(g.fontSize)}px`),g.fontStyle!==oe.fontStyle&&g.tspan.setAttributeNS(null,"font-style",g.fontStyle),g.fontWeight!==oe.fontWeight&&g.tspan.setAttributeNS(null,"font-weight",g.fontWeight);const x=g.textRenderingMode&j.TextRenderingMode.FILL_STROKE_MASK;x===j.TextRenderingMode.FILL||x===j.TextRenderingMode.FILL_STROKE?(g.fillColor!==oe.fillColor&&g.tspan.setAttributeNS(null,"fill",g.fillColor),g.fillAlpha<1&&g.tspan.setAttributeNS(null,"fill-opacity",g.fillAlpha)):g.tspan.setAttributeNS(null,"fill",g.textRenderingMode===j.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(x===j.TextRenderingMode.STROKE||x===j.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(g.tspan,1/(g.textMatrixScale||1));let f=g.textMatrix;0!==g.textRise&&(f=f.slice(),f[5]+=g.textRise),g.txtElement.setAttributeNS(null,"transform",`${O(f)} scale(${_(pe)}, -1)`),g.txtElement.setAttributeNS(V,"xml:space","preserve"),g.txtElement.append(g.tspan),g.txtgrp.append(g.txtElement),this._ensureTransformGroup().append(g.txtElement)}setLeadingMoveText(u,g){this.setLeading(-g),this.moveText(u,g)}addFontStyle(u){if(!u.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const g=b(u.data,u.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${u.loadedName}"; src: url(${g}); }\n`}setFont(u){const g=this.current,I=this.commonObjs.get(u[0]);let z=u[1];g.font=I,this.embedFonts&&!I.missingFile&&!this.embeddedFonts[I.loadedName]&&(this.addFontStyle(I),this.embeddedFonts[I.loadedName]=I),g.fontMatrix=I.fontMatrix||j.FONT_IDENTITY_MATRIX;let q="normal";I.black?q="900":I.bold&&(q="bold");const ne=I.italic?"italic":"normal";z<0?(z=-z,g.fontDirection=-1):g.fontDirection=1,g.fontSize=z,g.fontFamily=I.loadedName,g.fontWeight=q,g.fontStyle=ne,g.tspan=this.svgFactory.createElement("svg:tspan"),g.tspan.setAttributeNS(null,"y",_(-g.y)),g.xcoords=[],g.ycoords=[]}endText(){const u=this.current;u.textRenderingMode&j.TextRenderingMode.ADD_TO_PATH_FLAG&&u.txtElement?.hasChildNodes()&&(u.element=u.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(u){u>0&&(this.current.lineWidth=u)}setLineCap(u){this.current.lineCap=D[u]}setLineJoin(u){this.current.lineJoin=p[u]}setMiterLimit(u){this.current.miterLimit=u}setStrokeAlpha(u){this.current.strokeAlpha=u}setStrokeRGBColor(u,g,I){this.current.strokeColor=j.Util.makeHexColor(u,g,I)}setFillAlpha(u){this.current.fillAlpha=u}setFillRGBColor(u,g,I){this.current.fillColor=j.Util.makeHexColor(u,g,I),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(u){this.current.strokeColor=this._makeColorN_Pattern(u)}setFillColorN(u){this.current.fillColor=this._makeColorN_Pattern(u)}shadingFill(u){const g=this.viewport.width,I=this.viewport.height,z=j.Util.inverseTransform(this.transformMatrix),q=j.Util.applyTransform([0,0],z),ne=j.Util.applyTransform([0,I],z),Q=j.Util.applyTransform([g,0],z),me=j.Util.applyTransform([g,I],z),pe=Math.min(q[0],ne[0],Q[0],me[0]),N=Math.min(q[1],ne[1],Q[1],me[1]),W=Math.max(q[0],ne[0],Q[0],me[0]),Y=Math.max(q[1],ne[1],Q[1],me[1]),H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x",pe),H.setAttributeNS(null,"y",N),H.setAttributeNS(null,"width",W-pe),H.setAttributeNS(null,"height",Y-N),H.setAttributeNS(null,"fill",this._makeShadingPattern(u)),this.current.fillAlpha<1&&H.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(H)}_makeColorN_Pattern(u){return"TilingPattern"===u[0]?this._makeTilingPattern(u):this._makeShadingPattern(u)}_makeTilingPattern(u){const g=u[1],I=u[2],z=u[3]||j.IDENTITY_MATRIX,[q,ne,Q,me]=u[4],pe=u[5],N=u[6],W=u[7],Y="shading"+E++,[H,U,x,f]=j.Util.normalizeRect([...j.Util.applyTransform([q,ne],z),...j.Util.applyTransform([Q,me],z)]),[w,B]=j.Util.singularValueDecompose2dScale(z),k=pe*w,d=N*B,M=this.svgFactory.createElement("svg:pattern");M.setAttributeNS(null,"id",Y),M.setAttributeNS(null,"patternUnits","userSpaceOnUse"),M.setAttributeNS(null,"width",k),M.setAttributeNS(null,"height",d),M.setAttributeNS(null,"x",`${H}`),M.setAttributeNS(null,"y",`${U}`);const L=this.svg,$=this.transformMatrix,X=this.current.fillColor,ie=this.current.strokeColor,J=this.svgFactory.create(x-H,f-U);if(this.svg=J,this.transformMatrix=z,2===W){const ae=j.Util.makeHexColor(...g);this.current.fillColor=ae,this.current.strokeColor=ae}return this.executeOpTree(this.convertOpList(I)),this.svg=L,this.transformMatrix=$,this.current.fillColor=X,this.current.strokeColor=ie,M.append(J.childNodes[0]),this.defs.append(M),`url(#${Y})`}_makeShadingPattern(u){switch("string"==typeof u&&(u=this.objs.get(u)),u[0]){case"RadialAxial":const g="shading"+E++,I=u[3];let z;switch(u[1]){case"axial":const q=u[4],ne=u[5];z=this.svgFactory.createElement("svg:linearGradient"),z.setAttributeNS(null,"id",g),z.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),z.setAttributeNS(null,"x1",q[0]),z.setAttributeNS(null,"y1",q[1]),z.setAttributeNS(null,"x2",ne[0]),z.setAttributeNS(null,"y2",ne[1]);break;case"radial":const Q=u[4],me=u[5],pe=u[6],N=u[7];z=this.svgFactory.createElement("svg:radialGradient"),z.setAttributeNS(null,"id",g),z.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),z.setAttributeNS(null,"cx",me[0]),z.setAttributeNS(null,"cy",me[1]),z.setAttributeNS(null,"r",N),z.setAttributeNS(null,"fx",Q[0]),z.setAttributeNS(null,"fy",Q[1]),z.setAttributeNS(null,"fr",pe);break;default:throw new Error(`Unknown RadialAxial type: ${u[1]}`)}for(const q of I){const ne=this.svgFactory.createElement("svg:stop");ne.setAttributeNS(null,"offset",q[0]),ne.setAttributeNS(null,"stop-color",q[1]),z.append(ne)}return this.defs.append(z),`url(#${g})`;case"Mesh":return(0,j.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${u[0]}`)}}setDash(u,g){this.current.dashArray=u,this.current.dashPhase=g}constructPath(u,g){const I=this.current;let z=I.x,q=I.y,ne=[],Q=0;for(const me of u)switch(0|me){case j.OPS.rectangle:z=g[Q++],q=g[Q++];const W=z+g[Q++],Y=q+g[Q++];ne.push("M",_(z),_(q),"L",_(W),_(q),"L",_(W),_(Y),"L",_(z),_(Y),"Z");break;case j.OPS.moveTo:z=g[Q++],q=g[Q++],ne.push("M",_(z),_(q));break;case j.OPS.lineTo:z=g[Q++],q=g[Q++],ne.push("L",_(z),_(q));break;case j.OPS.curveTo:z=g[Q+4],q=g[Q+5],ne.push("C",_(g[Q]),_(g[Q+1]),_(g[Q+2]),_(g[Q+3]),_(z),_(q)),Q+=6;break;case j.OPS.curveTo2:ne.push("C",_(z),_(q),_(g[Q]),_(g[Q+1]),_(g[Q+2]),_(g[Q+3])),z=g[Q+2],q=g[Q+3],Q+=4;break;case j.OPS.curveTo3:z=g[Q+2],q=g[Q+3],ne.push("C",_(g[Q]),_(g[Q+1]),_(z),_(q),_(z),_(q)),Q+=4;break;case j.OPS.closePath:ne.push("Z")}ne=ne.join(" "),I.path&&u.length>0&&u[0]!==j.OPS.rectangle&&u[0]!==j.OPS.moveTo?ne=I.path.getAttributeNS(null,"d")+ne:(I.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(I.path)),I.path.setAttributeNS(null,"d",ne),I.path.setAttributeNS(null,"fill","none"),I.element=I.path,I.setCurrentPoint(z,q)}endPath(){const u=this.current;if(u.path=null,!this.pendingClip)return;if(!u.element)return void(this.pendingClip=null);const g="clippath"+R++,I=this.svgFactory.createElement("svg:clipPath");I.setAttributeNS(null,"id",g),I.setAttributeNS(null,"transform",O(this.transformMatrix));const z=u.element.cloneNode(!0);if(z.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,I.append(z),this.defs.append(I),u.activeClipUrl){u.clipGroup=null;for(const q of this.extraStack)q.clipGroup=null;I.setAttributeNS(null,"clip-path",u.activeClipUrl)}u.activeClipUrl=`url(#${g})`,this.tgrp=null}clip(u){this.pendingClip=u}closePath(){const u=this.current;if(u.path){const g=`${u.path.getAttributeNS(null,"d")}Z`;u.path.setAttributeNS(null,"d",g)}}setLeading(u){this.current.leading=-u}setTextRise(u){this.current.textRise=u}setTextRenderingMode(u){this.current.textRenderingMode=u}setHScale(u){this.current.textHScale=u/100}setRenderingIntent(u){}setFlatness(u){}setGState(u){for(const[g,I]of u)switch(g){case"LW":this.setLineWidth(I);break;case"LC":this.setLineCap(I);break;case"LJ":this.setLineJoin(I);break;case"ML":this.setMiterLimit(I);break;case"D":this.setDash(I[0],I[1]);break;case"RI":this.setRenderingIntent(I);break;case"FL":this.setFlatness(I);break;case"Font":this.setFont(I);break;case"CA":this.setStrokeAlpha(I);break;case"ca":this.setFillAlpha(I);break;default:(0,j.warn)(`Unimplemented graphic state operator ${g}`)}}fill(){const u=this.current;u.element&&(u.element.setAttributeNS(null,"fill",u.fillColor),u.element.setAttributeNS(null,"fill-opacity",u.fillAlpha),this.endPath())}stroke(){const u=this.current;u.element&&(this._setStrokeAttributes(u.element),u.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(u,g=1){const I=this.current;let z=I.dashArray;1!==g&&z.length>0&&(z=z.map(function(q){return g*q})),u.setAttributeNS(null,"stroke",I.strokeColor),u.setAttributeNS(null,"stroke-opacity",I.strokeAlpha),u.setAttributeNS(null,"stroke-miterlimit",_(I.miterLimit)),u.setAttributeNS(null,"stroke-linecap",I.lineCap),u.setAttributeNS(null,"stroke-linejoin",I.lineJoin),u.setAttributeNS(null,"stroke-width",_(g*I.lineWidth)+"px"),u.setAttributeNS(null,"stroke-dasharray",z.map(_).join(" ")),u.setAttributeNS(null,"stroke-dashoffset",_(g*I.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const u=this.svgFactory.createElement("svg:rect");u.setAttributeNS(null,"x","0"),u.setAttributeNS(null,"y","0"),u.setAttributeNS(null,"width","1px"),u.setAttributeNS(null,"height","1px"),u.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(u)}paintImageXObject(u){const g=u.startsWith("g_")?this.commonObjs.get(u):this.objs.get(u);g?this.paintInlineImageXObject(g):(0,j.warn)(`Dependent image with object ID ${u} is not ready yet`)}paintInlineImageXObject(u,g){const I=u.width,z=u.height,q=F(u,this.forceDataSchema,!!g),ne=this.svgFactory.createElement("svg:rect");ne.setAttributeNS(null,"x","0"),ne.setAttributeNS(null,"y","0"),ne.setAttributeNS(null,"width",_(I)),ne.setAttributeNS(null,"height",_(z)),this.current.element=ne,this.clip("nonzero");const Q=this.svgFactory.createElement("svg:image");Q.setAttributeNS(m,"xlink:href",q),Q.setAttributeNS(null,"x","0"),Q.setAttributeNS(null,"y",_(-z)),Q.setAttributeNS(null,"width",_(I)+"px"),Q.setAttributeNS(null,"height",_(z)+"px"),Q.setAttributeNS(null,"transform",`scale(${_(1/I)} ${_(-1/z)})`),g?g.append(Q):this._ensureTransformGroup().append(Q)}paintImageMaskXObject(u){const g=this.current,I=u.width,z=u.height,q=g.fillColor;g.maskId="mask"+P++;const ne=this.svgFactory.createElement("svg:mask");ne.setAttributeNS(null,"id",g.maskId);const Q=this.svgFactory.createElement("svg:rect");Q.setAttributeNS(null,"x","0"),Q.setAttributeNS(null,"y","0"),Q.setAttributeNS(null,"width",_(I)),Q.setAttributeNS(null,"height",_(z)),Q.setAttributeNS(null,"fill",q),Q.setAttributeNS(null,"mask",`url(#${g.maskId})`),this.defs.append(ne),this._ensureTransformGroup().append(Q),this.paintInlineImageXObject(u,ne)}paintFormXObjectBegin(u,g){if(Array.isArray(u)&&6===u.length&&this.transform(u[0],u[1],u[2],u[3],u[4],u[5]),g){const I=g[2]-g[0],z=g[3]-g[1],q=this.svgFactory.createElement("svg:rect");q.setAttributeNS(null,"x",g[0]),q.setAttributeNS(null,"y",g[1]),q.setAttributeNS(null,"width",_(I)),q.setAttributeNS(null,"height",_(z)),this.current.element=q,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(u){const g=this.svgFactory.create(u.width,u.height),I=this.svgFactory.createElement("svg:defs");g.append(I),this.defs=I;const z=this.svgFactory.createElement("svg:g");return z.setAttributeNS(null,"transform",O(u.transform)),g.append(z),this.svg=z,g}_ensureClipGroup(){if(!this.current.clipGroup){const u=this.svgFactory.createElement("svg:g");u.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(u),this.current.clipGroup=u}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",O(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.PDFNodeStream=void 0;var S=te(1),j=te(33);const re=__webpack_require__(172),ee=__webpack_require__(1),oe=__webpack_require__(779),V=__webpack_require__(558),m=/^file:\/\/\/[a-zA-Z]:\//;C.PDFNodeStream=class p{constructor(E){this.source=E,this.url=function D(P){const E=V.parse(P);return"file:"===E.protocol||E.host?E:/^[a-z]:[/\\]/i.test(P)?V.parse(`file:///${P}`):(E.host||(E.protocol="file:"),E)}(E.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&E.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,S.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new O(this):new v(this),this._fullRequestReader}getRangeReader(E,u){if(u<=this._progressiveDataLength)return null;const g=this.isFsUrl?new R(this,E,u):new _(this,E,u);return this._rangeRequestReaders.push(g),g}cancelAllRequests(E){this._fullRequestReader&&this._fullRequestReader.cancel(E);for(const u of this._rangeRequestReaders.slice(0))u.cancel(E)}};class b{constructor(E){this._url=E.url,this._done=!1,this._storedError=null,this.onProgress=null;const u=E.source;this._contentLength=u.length,this._loaded=0,this._filename=null,this._disableRange=u.disableRange||!1,this._rangeChunkSize=u.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!u.disableStream,this._isRangeSupported=!u.disableRange,this._readableStream=null,this._readCapability=(0,S.createPromiseCapability)(),this._headersCapability=(0,S.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var E=this;return _asyncToGenerator(function*(){if(yield E._readCapability.promise,E._done)return{value:void 0,done:!0};if(E._storedError)throw E._storedError;const u=E._readableStream.read();return null===u?(E._readCapability=(0,S.createPromiseCapability)(),E.read()):(E._loaded+=u.length,E.onProgress&&E.onProgress({loaded:E._loaded,total:E._contentLength}),{value:new Uint8Array(u).buffer,done:!1})})()}cancel(E){this._readableStream?this._readableStream.destroy(E):this._error(E)}_error(E){this._storedError=E,this._readCapability.resolve()}_setReadableStream(E){this._readableStream=E,E.on("readable",()=>{this._readCapability.resolve()}),E.on("end",()=>{E.destroy(),this._done=!0,this._readCapability.resolve()}),E.on("error",u=>{this._error(u)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new S.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class F{constructor(E){this._url=E.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,S.createPromiseCapability)(),this._isStreamingSupported=!E.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var E=this;return _asyncToGenerator(function*(){if(yield E._readCapability.promise,E._done)return{value:void 0,done:!0};if(E._storedError)throw E._storedError;const u=E._readableStream.read();return null===u?(E._readCapability=(0,S.createPromiseCapability)(),E.read()):(E._loaded+=u.length,E.onProgress&&E.onProgress({loaded:E._loaded}),{value:new Uint8Array(u).buffer,done:!1})})()}cancel(E){this._readableStream?this._readableStream.destroy(E):this._error(E)}_error(E){this._storedError=E,this._readCapability.resolve()}_setReadableStream(E){this._readableStream=E,E.on("readable",()=>{this._readCapability.resolve()}),E.on("end",()=>{E.destroy(),this._done=!0,this._readCapability.resolve()}),E.on("error",u=>{this._error(u)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function y(P,E){return{protocol:P.protocol,auth:P.auth,host:P.hostname,port:P.port,path:P.path,method:"GET",headers:E}}class v extends b{constructor(E){super(E);const u=g=>{if(404===g.statusCode){const ne=new S.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=ne,void this._headersCapability.reject(ne)}this._headersCapability.resolve(),this._setReadableStream(g);const I=ne=>this._readableStream.headers[ne.toLowerCase()],{allowRangeRequests:z,suggestedLength:q}=(0,j.validateRangeRequestCapabilities)({getResponseHeader:I,isHttp:E.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=z,this._contentLength=q||this._contentLength,this._filename=(0,j.extractFilenameFromHeader)(I)};this._request=null,this._request="http:"===this._url.protocol?ee.request(y(this._url,E.httpHeaders),u):oe.request(y(this._url,E.httpHeaders),u),this._request.on("error",g=>{this._storedError=g,this._headersCapability.reject(g)}),this._request.end()}}class _ extends F{constructor(E,u,g){super(E),this._httpHeaders={};for(const z in E.httpHeaders){const q=E.httpHeaders[z];typeof q>"u"||(this._httpHeaders[z]=q)}this._httpHeaders.Range=`bytes=${u}-${g-1}`;const I=z=>{if(404!==z.statusCode)this._setReadableStream(z);else{const q=new S.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=q}};this._request=null,this._request="http:"===this._url.protocol?ee.request(y(this._url,this._httpHeaders),I):oe.request(y(this._url,this._httpHeaders),I),this._request.on("error",z=>{this._storedError=z}),this._request.end()}}class O extends b{constructor(E){super(E);let u=decodeURIComponent(this._url.path);m.test(this._url.href)&&(u=u.replace(/^\//,"")),re.lstat(u,(g,I)=>{if(g)return"ENOENT"===g.code&&(g=new S.MissingPDFException(`Missing PDF "${u}".`)),this._storedError=g,void this._headersCapability.reject(g);this._contentLength=I.size,this._setReadableStream(re.createReadStream(u)),this._headersCapability.resolve()})}}class R extends F{constructor(E,u,g){super(E);let I=decodeURIComponent(this._url.path);m.test(this._url.href)&&(I=I.replace(/^\//,"")),this._setReadableStream(re.createReadStream(I,{start:u,end:g-1}))}}},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.createResponseStatusError=function V(D,p){return 404===D||0===D&&p.startsWith("file:")?new S.MissingPDFException('Missing PDF "'+p+'".'):new S.UnexpectedResponseException(`Unexpected server response (${D}) while retrieving PDF "${p}".`,D)},C.extractFilenameFromHeader=function oe(D){const p=D("Content-Disposition");if(p){let b=(0,j.getFilenameFromContentDispositionHeader)(p);if(b.includes("%"))try{b=decodeURIComponent(b)}catch{}if((0,re.isPdfFile)(b))return b}return null},C.validateRangeRequestCapabilities=function ee({getResponseHeader:D,isHttp:p,rangeChunkSize:b,disableRange:F}){const y={allowRangeRequests:!1,suggestedLength:void 0},v=parseInt(D("Content-Length"),10);return!Number.isInteger(v)||(y.suggestedLength=v,v<=2*b)||F||!p||"bytes"!==D("Accept-Ranges")||"identity"!==(D("Content-Encoding")||"identity")||(y.allowRangeRequests=!0),y},C.validateResponseStatus=function m(D){return 200===D||206===D};var S=te(1),j=te(34),re=te(8)},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.getFilenameFromContentDispositionHeader=function j(re){let ee=!0,oe=V("filename\\*","i").exec(re);if(oe){oe=oe[1];let v=b(oe);return v=unescape(v),v=F(v),v=y(v),D(v)}if(oe=function p(v){const _=[];let O;const R=V("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(O=R.exec(v));){let[,E,u,g]=O;if(E=parseInt(E,10),E in _){if(0===E)break}else _[E]=[u,g]}const P=[];for(let E=0;E<_.length&&E in _;++E){let[u,g]=_[E];g=b(g),u&&(g=unescape(g),0===E&&(g=F(g))),P.push(g)}return P.join("")}(re),oe)return D(y(oe));if(oe=V("filename","i").exec(re),oe){oe=oe[1];let v=b(oe);return v=y(v),D(v)}function V(v,_){return new RegExp("(?:^|;)\\s*"+v+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',_)}function m(v,_){if(v){if(!/^[\x00-\xFF]+$/.test(_))return _;try{const O=new TextDecoder(v,{fatal:!0}),R=(0,S.stringToBytes)(_);_=O.decode(R),ee=!1}catch{}}return _}function D(v){return ee&&/[\x80-\xff]/.test(v)&&(v=m("utf-8",v),ee&&(v=m("iso-8859-1",v))),v}function b(v){if(v.startsWith('"')){const _=v.slice(1).split('\\"');for(let O=0;O<_.length;++O){const R=_[O].indexOf('"');-1!==R&&(_[O]=_[O].slice(0,R),_.length=O+1),_[O]=_[O].replace(/\\(.)/g,"$1")}v=_.join('"')}return v}function F(v){const _=v.indexOf("'");return-1===_?v:m(v.slice(0,_),v.slice(_+1).replace(/^[^']*'/,""))}function y(v){return!v.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(v)?v:v.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(_,O,R,P){if("q"===R||"Q"===R)return m(O,P=(P=P.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(E,u){return String.fromCharCode(parseInt(u,16))}));try{P=atob(P)}catch{}return m(O,P)})}return""};var S=te(1)},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.PDFNetworkStream=void 0;var S=te(1),j=te(33);class V{constructor(F,y={}){this.url=F,this.isHttp=/^https?:/i.test(F),this.httpHeaders=this.isHttp&&y.httpHeaders||Object.create(null),this.withCredentials=y.withCredentials||!1,this.getXhr=y.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(F,y,v){const _={begin:F,end:y};for(const O in v)_[O]=v[O];return this.request(_)}requestFull(F){return this.request(F)}request(F){const y=this.getXhr(),v=this.currXhrId++,_=this.pendingRequests[v]={xhr:y};y.open("GET",this.url),y.withCredentials=this.withCredentials;for(const O in this.httpHeaders){const R=this.httpHeaders[O];typeof R>"u"||y.setRequestHeader(O,R)}return this.isHttp&&"begin"in F&&"end"in F?(y.setRequestHeader("Range",`bytes=${F.begin}-${F.end-1}`),_.expectedStatus=206):_.expectedStatus=200,y.responseType="arraybuffer",F.onError&&(y.onerror=function(O){F.onError(y.status)}),y.onreadystatechange=this.onStateChange.bind(this,v),y.onprogress=this.onProgress.bind(this,v),_.onHeadersReceived=F.onHeadersReceived,_.onDone=F.onDone,_.onError=F.onError,_.onProgress=F.onProgress,y.send(null),v}onProgress(F,y){const v=this.pendingRequests[F];v&&v.onProgress?.(y)}onStateChange(F,y){const v=this.pendingRequests[F];if(!v)return;const _=v.xhr;if(_.readyState>=2&&v.onHeadersReceived&&(v.onHeadersReceived(),delete v.onHeadersReceived),4!==_.readyState||!(F in this.pendingRequests))return;if(delete this.pendingRequests[F],0===_.status&&this.isHttp)return void v.onError?.(_.status);const O=_.status||200;if((200!==O||206!==v.expectedStatus)&&O!==v.expectedStatus)return void v.onError?.(_.status);const P=function oe(b){const F=b.response;return"string"!=typeof F?F:(0,S.stringToBytes)(F).buffer}(_);if(206===O){const E=_.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(E);v.onDone({begin:parseInt(u[1],10),chunk:P})}else P?v.onDone({begin:0,chunk:P}):v.onError?.(_.status)}getRequestXhr(F){return this.pendingRequests[F].xhr}isPendingRequest(F){return F in this.pendingRequests}abortRequest(F){const y=this.pendingRequests[F].xhr;delete this.pendingRequests[F],y.abort()}}C.PDFNetworkStream=class m{constructor(F){this._source=F,this._manager=new V(F.url,{httpHeaders:F.httpHeaders,withCredentials:F.withCredentials}),this._rangeChunkSize=F.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(F){const y=this._rangeRequestReaders.indexOf(F);y>=0&&this._rangeRequestReaders.splice(y,1)}getFullReader(){return(0,S.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new D(this._manager,this._source),this._fullRequestReader}getRangeReader(F,y){const v=new p(this._manager,F,y);return v.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(v),v}cancelAllRequests(F){this._fullRequestReader?.cancel(F);for(const y of this._rangeRequestReaders.slice(0))y.cancel(F)}};class D{constructor(F,y){this._manager=F;const v={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=y.url,this._fullRequestId=F.requestFull(v),this._headersReceivedCapability=(0,S.createPromiseCapability)(),this._disableRange=y.disableRange||!1,this._contentLength=y.length,this._rangeChunkSize=y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const F=this._fullRequestId,y=this._manager.getRequestXhr(F),v=R=>y.getResponseHeader(R),{allowRangeRequests:_,suggestedLength:O}=(0,j.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});_&&(this._isRangeSupported=!0),this._contentLength=O||this._contentLength,this._filename=(0,j.extractFilenameFromHeader)(v),this._isRangeSupported&&this._manager.abortRequest(F),this._headersReceivedCapability.resolve()}_onDone(F){if(F&&(this._requests.length>0?this._requests.shift().resolve({value:F.chunk,done:!1}):this._cachedChunks.push(F.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(F){this._storedError=(0,j.createResponseStatusError)(F,this._url),this._headersReceivedCapability.reject(this._storedError);for(const y of this._requests)y.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(F){this.onProgress?.({loaded:F.loaded,total:F.lengthComputable?F.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var F=this;return _asyncToGenerator(function*(){if(F._storedError)throw F._storedError;if(F._cachedChunks.length>0)return{value:F._cachedChunks.shift(),done:!1};if(F._done)return{value:void 0,done:!0};const y=(0,S.createPromiseCapability)();return F._requests.push(y),y.promise})()}cancel(F){this._done=!0,this._headersReceivedCapability.reject(F);for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class p{constructor(F,y,v){this._manager=F;const _={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=F.url,this._requestId=F.requestRange(y,v,_),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(F){const y=F.chunk;this._requests.length>0?this._requests.shift().resolve({value:y,done:!1}):this._queuedChunk=y,this._done=!0;for(const v of this._requests)v.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(F){this._storedError=(0,j.createResponseStatusError)(F,this._url);for(const y of this._requests)y.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(F){this.isStreamingSupported||this.onProgress?.({loaded:F.loaded})}get isStreamingSupported(){return!1}read(){var F=this;return _asyncToGenerator(function*(){if(F._storedError)throw F._storedError;if(null!==F._queuedChunk){const v=F._queuedChunk;return F._queuedChunk=null,{value:v,done:!1}}if(F._done)return{value:void 0,done:!0};const y=(0,S.createPromiseCapability)();return F._requests.push(y),y.promise})()}cancel(F){this._done=!0;for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(be,C,te)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.PDFFetchStream=void 0;var S=te(1),j=te(33);function re(D,p,b){return{method:"GET",headers:D,signal:b.signal,mode:"cors",credentials:p?"include":"same-origin",redirect:"follow"}}function ee(D){const p=new Headers;for(const b in D){const F=D[b];typeof F>"u"||p.append(b,F)}return p}C.PDFFetchStream=class oe{constructor(p){this.source=p,this.isHttp=/^https?:/i.test(p.url),this.httpHeaders=this.isHttp&&p.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,S.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new V(this),this._fullRequestReader}getRangeReader(p,b){if(b<=this._progressiveDataLength)return null;const F=new m(this,p,b);return this._rangeRequestReaders.push(F),F}cancelAllRequests(p){this._fullRequestReader&&this._fullRequestReader.cancel(p);for(const b of this._rangeRequestReaders.slice(0))b.cancel(p)}};class V{constructor(p){this._stream=p,this._reader=null,this._loaded=0,this._filename=null;const b=p.source;this._withCredentials=b.withCredentials||!1,this._contentLength=b.length,this._headersCapability=(0,S.createPromiseCapability)(),this._disableRange=b.disableRange||!1,this._rangeChunkSize=b.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._headers=ee(this._stream.httpHeaders);const F=b.url;fetch(F,re(this._headers,this._withCredentials,this._abortController)).then(y=>{if(!(0,j.validateResponseStatus)(y.status))throw(0,j.createResponseStatusError)(y.status,F);this._reader=y.body.getReader(),this._headersCapability.resolve();const v=R=>y.headers.get(R),{allowRangeRequests:_,suggestedLength:O}=(0,j.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_,this._contentLength=O||this._contentLength,this._filename=(0,j.extractFilenameFromHeader)(v),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new S.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var p=this;return _asyncToGenerator(function*(){yield p._headersCapability.promise;const{value:b,done:F}=yield p._reader.read();return F?{value:b,done:F}:(p._loaded+=b.byteLength,p.onProgress&&p.onProgress({loaded:p._loaded,total:p._contentLength}),{value:new Uint8Array(b).buffer,done:!1})})()}cancel(p){this._reader&&this._reader.cancel(p),this._abortController.abort()}}class m{constructor(p,b,F){this._stream=p,this._reader=null,this._loaded=0;const y=p.source;this._withCredentials=y.withCredentials||!1,this._readCapability=(0,S.createPromiseCapability)(),this._isStreamingSupported=!y.disableStream,this._abortController=new AbortController,this._headers=ee(this._stream.httpHeaders),this._headers.append("Range",`bytes=${b}-${F-1}`);const v=y.url;fetch(v,re(this._headers,this._withCredentials,this._abortController)).then(_=>{if(!(0,j.validateResponseStatus)(_.status))throw(0,j.createResponseStatusError)(_.status,v);this._readCapability.resolve(),this._reader=_.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var p=this;return _asyncToGenerator(function*(){yield p._readCapability.promise;const{value:b,done:F}=yield p._reader.read();return F?{value:b,done:F}:(p._loaded+=b.byteLength,p.onProgress&&p.onProgress({loaded:p._loaded}),{value:new Uint8Array(b).buffer,done:!1})})()}cancel(p){this._reader&&this._reader.cancel(p),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(be){var C=__webpack_module_cache__[be];if(void 0!==C)return C.exports;var te=__webpack_module_cache__[be]={exports:{}};return __webpack_modules__[be](te,te.exports,__w_pdfjs_require__),te.exports}var __nested_webpack_exports__={};return(()=>{var be=__nested_webpack_exports__;Object.defineProperty(be,"__esModule",{value:!0}),Object.defineProperty(be,"AnnotationEditorLayer",{enumerable:!0,get:function(){return j.AnnotationEditorLayer}}),Object.defineProperty(be,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return C.AnnotationEditorParamsType}}),Object.defineProperty(be,"AnnotationEditorType",{enumerable:!0,get:function(){return C.AnnotationEditorType}}),Object.defineProperty(be,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return re.AnnotationEditorUIManager}}),Object.defineProperty(be,"AnnotationLayer",{enumerable:!0,get:function(){return ee.AnnotationLayer}}),Object.defineProperty(be,"AnnotationMode",{enumerable:!0,get:function(){return C.AnnotationMode}}),Object.defineProperty(be,"CMapCompressionType",{enumerable:!0,get:function(){return C.CMapCompressionType}}),Object.defineProperty(be,"GlobalWorkerOptions",{enumerable:!0,get:function(){return oe.GlobalWorkerOptions}}),Object.defineProperty(be,"InvalidPDFException",{enumerable:!0,get:function(){return C.InvalidPDFException}}),Object.defineProperty(be,"LoopbackPort",{enumerable:!0,get:function(){return te.LoopbackPort}}),Object.defineProperty(be,"MissingPDFException",{enumerable:!0,get:function(){return C.MissingPDFException}}),Object.defineProperty(be,"OPS",{enumerable:!0,get:function(){return C.OPS}}),Object.defineProperty(be,"PDFDataRangeTransport",{enumerable:!0,get:function(){return te.PDFDataRangeTransport}}),Object.defineProperty(be,"PDFDateString",{enumerable:!0,get:function(){return S.PDFDateString}}),Object.defineProperty(be,"PDFWorker",{enumerable:!0,get:function(){return te.PDFWorker}}),Object.defineProperty(be,"PasswordResponses",{enumerable:!0,get:function(){return C.PasswordResponses}}),Object.defineProperty(be,"PermissionFlag",{enumerable:!0,get:function(){return C.PermissionFlag}}),Object.defineProperty(be,"PixelsPerInch",{enumerable:!0,get:function(){return S.PixelsPerInch}}),Object.defineProperty(be,"RenderingCancelledException",{enumerable:!0,get:function(){return S.RenderingCancelledException}}),Object.defineProperty(be,"SVGGraphics",{enumerable:!0,get:function(){return D.SVGGraphics}}),Object.defineProperty(be,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return C.UNSUPPORTED_FEATURES}}),Object.defineProperty(be,"UnexpectedResponseException",{enumerable:!0,get:function(){return C.UnexpectedResponseException}}),Object.defineProperty(be,"Util",{enumerable:!0,get:function(){return C.Util}}),Object.defineProperty(be,"VerbosityLevel",{enumerable:!0,get:function(){return C.VerbosityLevel}}),Object.defineProperty(be,"XfaLayer",{enumerable:!0,get:function(){return p.XfaLayer}}),Object.defineProperty(be,"build",{enumerable:!0,get:function(){return te.build}}),Object.defineProperty(be,"createPromiseCapability",{enumerable:!0,get:function(){return C.createPromiseCapability}}),Object.defineProperty(be,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return C.createValidAbsoluteUrl}}),Object.defineProperty(be,"getDocument",{enumerable:!0,get:function(){return te.getDocument}}),Object.defineProperty(be,"getFilenameFromUrl",{enumerable:!0,get:function(){return S.getFilenameFromUrl}}),Object.defineProperty(be,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return S.getPdfFilenameFromUrl}}),Object.defineProperty(be,"getXfaPageViewport",{enumerable:!0,get:function(){return S.getXfaPageViewport}}),Object.defineProperty(be,"isPdfFile",{enumerable:!0,get:function(){return S.isPdfFile}}),Object.defineProperty(be,"loadScript",{enumerable:!0,get:function(){return S.loadScript}}),Object.defineProperty(be,"renderTextLayer",{enumerable:!0,get:function(){return m.renderTextLayer}}),Object.defineProperty(be,"shadow",{enumerable:!0,get:function(){return C.shadow}}),Object.defineProperty(be,"version",{enumerable:!0,get:function(){return te.version}});var C=__w_pdfjs_require__(1),te=__w_pdfjs_require__(4),S=__w_pdfjs_require__(8),j=__w_pdfjs_require__(22),re=__w_pdfjs_require__(7),ee=__w_pdfjs_require__(27),oe=__w_pdfjs_require__(15),V=__w_pdfjs_require__(3),m=__w_pdfjs_require__(30),D=__w_pdfjs_require__(31),p=__w_pdfjs_require__(29);if(V.isNodeJS){const{PDFNodeStream:y}=__w_pdfjs_require__(32);(0,te.setPDFNetworkStreamFactory)(v=>new y(v))}else{const{PDFNetworkStream:y}=__w_pdfjs_require__(35),{PDFFetchStream:v}=__w_pdfjs_require__(36);(0,te.setPDFNetworkStreamFactory)(_=>(0,S.isValidFetchUrl)(_.url)?new v(_):new y(_))}})(),__nested_webpack_exports__})(),module.exports=te()},16:(be,C,te)=>{var S=te(156).default;globalThis,be.exports=(()=>{"use strict";var j=[,(V,m,D)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.DefaultXfaLayerFactory=m.DefaultTextLayerFactory=m.DefaultStructTreeLayerFactory=m.DefaultAnnotationLayerFactory=m.DefaultAnnotationEditorLayerFactory=void 0;var p=D(2),b=D(5),F=D(4),y=D(6),v=D(8),_=D(9),O=D(10);m.DefaultAnnotationLayerFactory=class R{createAnnotationLayerBuilder({pageDiv:z,pdfPage:q,annotationStorage:ne=null,imageResourcesPath:Q="",renderForms:me=!0,l10n:pe=F.NullL10n,enableScripting:N=!1,hasJSActionsPromise:W=null,mouseState:Y=null,fieldObjectsPromise:H=null,annotationCanvasMap:U=null,accessibilityManager:x=null}){return new b.AnnotationLayerBuilder({pageDiv:z,pdfPage:q,imageResourcesPath:Q,renderForms:me,linkService:new y.SimpleLinkService,l10n:pe,annotationStorage:ne,enableScripting:N,hasJSActionsPromise:W,fieldObjectsPromise:H,mouseState:Y,annotationCanvasMap:U,accessibilityManager:x})}},m.DefaultAnnotationEditorLayerFactory=class P{createAnnotationEditorLayerBuilder({uiManager:z=null,pageDiv:q,pdfPage:ne,accessibilityManager:Q=null,l10n:me,annotationStorage:pe=null}){return new p.AnnotationEditorLayerBuilder({uiManager:z,pageDiv:q,pdfPage:ne,accessibilityManager:Q,l10n:me,annotationStorage:pe})}},m.DefaultStructTreeLayerFactory=class E{createStructTreeLayerBuilder({pdfPage:z}){return new v.StructTreeLayerBuilder({pdfPage:z})}},m.DefaultTextLayerFactory=class u{createTextLayerBuilder({textLayerDiv:z,pageIndex:q,viewport:ne,enhanceTextSelection:Q=!1,eventBus:me,highlighter:pe,accessibilityManager:N=null}){return new _.TextLayerBuilder({textLayerDiv:z,pageIndex:q,viewport:ne,enhanceTextSelection:Q,eventBus:me,highlighter:pe,accessibilityManager:N})}},m.DefaultXfaLayerFactory=class g{createXfaLayerBuilder({pageDiv:z,pdfPage:q,annotationStorage:ne=null}){return new O.XfaLayerBuilder({pageDiv:z,pdfPage:q,annotationStorage:ne,linkService:new y.SimpleLinkService})}}},(V,m,D)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.AnnotationEditorLayerBuilder=void 0;var p=D(3),b=D(4);m.AnnotationEditorLayerBuilder=class F{#e;constructor(v){this.pageDiv=v.pageDiv,this.pdfPage=v.pdfPage,this.annotationStorage=v.annotationStorage||null,this.accessibilityManager=v.accessibilityManager,this.l10n=v.l10n||b.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#e=v.uiManager}render(v,_="display"){var O=this;return S(function*(){if("display"!==_||O._cancelled)return;const R=v.clone({dontFlip:!0});if(O.div)return O.annotationEditorLayer.update({viewport:R}),void O.show();O.div=document.createElement("div"),O.div.className="annotationEditorLayer",O.div.tabIndex=0,O.pageDiv.append(O.div),O.annotationEditorLayer=new p.AnnotationEditorLayer({uiManager:O.#e,div:O.div,annotationStorage:O.annotationStorage,accessibilityManager:O.accessibilityManager,pageIndex:O.pdfPage._pageIndex,l10n:O.l10n,viewport:R}),O.annotationEditorLayer.render({viewport:R,div:O.div,annotations:null,intent:_})})()}cancel(){this._cancelled=!0,this.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){this.div&&(this.div.hidden=!1)}destroy(){this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}}},V=>{let m;m=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:te(627),V.exports=m},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.NullL10n=void 0,m.fixupLangCode=function F(_){return b[_?.toLowerCase()]||_},m.getL10nFallback=p;const D={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text_default_content:"Enter text\u2026",editor_free_text_aria_label:"FreeText Editor",editor_ink_aria_label:"Ink Editor",editor_ink_canvas_aria_label:"User-created image"};function p(_,O){switch(_){case"find_match_count":_=`find_match_count[${1===O.total?"one":"other"}]`;break;case"find_match_count_limit":_=`find_match_count_limit[${1===O.limit?"one":"other"}]`}return D[_]||""}const b={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};m.NullL10n={getLanguage:()=>S(function*(){return"en-us"})(),getDirection:()=>S(function*(){return"ltr"})(),get:(_,O=null,R=p(_,O))=>S(function*(){return function y(_,O){return O?_.replace(/\{\{\s*(\w+)\s*\}\}/g,(R,P)=>P in O?O[P]:"{{"+P+"}}"):_}(R,O)})(),translate:_=>S(function*(){})()}},(V,m,D)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.AnnotationLayerBuilder=void 0;var p=D(3),b=D(4);m.AnnotationLayerBuilder=class F{constructor({pageDiv:v,pdfPage:_,linkService:O,downloadManager:R,annotationStorage:P=null,imageResourcesPath:E="",renderForms:u=!0,l10n:g=b.NullL10n,enableScripting:I=!1,hasJSActionsPromise:z=null,fieldObjectsPromise:q=null,mouseState:ne=null,annotationCanvasMap:Q=null,accessibilityManager:me=null}){this.pageDiv=v,this.pdfPage=_,this.linkService=O,this.downloadManager=R,this.imageResourcesPath=E,this.renderForms=u,this.l10n=g,this.annotationStorage=P,this.enableScripting=I,this._hasJSActionsPromise=z,this._fieldObjectsPromise=q,this._mouseState=ne,this._annotationCanvasMap=Q,this._accessibilityManager=me,this.div=null,this._cancelled=!1}render(v,_="display"){var O=this;return S(function*(){const[R,P=!1,E=null]=yield Promise.all([O.pdfPage.getAnnotations({intent:_}),O._hasJSActionsPromise,O._fieldObjectsPromise]);if(O._cancelled||0===R.length)return;const u={viewport:v.clone({dontFlip:!0}),div:O.div,annotations:R,page:O.pdfPage,imageResourcesPath:O.imageResourcesPath,renderForms:O.renderForms,linkService:O.linkService,downloadManager:O.downloadManager,annotationStorage:O.annotationStorage,enableScripting:O.enableScripting,hasJSActions:P,fieldObjects:E,mouseState:O._mouseState,annotationCanvasMap:O._annotationCanvasMap,accessibilityManager:O._accessibilityManager};O.div?p.AnnotationLayer.update(u):(O.div=document.createElement("div"),O.div.className="annotationLayer",O.pageDiv.append(O.div),u.div=O.div,p.AnnotationLayer.render(u),O.l10n.translate(O.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(V,m,D)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.SimpleLinkService=m.PDFLinkService=m.LinkTarget=void 0;var p=D(7);const F={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function y(O,{url:R,target:P,rel:E,enabled:u=!0}={}){if(!R||"string"!=typeof R)throw new Error('A valid "url" parameter must provided.');const g=(0,p.removeNullCharacters)(R);u?O.href=O.title=g:(O.href="",O.title=`Disabled: ${g}`,O.onclick=()=>!1);let I="";switch(P){case F.NONE:break;case F.SELF:I="_self";break;case F.BLANK:I="_blank";break;case F.PARENT:I="_parent";break;case F.TOP:I="_top"}O.target=I,O.rel="string"==typeof E?E:"noopener noreferrer nofollow"}m.LinkTarget=F;class v{#e=new Map;constructor({eventBus:R,externalLinkTarget:P=null,externalLinkRel:E=null,ignoreDestinationZoom:u=!1}={}){this.eventBus=R,this.externalLinkTarget=P,this.externalLinkRel=E,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=u,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(R,P=null){this.baseUrl=P,this.pdfDocument=R,this.#e.clear()}setViewer(R){this.pdfViewer=R}setHistory(R){this.pdfHistory=R}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(R){this.pdfViewer.currentPageNumber=R}get rotation(){return this.pdfViewer.pagesRotation}set rotation(R){this.pdfViewer.pagesRotation=R}#t(R,P=null,E){const u=E[0];let g;if("object"==typeof u&&null!==u){if(g=this._cachedPageNumber(u),!g)return void this.pdfDocument.getPageIndex(u).then(I=>{this.cachePageRef(I+1,u),this.#t(R,P,E)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${u}" is not a valid page reference, for dest="${R}".`)})}else{if(!Number.isInteger(u))return void console.error(`PDFLinkService.#goToDestinationHelper: "${u}" is not a valid destination reference, for dest="${R}".`);g=u+1}!g||g<1||g>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${g}" is not a valid page number, for dest="${R}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:P,explicitDest:E,pageNumber:g})),this.pdfViewer.scrollPageIntoView({pageNumber:g,destArray:E,ignoreDestinationZoom:this._ignoreDestinationZoom}))}goToDestination(R){var P=this;return S(function*(){if(!P.pdfDocument)return;let E,u;"string"==typeof R?(E=R,u=yield P.pdfDocument.getDestination(R)):(E=null,u=yield R),Array.isArray(u)?P.#t(R,E,u):console.error(`PDFLinkService.goToDestination: "${u}" is not a valid destination array, for dest="${R}".`)})()}goToPage(R){if(!this.pdfDocument)return;const P="string"==typeof R&&this.pdfViewer.pageLabelToPageNumber(R)||0|R;Number.isInteger(P)&&P>0&&P<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(P)),this.pdfViewer.scrollPageIntoView({pageNumber:P})):console.error(`PDFLinkService.goToPage: "${R}" is not a valid page.`)}addLinkAttributes(R,P,E=!1){y(R,{url:P,target:E?F.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(R){if("string"==typeof R){if(R.length>0)return this.getAnchorUrl("#"+escape(R))}else if(Array.isArray(R)){const P=JSON.stringify(R);if(P.length>0)return this.getAnchorUrl("#"+escape(P))}return this.getAnchorUrl("")}getAnchorUrl(R){return(this.baseUrl||"")+R}setHash(R){if(!this.pdfDocument)return;let P,E;if(R.includes("=")){const u=(0,p.parseQueryString)(R);if(u.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:u.get("search").replace(/"/g,""),phraseSearch:"true"===u.get("phrase")}),u.has("page")&&(P=0|u.get("page")||1),u.has("zoom")){const g=u.get("zoom").split(","),I=g[0],z=parseFloat(I);I.includes("Fit")?"Fit"===I||"FitB"===I?E=[null,{name:I}]:"FitH"===I||"FitBH"===I||"FitV"===I||"FitBV"===I?E=[null,{name:I},g.length>1?0|g[1]:null]:"FitR"===I?5!==g.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):E=[null,{name:I},0|g[1],0|g[2],0|g[3],0|g[4]]:console.error(`PDFLinkService.setHash: "${I}" is not a valid zoom value.`):E=[null,{name:"XYZ"},g.length>1?0|g[1]:null,g.length>2?0|g[2]:null,z?z/100:I]}E?this.pdfViewer.scrollPageIntoView({pageNumber:P||this.page,destArray:E,allowNegativeOffset:!0}):P&&(this.page=P),u.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:u.get("pagemode")}),u.has("nameddest")&&this.goToDestination(u.get("nameddest"))}else{E=unescape(R);try{E=JSON.parse(E),Array.isArray(E)||(E=E.toString())}catch{}if("string"==typeof E||v.#n(E))return void this.goToDestination(E);console.error(`PDFLinkService.setHash: "${unescape(R)}" is not a valid destination.`)}}executeNamedAction(R){switch(R){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:R})}cachePageRef(R,P){P&&this.#e.set(0===P.gen?`${P.num}R`:`${P.num}R${P.gen}`,R)}_cachedPageNumber(R){return R&&this.#e.get(0===R.gen?`${R.num}R`:`${R.num}R${R.gen}`)||null}isPageVisible(R){return this.pdfViewer.isPageVisible(R)}isPageCached(R){return this.pdfViewer.isPageCached(R)}static#n(R){if(!Array.isArray(R))return!1;const P=R.length;if(P<2)return!1;const E=R[0];if(!("object"==typeof E&&Number.isInteger(E.num)&&Number.isInteger(E.gen)||Number.isInteger(E)&&E>=0))return!1;const u=R[1];if("object"!=typeof u||"string"!=typeof u.name)return!1;let g=!0;switch(u.name){case"XYZ":if(5!==P)return!1;break;case"Fit":case"FitB":return 2===P;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==P)return!1;break;case"FitR":if(6!==P)return!1;g=!1;break;default:return!1}for(let I=2;I<P;I++){const z=R[I];if(!("number"==typeof z||g&&null===z))return!1}return!0}}m.PDFLinkService=v,m.SimpleLinkService=class _{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(R){}get rotation(){return 0}set rotation(R){}goToDestination(R){return S(function*(){})()}goToPage(R){}addLinkAttributes(R,P,E=!1){y(R,{url:P,enabled:this.externalLinkEnabled})}getDestinationHash(R){return"#"}getAnchorUrl(R){return"#"}setHash(R){}executeNamedAction(R){}cachePageRef(R,P){}isPageVisible(R){return!0}isPageCached(R){return!0}}},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.animationStarted=m.VERTICAL_PADDING=m.UNKNOWN_SCALE=m.TextLayerMode=m.SpreadMode=m.SidebarView=m.ScrollMode=m.SCROLLBAR_PADDING=m.RenderingStates=m.RendererType=m.ProgressBar=m.PresentationModeState=m.OutputScale=m.MIN_SCALE=m.MAX_SCALE=m.MAX_AUTO_SCALE=m.DEFAULT_SCALE_VALUE=m.DEFAULT_SCALE_DELTA=m.DEFAULT_SCALE=m.AutoPrintRegExp=void 0,m.apiPageLayoutToViewerModes=function Ee(de){let ye=z.VERTICAL,Ie=q.NONE;switch(de){case"SinglePage":ye=z.PAGE;break;case"OneColumn":break;case"TwoPageLeft":ye=z.PAGE;case"TwoColumnLeft":Ie=q.ODD;break;case"TwoPageRight":ye=z.PAGE;case"TwoColumnRight":Ie=q.EVEN}return{scrollMode:ye,spreadMode:Ie}},m.apiPageModeToSidebarView=function Te(de){switch(de){case"UseNone":return u.NONE;case"UseThumbs":return u.THUMBS;case"UseOutlines":return u.OUTLINE;case"UseAttachments":return u.ATTACHMENTS;case"UseOC":return u.LAYERS}return u.NONE},m.approximateFraction=function x(de){if(Math.floor(de)===de)return[de,1];const ye=1/de;if(ye>8)return[1,8];if(Math.floor(ye)===ye)return[1,ye];const ve=de>1?ye:de;let rt,Ve=0,Ue=1,Ne=1,et=1;for(;;){const Ct=Ve+Ne,At=Ue+et;if(At>8)break;ve<=Ct/At?(Ne=Ct,et=At):(Ve=Ct,Ue=At)}return rt=ve-Ve/Ue<Ne/et-ve?ve===de?[Ve,Ue]:[Ue,Ve]:ve===de?[Ne,et]:[et,Ne],rt},m.backtrackBeforeAllVisibleElements=B,m.binarySearchFirstItem=U,m.docStyle=void 0,m.getActiveOrFocusedElement=function De(){let de=document,ye=de.activeElement||de.querySelector(":focus");for(;ye?.shadowRoot;)de=ye.shadowRoot,ye=de.activeElement||de.querySelector(":focus");return ye},m.getPageSizeInches=function w({view:de,userUnit:ye,rotate:Ie}){const[ve,Ve,Ue,Ne]=de,et=Ie%180!=0,rt=(Ue-ve)/72*ye,Ct=(Ne-Ve)/72*ye;return{width:et?Ct:rt,height:et?rt:Ct}},m.getVisibleElements=function k({scrollEl:de,views:ye,sortByVisibility:Ie=!1,horizontal:ve=!1,rtl:Ve=!1}){const Ue=de.scrollTop,Ne=Ue+de.clientHeight,et=de.scrollLeft,rt=et+de.clientWidth,mn=[],kt=new Set,ht=ye.length;let Fn=U(ye,ve?function At(xn){const qt=xn.div,Ce=qt.offsetLeft+qt.clientLeft;return Ve?Ce<rt:Ce+qt.clientWidth>et}:function Ct(xn){const qt=xn.div;return qt.offsetTop+qt.clientTop+qt.clientHeight>Ue});Fn>0&&Fn<ht&&!ve&&(Fn=B(Fn,ye,Ue));let Ir=ve?rt:-1;for(let xn=Fn;xn<ht;xn++){const qt=ye[xn],Ce=qt.div,he=Ce.offsetLeft+Ce.clientLeft,fe=Ce.offsetTop+Ce.clientTop,Re=Ce.clientWidth,Ge=Ce.clientHeight,bt=he+Re,ut=fe+Ge;if(-1===Ir)ut>=Ne&&(Ir=ut);else if((ve?he:fe)>Ir)break;if(ut<=Ue||fe>=Ne||bt<=et||he>=rt)continue;const ui=Math.max(0,Ue-fe)+Math.max(0,ut-Ne),zt=(Re-(Math.max(0,et-he)+Math.max(0,bt-rt)))/Re;mn.push({id:qt.id,x:he,y:fe,view:qt,percent:(Ge-ui)/Ge*zt*100|0,widthPercent:100*zt|0}),kt.add(qt.id)}const fs=mn[0],Mo=mn.at(-1);return Ie&&mn.sort(function(xn,qt){const Ce=xn.percent-qt.percent;return Math.abs(Ce)>.001?-Ce:xn.id-qt.id}),{first:fs,last:Mo,views:mn,ids:kt}},m.isPortraitOrientation=function J(de){return de.width<=de.height},m.isValidRotation=function $(de){return Number.isInteger(de)&&de%90==0},m.isValidScrollMode=function X(de){return Number.isInteger(de)&&Object.values(z).includes(de)&&de!==z.UNKNOWN},m.isValidSpreadMode=function ie(de){return Number.isInteger(de)&&Object.values(q).includes(de)&&de!==q.UNKNOWN},m.noContextMenuHandler=function d(de){de.preventDefault()},m.normalizeWheelEventDelta=function L(de){let ye=M(de);return 0===de.deltaMode?ye/=900:1===de.deltaMode&&(ye/=30),ye},m.normalizeWheelEventDirection=M,m.parseQueryString=function N(de){const ye=new Map;for(const[Ie,ve]of new URLSearchParams(de))ye.set(Ie.toLowerCase(),ve);return ye},m.removeNullCharacters=function H(de,ye=!1){return"string"!=typeof de?(console.error("The argument must be a string."),de):(ye&&(de=de.replace(Y," ")),de.replace(W,""))},m.roundToDivide=function f(de,ye){const Ie=de%ye;return 0===Ie?de:Math.round(de-Ie+ye)},m.scrollIntoView=function me(de,ye,Ie=!1){let ve=de.offsetParent;if(!ve)return void console.error("offsetParent is not set -- cannot scroll");let Ve=de.offsetTop+de.clientTop,Ue=de.offsetLeft+de.clientLeft;for(;ve.clientHeight===ve.scrollHeight&&ve.clientWidth===ve.scrollWidth||Ie&&(ve.classList.contains("markedContent")||"hidden"===getComputedStyle(ve).overflow);)if(Ve+=ve.offsetTop,Ue+=ve.offsetLeft,ve=ve.offsetParent,!ve)return;ye&&(void 0!==ye.top&&(Ve+=ye.top),void 0!==ye.left&&(Ue+=ye.left,ve.scrollLeft=Ue)),ve.scrollTop=Ve},m.watchScroll=function pe(de,ye){const Ie=function(Ue){Ve||(Ve=window.requestAnimationFrame(function(){Ve=null;const et=de.scrollLeft,rt=ve.lastX;et!==rt&&(ve.right=et>rt),ve.lastX=et;const Ct=de.scrollTop,At=ve.lastY;Ct!==At&&(ve.down=Ct>At),ve.lastY=Ct,ye(ve)}))},ve={right:!0,down:!0,lastX:de.scrollLeft,lastY:de.scrollTop,_eventHandler:Ie};let Ve=null;return de.addEventListener("scroll",Ie,!0),ve},m.DEFAULT_SCALE_VALUE="auto",m.DEFAULT_SCALE=1,m.DEFAULT_SCALE_DELTA=1.1,m.MIN_SCALE=.1,m.MAX_SCALE=10,m.UNKNOWN_SCALE=0,m.MAX_AUTO_SCALE=1.25,m.SCROLLBAR_PADDING=40,m.VERTICAL_PADDING=5,m.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},m.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const u={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};m.SidebarView=u,m.RendererType={CANVAS:"canvas",SVG:"svg"},m.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const z={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};m.ScrollMode=z;const q={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};m.SpreadMode=q,m.AutoPrintRegExp=/\bprint\s*\(/,m.OutputScale=class Q{constructor(){const ye=window.devicePixelRatio||1;this.sx=ye,this.sy=ye}get scaled(){return 1!==this.sx||1!==this.sy}};const W=/\x00/g,Y=/[\x01-\x1F]/g;function U(de,ye,Ie=0){let ve=Ie,Ve=de.length-1;if(Ve<0||!ye(de[Ve]))return de.length;if(ye(de[ve]))return ve;for(;ve<Ve;){const Ue=ve+Ve>>1;ye(de[Ue])?Ve=Ue:ve=Ue+1}return ve}function B(de,ye,Ie){if(de<2)return de;let ve=ye[de].div,Ve=ve.offsetTop+ve.clientTop;Ve>=Ie&&(ve=ye[de-1].div,Ve=ve.offsetTop+ve.clientTop);for(let Ue=de-2;Ue>=0&&(ve=ye[Ue].div,!(ve.offsetTop+ve.clientTop+ve.clientHeight<=Ve));--Ue)de=Ue;return de}function M(de){let ye=Math.hypot(de.deltaX,de.deltaY);const Ie=Math.atan2(de.deltaY,de.deltaX);return-.25*Math.PI<Ie&&Ie<.75*Math.PI&&(ye=-ye),ye}const ae=new Promise(function(de){window.requestAnimationFrame(de)});m.animationStarted=ae;const ce=document.documentElement.style;m.docStyle=ce,m.ProgressBar=class ge{#e=null;#t=0;#n=!0;constructor(ye){if(arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");const Ie=document.getElementById(ye);this.#e=Ie.classList}get percent(){return this.#t}set percent(ye){this.#t=function ue(de,ye,Ie){return Math.min(Math.max(de,ye),Ie)}(ye,0,100),isNaN(ye)?this.#e.add("indeterminate"):(this.#e.remove("indeterminate"),ce.setProperty("--progressBar-percent",`${this.#t}%`))}setWidth(ye){if(!ye)return;const ve=ye.parentNode.offsetWidth-ye.offsetWidth;ve>0&&ce.setProperty("--progressBar-end-offset",`${ve}px`)}hide(){this.#n&&(this.#n=!1,this.#e.add("hidden"))}show(){this.#n||(this.#n=!0,this.#e.remove("hidden"))}}},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.StructTreeLayerBuilder=void 0;const D={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},p=/^H(\d+)$/;m.StructTreeLayerBuilder=class b{constructor({pdfPage:y}){this.pdfPage=y}render(y){return this._walk(y)}_setAttributes(y,v){void 0!==y.alt&&v.setAttribute("aria-label",y.alt),void 0!==y.id&&v.setAttribute("aria-owns",y.id),void 0!==y.lang&&v.setAttribute("lang",y.lang)}_walk(y){if(!y)return null;const v=document.createElement("span");if("role"in y){const{role:_}=y,O=_.match(p);O?(v.setAttribute("role","heading"),v.setAttribute("aria-level",O[1])):D[_]&&v.setAttribute("role",D[_])}if(this._setAttributes(y,v),y.children)if(1===y.children.length&&"id"in y.children[0])this._setAttributes(y.children[0],v);else for(const _ of y.children)v.append(this._walk(_));return v}}},(V,m,D)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.TextLayerBuilder=void 0;var p=D(3);m.TextLayerBuilder=class F{constructor({textLayerDiv:v,eventBus:_,pageIndex:O,viewport:R,highlighter:P=null,enhanceTextSelection:E=!1,accessibilityManager:u=null}){this.textLayerDiv=v,this.eventBus=_,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=O+1,this.viewport=R,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=P,this.enhanceTextSelection=E,this.accessibilityManager=u,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const v=document.createElement("div");v.className="endOfContent",this.textLayerDiv.append(v)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(v=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr),this.accessibilityManager?.setTextMapping(this.textDivs);const _=document.createDocumentFragment();this.textLayerRenderTask=(0,p.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:_,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:v,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.append(_),this._finishRendering(),this.highlighter?.enable(),this.accessibilityManager?.enable()},function(O){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable(),this.accessibilityManager?.disable()}setTextContentStream(v){this.cancel(),this.textContentStream=v}setTextContent(v){this.cancel(),this.textContent=v}_bindMouse(){const v=this.textLayerDiv;let _=null;v.addEventListener("mousedown",O=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(_&&(clearTimeout(_),_=null));const R=v.querySelector(".endOfContent");if(!R)return;let P=O.target!==v;if(P=P&&"none"!==window.getComputedStyle(R).getPropertyValue("-moz-user-select"),P){const E=v.getBoundingClientRect(),u=Math.max(0,(O.pageY-E.top)/E.height);R.style.top=(100*u).toFixed(2)+"%"}R.classList.add("active")}),v.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(_=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),_=null},300));const O=v.querySelector(".endOfContent");O&&(O.style.top="",O.classList.remove("active"))})}}},(V,m,D)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.XfaLayerBuilder=void 0;var p=D(3);m.XfaLayerBuilder=class b{constructor({pageDiv:y,pdfPage:v,annotationStorage:_=null,linkService:O,xfaHtml:R=null}){this.pageDiv=y,this.pdfPage=v,this.annotationStorage=_,this.linkService=O,this.xfaHtml=R,this.div=null,this._cancelled=!1}render(y,v="display"){if("print"===v){const _={viewport:y.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:v},O=document.createElement("div");this.pageDiv.append(O),_.div=O;const R=p.XfaLayer.render(_);return Promise.resolve(R)}return this.pdfPage.getXfa().then(_=>{if(this._cancelled||!_)return{textDivs:[]};const O={viewport:y.clone({dontFlip:!0}),div:this.div,xfaHtml:_,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:v};return this.div?p.XfaLayer.update(O):(this.div=document.createElement("div"),this.pageDiv.append(this.div),O.div=this.div,p.XfaLayer.render(O))}).catch(_=>{console.error(_)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(V,m,D)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFViewer=m.PDFSinglePageViewer=void 0;var p=D(7),b=D(12);m.PDFViewer=class F extends b.BaseViewer{},m.PDFSinglePageViewer=class y extends b.BaseViewer{_resetView(){super._resetView(),this._scrollMode=p.ScrollMode.PAGE,this._spreadMode=p.SpreadMode.NONE}set scrollMode(_){}_updateScrollMode(){}set spreadMode(_){}_updateSpreadMode(){}}},(V,m,D)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PagesCountLimit=m.PDFPageViewBuffer=m.BaseViewer=void 0;var p=D(3),b=D(7),F=D(2),y=D(5),v=D(4),_=D(13),O=D(16),R=D(6),P=D(8),E=D(17),u=D(9),g=D(10);const z="enablePermissions",q={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};function ne(pe){return Object.values(p.AnnotationEditorType).includes(pe)&&pe!==p.AnnotationEditorType.DISABLE}m.PagesCountLimit=q;class Q{#e=new Set;#t=0;constructor(N){this.#t=N}push(N){const W=this.#e;W.has(N)&&W.delete(N),W.add(N),W.size>this.#t&&this.#n()}resize(N,W=null){this.#t=N;const Y=this.#e;if(W){const H=Y.size;let U=1;for(const x of Y)if(W.has(x.id)&&(Y.delete(x),Y.add(x)),++U>H)break}for(;Y.size>this.#t;)this.#n()}has(N){return this.#e.has(N)}[Symbol.iterator](){return this.#e.keys()}#n(){const N=this.#e.keys().next().value;N?.destroy(),this.#e.delete(N)}}m.PDFPageViewBuffer=Q;class me{#e=null;#t=p.AnnotationEditorType.DISABLE;#n=null;#i=p.AnnotationMode.ENABLE_FORMS;#s=!1;#c=0;#a=null;#r=null;constructor(N){if(this.constructor===me)throw new Error("Cannot initialize BaseViewer.");const W="2.16.105";if(p.version!==W)throw new Error(`The API version "${p.version}" does not match the Viewer version "${W}".`);if(this.container=N.container,this.viewer=N.viewer||N.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=N.eventBus,this.linkService=N.linkService||new R.SimpleLinkService,this.downloadManager=N.downloadManager||null,this.findController=N.findController||null,this._scriptingManager=N.scriptingManager||null,this.removePageBorders=N.removePageBorders||!1,this.textLayerMode=N.textLayerMode??b.TextLayerMode.ENABLE,this.#i=N.annotationMode??p.AnnotationMode.ENABLE_FORMS,this.#t=N.annotationEditorMode??p.AnnotationEditorType.DISABLE,this.imageResourcesPath=N.imageResourcesPath||"",this.enablePrintAutoRotate=N.enablePrintAutoRotate||!1,this.renderer=N.renderer||b.RendererType.CANVAS,this.useOnlyCssZoom=N.useOnlyCssZoom||!1,this.maxCanvasPixels=N.maxCanvasPixels,this.l10n=N.l10n||v.NullL10n,this.#s=N.enablePermissions||!1,this.pageColors=N.pageColors||null,this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))&&((this.pageColors.background||this.pageColors.foreground)&&console.warn("BaseViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!N.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new O.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=N.renderingQueue,this.scroll=(0,b.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=b.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss()}get pagesCount(){return this._pages.length}getPageView(N){return this._pages[N]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(N){return N?.pdfPage})}get renderForms(){return this.#i===p.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(N){if(!Number.isInteger(N))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(N,!0)||console.error(`currentPageNumber: "${N}" is not a valid page.`))}_setCurrentPageNumber(N,W=!1){if(this._currentPageNumber===N)return W&&this.#f(),!0;if(!(0<N&&N<=this.pagesCount))return!1;const Y=this._currentPageNumber;return this._currentPageNumber=N,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:N,pageLabel:this._pageLabels?.[N-1]??null,previous:Y}),W&&this.#f(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(N){if(!this.pdfDocument)return;let W=0|N;if(this._pageLabels){const Y=this._pageLabels.indexOf(N);Y>=0&&(W=Y+1)}this._setCurrentPageNumber(W,!0)||console.error(`currentPageLabel: "${N}" is not a valid page.`)}get currentScale(){return this._currentScale!==b.UNKNOWN_SCALE?this._currentScale:b.DEFAULT_SCALE}set currentScale(N){if(isNaN(N))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(N,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(N){this.pdfDocument&&this._setScale(N,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(N){if(!(0,b.isValidRotation)(N))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((N%=360)<0&&(N+=360),this._pagesRotation===N))return;this._pagesRotation=N;const W=this._currentPageNumber,Y={rotation:N};for(const H of this._pages)H.update(Y);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:N,pageNumber:W}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}#h(N){const W={annotationEditorMode:this.#t,annotationMode:this.#i,textLayerMode:this.textLayerMode};return N&&(N.includes(p.PermissionFlag.COPY)||this.viewer.classList.add(z),N.includes(p.PermissionFlag.MODIFY_CONTENTS)||(W.annotationEditorMode=p.AnnotationEditorType.DISABLE),!N.includes(p.PermissionFlag.MODIFY_ANNOTATIONS)&&!N.includes(p.PermissionFlag.FILL_INTERACTIVE_FORMS)&&this.#i===p.AnnotationMode.ENABLE_FORMS&&(W.annotationMode=p.AnnotationMode.ENABLE)),W}#u(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const N=new Promise(W=>{this.#r=()=>{"hidden"===document.visibilityState&&(W(),document.removeEventListener("visibilitychange",this.#r),this.#r=null)},document.addEventListener("visibilitychange",this.#r)});return Promise.race([this._onePageRenderedCapability.promise,N])}setDocument(N){var W=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null),this.#n&&(this.#n.destroy(),this.#n=null)),this.pdfDocument=N,!N)return;const Y=N.isPureXfa,H=N.numPages,U=N.getPage(1),x=N.getOptionalContentConfig(),f=this.#s?N.getPermissions():Promise.resolve();if(H>q.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const w=this._scrollMode=b.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:w})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:H})},()=>{}),this._onBeforeDraw=w=>{const B=this._pages[w.pageNumber-1];B&&this.#e.push(B)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=w=>{w.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:w.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,this.#r&&(document.removeEventListener("visibilitychange",this.#r),this.#r=null))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([U,f]).then(([w,B])=>{if(N!==this.pdfDocument)return;this._firstPageCapability.resolve(w),this._optionalContentConfigPromise=x;const{annotationEditorMode:k,annotationMode:d,textLayerMode:M}=this.#h(B);if(k!==p.AnnotationEditorType.DISABLE){const ge=k;Y?console.warn("Warning: XFA-editing is not implemented."):ne(ge)?(this.#n=new p.AnnotationEditorUIManager(this.container,this.eventBus),ge!==p.AnnotationEditorType.NONE&&this.#n.updateMode(ge)):console.error(`Invalid AnnotationEditor mode: ${ge}`)}const L=this._scrollMode===b.ScrollMode.PAGE?null:this.viewer,$=this.currentScale,X=w.getViewport({scale:$*p.PixelsPerInch.PDF_TO_CSS_UNITS}),ie=M===b.TextLayerMode.DISABLE||Y?null:this,J=d!==p.AnnotationMode.DISABLE?this:null,ae=Y?this:null,ce=this.#n?this:null;for(let ge=1;ge<=H;++ge){const De=new _.PDFPageView({container:L,eventBus:this.eventBus,id:ge,scale:$,defaultViewport:X.clone(),optionalContentConfigPromise:x,renderingQueue:this.renderingQueue,textLayerFactory:ie,textLayerMode:M,annotationLayerFactory:J,annotationMode:d,xfaLayerFactory:ae,annotationEditorLayerFactory:ce,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(De)}const ue=this._pages[0];ue&&(ue.setPdfPage(w),this.linkService.cachePageRef(1,w.ref)),this._scrollMode===b.ScrollMode.PAGE?this.#l():this._spreadMode!==b.SpreadMode.NONE&&this._updateSpreadMode(),this.#u().then(S(function*(){if(W.findController&&W.findController.setDocument(N),W._scriptingManager&&W._scriptingManager.setDocument(N),W.#n&&W.eventBus.dispatch("annotationeditormodechanged",{source:W,mode:W.#t}),N.loadingParams.disableAutoFetch||H>q.FORCE_LAZY_PAGE_INIT)return void W._pagesCapability.resolve();let ge=H-1;if(ge<=0)W._pagesCapability.resolve();else for(let De=2;De<=H;++De){const Ee=N.getPage(De).then(Te=>{const de=W._pages[De-1];de.pdfPage||de.setPdfPage(Te),W.linkService.cachePageRef(De,Te.ref),0==--ge&&W._pagesCapability.resolve()},Te=>{console.error(`Unable to get page ${De} to initialize viewer`,Te),0==--ge&&W._pagesCapability.resolve()});De%q.PAUSE_EAGER_PAGE_INIT==0&&(yield Ee)}})),this.eventBus.dispatch("pagesinit",{source:this}),N.getMetadata().then(({info:ge})=>{N===this.pdfDocument&&ge.Language&&(this.viewer.lang=ge.Language)}),this.defaultRenderingQueue&&this.update()}).catch(w=>{console.error("Unable to initialize viewer",w),this._pagesCapability.reject(w)})}setPageLabels(N){if(this.pdfDocument){N?Array.isArray(N)&&this.pdfDocument.numPages===N.length?this._pageLabels=N:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let W=0,Y=this._pages.length;W<Y;W++)this._pages[W].setPageLabel(this._pageLabels?.[W]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=b.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this.#e=new Q(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,p.createPromiseCapability)(),this._onePageRenderedCapability=(0,p.createPromiseCapability)(),this._pagesCapability=(0,p.createPromiseCapability)(),this._scrollMode=b.ScrollMode.VERTICAL,this._previousScrollMode=b.ScrollMode.UNKNOWN,this._spreadMode=b.SpreadMode.NONE,this.#a={previousPageNumber:1,scrollDown:!0,pages:[]},this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.#r&&(document.removeEventListener("visibilitychange",this.#r),this.#r=null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(z)}#l(){if(this._scrollMode!==b.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const N=this._currentPageNumber,W=this.#a,Y=this.viewer;if(Y.textContent="",W.pages.length=0,this._spreadMode!==b.SpreadMode.NONE||this.isInPresentationMode){const H=new Set,U=this._spreadMode-1;-1===U?H.add(N-1):N%2!==U?(H.add(N-1),H.add(N)):(H.add(N-2),H.add(N-1));const x=document.createElement("div");if(x.className="spread",this.isInPresentationMode){const f=document.createElement("div");f.className="dummyPage",x.append(f)}for(const f of H){const w=this._pages[f];w&&(x.append(w.div),W.pages.push(w))}Y.append(x)}else{const H=this._pages[N-1];Y.append(H.div),W.pages.push(H)}W.scrollDown=N>=W.previousPageNumber,W.previousPageNumber=N}_scrollUpdate(){0!==this.pagesCount&&this.update()}#o(N,W=null){const{div:Y,id:H}=N;if(this._scrollMode===b.ScrollMode.PAGE&&(this._setCurrentPageNumber(H),this.#l(),this.update()),!W&&!this.isInPresentationMode){const U=Y.offsetLeft+Y.clientLeft,x=U+Y.clientWidth,{scrollLeft:f,clientWidth:w}=this.container;(this._scrollMode===b.ScrollMode.HORIZONTAL||U<f||x>f+w)&&(W={left:0,top:0})}(0,b.scrollIntoView)(Y,W)}#p(N){return N===this._currentScale||Math.abs(N-this._currentScale)<1e-15}_setScaleUpdatePages(N,W,Y=!1,H=!1){if(this._currentScaleValue=W.toString(),this.#p(N))return void(H&&this.eventBus.dispatch("scalechanging",{source:this,scale:N,presetValue:W}));b.docStyle.setProperty("--scale-factor",N*p.PixelsPerInch.PDF_TO_CSS_UNITS);const U={scale:N};for(const x of this._pages)x.update(U);if(this._currentScale=N,!Y){let f,x=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(x=this._location.pageNumber,f=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:x,destArray:f,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:N,presetValue:H?W:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==b.SpreadMode.NONE&&this._scrollMode!==b.ScrollMode.HORIZONTAL?2:1}_setScale(N,W=!1){let Y=parseFloat(N);if(Y>0)this._setScaleUpdatePages(Y,N,W,!1);else{const H=this._pages[this._currentPageNumber-1];if(!H)return;let U=b.SCROLLBAR_PADDING,x=b.VERTICAL_PADDING;this.isInPresentationMode?U=x=4:this.removePageBorders?U=x=0:this._scrollMode===b.ScrollMode.HORIZONTAL&&([U,x]=[x,U]);const f=(this.container.clientWidth-U)/H.width*H.scale/this._pageWidthScaleFactor,w=(this.container.clientHeight-x)/H.height*H.scale;switch(N){case"page-actual":Y=1;break;case"page-width":Y=f;break;case"page-height":Y=w;break;case"page-fit":Y=Math.min(f,w);break;case"auto":const B=(0,b.isPortraitOrientation)(H)?f:Math.min(w,f);Y=Math.min(b.MAX_AUTO_SCALE,B);break;default:return void console.error(`_setScale: "${N}" is an unknown zoom value.`)}this._setScaleUpdatePages(Y,N,W,!0)}}#f(){const N=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this.#o(N)}pageLabelToPageNumber(N){if(!this._pageLabels)return null;const W=this._pageLabels.indexOf(N);return W<0?null:W+1}scrollPageIntoView({pageNumber:N,destArray:W=null,allowNegativeOffset:Y=!1,ignoreDestinationZoom:H=!1}){if(!this.pdfDocument)return;const U=Number.isInteger(N)&&this._pages[N-1];if(!U)return void console.error(`scrollPageIntoView: "${N}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!W)return void this._setCurrentPageNumber(N,!0);let k,d,x=0,f=0,w=0,B=0;const M=U.rotation%180!=0,L=(M?U.height:U.width)/U.scale/p.PixelsPerInch.PDF_TO_CSS_UNITS,$=(M?U.width:U.height)/U.scale/p.PixelsPerInch.PDF_TO_CSS_UNITS;let X=0;switch(W[1].name){case"XYZ":x=W[2],f=W[3],X=W[4],x=null!==x?x:0,f=null!==f?f:$;break;case"Fit":case"FitB":X="page-fit";break;case"FitH":case"FitBH":f=W[2],X="page-width",null===f&&this._location?(x=this._location.left,f=this._location.top):("number"!=typeof f||f<0)&&(f=$);break;case"FitV":case"FitBV":x=W[2],w=L,B=$,X="page-height";break;case"FitR":x=W[2],f=W[3],w=W[4]-x,B=W[5]-f,k=(this.container.clientWidth-(this.removePageBorders?0:b.SCROLLBAR_PADDING))/w/p.PixelsPerInch.PDF_TO_CSS_UNITS,d=(this.container.clientHeight-(this.removePageBorders?0:b.VERTICAL_PADDING))/B/p.PixelsPerInch.PDF_TO_CSS_UNITS,X=Math.min(Math.abs(k),Math.abs(d));break;default:return void console.error(`scrollPageIntoView: "${W[1].name}" is not a valid destination type.`)}if(H||(X&&X!==this._currentScale?this.currentScaleValue=X:this._currentScale===b.UNKNOWN_SCALE&&(this.currentScaleValue=b.DEFAULT_SCALE_VALUE)),"page-fit"===X&&!W[4])return void this.#o(U);const ie=[U.viewport.convertToViewportPoint(x,f),U.viewport.convertToViewportPoint(x+w,f+B)];let J=Math.min(ie[0][0],ie[1][0]),ae=Math.min(ie[0][1],ie[1][1]);Y||(J=Math.max(J,0),ae=Math.max(ae,0)),this.#o(U,{left:J,top:ae})}_updateLocation(N){const W=this._currentScale,Y=this._currentScaleValue,H=parseFloat(Y)===W?Math.round(1e4*W)/100:Y,U=N.id,f=this.container,w=this._pages[U-1].getPagePoint(f.scrollLeft-N.x,f.scrollTop-N.y),B=Math.round(w[0]),k=Math.round(w[1]);let d=`#page=${U}`;this.isInPresentationMode||(d+=`&zoom=${H},${B},${k}`),this._location={pageNumber:U,scale:H,top:k,left:B,rotation:this._pagesRotation,pdfOpenParams:d}}update(){const N=this._getVisiblePages(),W=N.views,Y=W.length;if(0===Y)return;const H=Math.max(10,2*Y+1);this.#e.resize(H,N.ids),this.renderingQueue.renderHighestPriority(N);const U=this._spreadMode===b.SpreadMode.NONE&&(this._scrollMode===b.ScrollMode.PAGE||this._scrollMode===b.ScrollMode.VERTICAL),x=this._currentPageNumber;let f=!1;for(const w of W){if(w.percent<100)break;if(w.id===x&&U){f=!0;break}}this._setCurrentPageNumber(f?x:W[0].id),this._updateLocation(N.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(N){return this.container.contains(N)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===b.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===b.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const N=this._scrollMode===b.ScrollMode.PAGE?this.#a.pages:this._pages,W=this._scrollMode===b.ScrollMode.HORIZONTAL;return(0,b.getVisibleElements)({scrollEl:this.container,views:N,sortByVisibility:!0,horizontal:W,rtl:W&&this._isContainerRtl})}isPageVisible(N){return!!this.pdfDocument&&(Number.isInteger(N)&&N>0&&N<=this.pagesCount?this._getVisiblePages().ids.has(N):(console.error(`isPageVisible: "${N}" is not a valid page.`),!1))}isPageCached(N){return!!this.pdfDocument&&(Number.isInteger(N)&&N>0&&N<=this.pagesCount?this.#e.has(this._pages[N-1]):(console.error(`isPageCached: "${N}" is not a valid page.`),!1))}cleanup(){for(const N of this._pages)N.renderingState!==b.RenderingStates.FINISHED&&N.reset()}_cancelRendering(){for(const N of this._pages)N.cancelRendering()}#v(N){var W=this;return S(function*(){if(N.pdfPage)return N.pdfPage;try{const Y=yield W.pdfDocument.getPage(N.id);return N.pdfPage||N.setPdfPage(Y),W.linkService._cachedPageNumber?.(Y.ref)||W.linkService.cachePageRef(N.id,Y.ref),Y}catch(Y){return console.error("Unable to get page for page view",Y),null}})()}#m(N){if(1===N.first?.id)return!0;if(N.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case b.ScrollMode.PAGE:return this.#a.scrollDown;case b.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}#_(N){for(const W of N)this._pages[W-1]?.toggleLoadingIconSpinner(!0);for(const W of this.#e)N.has(W.id)||W.toggleLoadingIconSpinner(!1)}forceRendering(N){const W=N||this._getVisiblePages(),Y=this.#m(W),U=this.renderingQueue.getHighestPriority(W,this._pages,Y,this._spreadMode!==b.SpreadMode.NONE&&this._scrollMode!==b.ScrollMode.HORIZONTAL);return this.#_(W.ids),!!U&&(this.#v(U).then(()=>{this.renderingQueue.renderView(U)}),!0)}createTextLayerBuilder({textLayerDiv:N,pageIndex:W,viewport:Y,enhanceTextSelection:H=!1,eventBus:U,highlighter:x,accessibilityManager:f=null}){return new u.TextLayerBuilder({textLayerDiv:N,eventBus:U,pageIndex:W,viewport:Y,enhanceTextSelection:!this.isInPresentationMode&&H,highlighter:x,accessibilityManager:f})}createTextHighlighter({pageIndex:N,eventBus:W}){return new E.TextHighlighter({eventBus:W,pageIndex:N,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder({pageDiv:N,pdfPage:W,annotationStorage:Y=this.pdfDocument?.annotationStorage,imageResourcesPath:H="",renderForms:U=!0,l10n:x=v.NullL10n,enableScripting:f=this.enableScripting,hasJSActionsPromise:w=this.pdfDocument?.hasJSActions(),mouseState:B=this._scriptingManager?.mouseState,fieldObjectsPromise:k=this.pdfDocument?.getFieldObjects(),annotationCanvasMap:d=null,accessibilityManager:M=null}){return new y.AnnotationLayerBuilder({pageDiv:N,pdfPage:W,annotationStorage:Y,imageResourcesPath:H,renderForms:U,linkService:this.linkService,downloadManager:this.downloadManager,l10n:x,enableScripting:f,hasJSActionsPromise:w,mouseState:B,fieldObjectsPromise:k,annotationCanvasMap:d,accessibilityManager:M})}createAnnotationEditorLayerBuilder({uiManager:N=this.#n,pageDiv:W,pdfPage:Y,accessibilityManager:H=null,l10n:U,annotationStorage:x=this.pdfDocument?.annotationStorage}){return new F.AnnotationEditorLayerBuilder({uiManager:N,pageDiv:W,pdfPage:Y,annotationStorage:x,accessibilityManager:H,l10n:U})}createXfaLayerBuilder({pageDiv:N,pdfPage:W,annotationStorage:Y=this.pdfDocument?.annotationStorage}){return new g.XfaLayerBuilder({pageDiv:N,pdfPage:W,annotationStorage:Y,linkService:this.linkService})}createStructTreeLayerBuilder({pdfPage:N}){return new P.StructTreeLayerBuilder({pdfPage:N})}get hasEqualPageSizes(){const N=this._pages[0];for(let W=1,Y=this._pages.length;W<Y;++W){const H=this._pages[W];if(H.width!==N.width||H.height!==N.height)return!1}return!0}getPagesOverview(){return this._pages.map(N=>{const W=N.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,b.isPortraitOrientation)(W)?{width:W.width,height:W.height,rotation:W.rotation}:{width:W.height,height:W.width,rotation:(W.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(N){if(!(N instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${N}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=N;const W={optionalContentConfigPromise:N};for(const Y of this._pages)Y.update(W);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:N})}get scrollMode(){return this._scrollMode}set scrollMode(N){if(this._scrollMode!==N){if(!(0,b.isValidScrollMode)(N))throw new Error(`Invalid scroll mode: ${N}`);this.pagesCount>q.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=N,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:N}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(N=null){const W=this._scrollMode,Y=this.viewer;Y.classList.toggle("scrollHorizontal",W===b.ScrollMode.HORIZONTAL),Y.classList.toggle("scrollWrapped",W===b.ScrollMode.WRAPPED),this.pdfDocument&&N&&(W===b.ScrollMode.PAGE?this.#l():this._previousScrollMode===b.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(N,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(N){if(this._spreadMode!==N){if(!(0,b.isValidSpreadMode)(N))throw new Error(`Invalid spread mode: ${N}`);this._spreadMode=N,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:N}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(N=null){if(!this.pdfDocument)return;const W=this.viewer,Y=this._pages;if(this._scrollMode===b.ScrollMode.PAGE)this.#l();else if(W.textContent="",this._spreadMode===b.SpreadMode.NONE)for(const H of this._pages)W.append(H.div);else{const H=this._spreadMode-1;let U=null;for(let x=0,f=Y.length;x<f;++x)null===U?(U=document.createElement("div"),U.className="spread",W.append(U)):x%2===H&&(U=U.cloneNode(!1),W.append(U)),U.append(Y[x].div)}N&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(N,!0),this.update())}_getPageAdvance(N,W=!1){switch(this._scrollMode){case b.ScrollMode.WRAPPED:{const{views:Y}=this._getVisiblePages(),H=new Map;for(const{id:U,y:x,percent:f,widthPercent:w}of Y){if(0===f||w<100)continue;let B=H.get(x);B||H.set(x,B||=[]),B.push(U)}for(const U of H.values()){const x=U.indexOf(N);if(-1===x)continue;const f=U.length;if(1===f)break;if(W)for(let w=x-1,B=0;w>=B;w--){const d=U[w+1]-1;if(U[w]<d)return N-d}else for(let w=x+1,B=f;w<B;w++){const d=U[w-1]+1;if(U[w]>d)return d-N}if(W){const w=U[0];if(w<N)return N-w+1}else{const w=U[f-1];if(w>N)return w-N+1}break}break}case b.ScrollMode.HORIZONTAL:break;case b.ScrollMode.PAGE:case b.ScrollMode.VERTICAL:{if(this._spreadMode===b.SpreadMode.NONE)break;const Y=this._spreadMode-1;if(W&&N%2!==Y)break;if(!W&&N%2===Y)break;const{views:H}=this._getVisiblePages(),U=W?N-1:N+1;for(const{id:x,percent:f,widthPercent:w}of H)if(x===U){if(f>0&&100===w)return 2;break}break}}return 1}nextPage(){const N=this._currentPageNumber,W=this.pagesCount;if(N>=W)return!1;const Y=this._getPageAdvance(N,!1)||1;return this.currentPageNumber=Math.min(N+Y,W),!0}previousPage(){const N=this._currentPageNumber;if(N<=1)return!1;const W=this._getPageAdvance(N,!0)||1;return this.currentPageNumber=Math.max(N-W,1),!0}increaseScale(N=1){let W=this._currentScale;do{W=(W*b.DEFAULT_SCALE_DELTA).toFixed(2),W=Math.ceil(10*W)/10,W=Math.min(b.MAX_SCALE,W)}while(--N>0&&W<b.MAX_SCALE);this.currentScaleValue=W}decreaseScale(N=1){let W=this._currentScale;do{W=(W/b.DEFAULT_SCALE_DELTA).toFixed(2),W=Math.floor(10*W)/10,W=Math.max(b.MIN_SCALE,W)}while(--N>0&&W>b.MIN_SCALE);this.currentScaleValue=W}updateContainerHeightCss(){const N=this.container.clientHeight;N!==this.#c&&(this.#c=N,b.docStyle.setProperty("--viewer-container-height",`${N}px`))}get annotationEditorMode(){return this.#n?this.#t:p.AnnotationEditorType.DISABLE}set annotationEditorMode(N){if(!this.#n)throw new Error("The AnnotationEditor is not enabled.");if(this.#t!==N){if(!ne(N))throw new Error(`Invalid AnnotationEditor mode: ${N}`);this.pdfDocument&&(this.#t=N,this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:N}),this.#n.updateMode(N))}}set annotationEditorParams({type:N,value:W}){if(!this.#n)throw new Error("The AnnotationEditor is not enabled.");this.#n.updateParams(N,W)}refresh(){if(!this.pdfDocument)return;const N={};for(const W of this._pages)W.update(N);this.update()}}m.BaseViewer=me},(V,m,D)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFPageView=void 0;var p=D(3),b=D(7),F=D(14),y=D(4),v=D(15);const _=F.compatibilityParams.maxCanvasPixels||16777216;m.PDFPageView=class O{#e=p.AnnotationMode.ENABLE_FORMS;#t={initialOptionalContent:!0,regularAnnotations:!0};constructor(P){const E=P.container,u=P.defaultViewport;this.id=P.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=P.scale||b.DEFAULT_SCALE,this.viewport=u,this.pdfPageRotate=u.rotation,this._optionalContentConfigPromise=P.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=P.textLayerMode??b.TextLayerMode.ENABLE,this.#e=P.annotationMode??p.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=P.imageResourcesPath||"",this.useOnlyCssZoom=P.useOnlyCssZoom||!1,this.maxCanvasPixels=P.maxCanvasPixels||_,this.pageColors=P.pageColors||null,this.eventBus=P.eventBus,this.renderingQueue=P.renderingQueue,this.textLayerFactory=P.textLayerFactory,this.annotationLayerFactory=P.annotationLayerFactory,this.annotationEditorLayerFactory=P.annotationEditorLayerFactory,this.xfaLayerFactory=P.xfaLayerFactory,this.textHighlighter=P.textHighlighterFactory?.createTextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus}),this.structTreeLayerFactory=P.structTreeLayerFactory,this.renderer=P.renderer||b.RendererType.CANVAS,this.l10n=P.l10n||y.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=b.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const g=document.createElement("div");if(g.className="page",g.style.width=Math.floor(this.viewport.width)+"px",g.style.height=Math.floor(this.viewport.height)+"px",g.setAttribute("data-page-number",this.id),g.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(I=>{g.setAttribute("aria-label",I)}),this.div=g,E?.append(g),this._isStandalone){const{optionalContentConfigPromise:I}=P;I&&I.then(z=>{I===this._optionalContentConfigPromise&&(this.#t.initialOptionalContent=z.hasInitialVisibility)})}}setPdfPage(P){this.pdfPage=P,this.pdfPageRotate=P.rotate,this.viewport=P.getViewport({scale:this.scale*p.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var P=this;return S(function*(){let E=null;try{yield P.annotationLayer.render(P.viewport,"display")}catch(u){console.error(`_renderAnnotationLayer: "${u}".`),E=u}finally{P.eventBus.dispatch("annotationlayerrendered",{source:P,pageNumber:P.id,error:E})}})()}_renderAnnotationEditorLayer(){var P=this;return S(function*(){let E=null;try{yield P.annotationEditorLayer.render(P.viewport,"display")}catch(u){console.error(`_renderAnnotationEditorLayer: "${u}".`),E=u}finally{P.eventBus.dispatch("annotationeditorlayerrendered",{source:P,pageNumber:P.id,error:E})}})()}_renderXfaLayer(){var P=this;return S(function*(){let E=null;try{const u=yield P.xfaLayer.render(P.viewport,"display");P.textHighlighter&&P._buildXfaTextContentItems(u.textDivs)}catch(u){console.error(`_renderXfaLayer: "${u}".`),E=u}finally{P.eventBus.dispatch("xfalayerrendered",{source:P,pageNumber:P.id,error:E})}})()}_buildXfaTextContentItems(P){var E=this;return S(function*(){const u=yield E.pdfPage.getTextContent(),g=[];for(const I of u.items)g.push(I.str);E.textHighlighter.setTextMapping(P,g),E.textHighlighter.enable()})()}_resetZoomLayer(P=!1){if(!this.zoomLayer)return;const E=this.zoomLayer.firstChild;this.paintedViewportMap.delete(E),E.width=0,E.height=0,P&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:P=!1,keepAnnotationLayer:E=!1,keepAnnotationEditorLayer:u=!1,keepXfaLayer:g=!1}={}){this.cancelRendering({keepAnnotationLayer:E,keepAnnotationEditorLayer:u,keepXfaLayer:g}),this.renderingState=b.RenderingStates.INITIAL;const I=this.div;I.style.width=Math.floor(this.viewport.width)+"px",I.style.height=Math.floor(this.viewport.height)+"px";const z=I.childNodes,q=P&&this.zoomLayer||null,ne=E&&this.annotationLayer?.div||null,Q=u&&this.annotationEditorLayer?.div||null,me=g&&this.xfaLayer?.div||null;for(let pe=z.length-1;pe>=0;pe--){const N=z[pe];switch(N){case q:case ne:case Q:case me:continue}N.remove()}I.removeAttribute("data-loaded"),ne&&this.annotationLayer.hide(),Q?this.annotationEditorLayer.hide():this.annotationEditorLayer?.destroy(),me&&this.xfaLayer.hide(),q||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(pe=>{this.loadingIconDiv?.setAttribute("aria-label",pe)}),I.append(this.loadingIconDiv)}update({scale:P=0,rotation:E=null,optionalContentConfigPromise:u=null}){if(this.scale=P||this.scale,"number"==typeof E&&(this.rotation=E),u instanceof Promise&&(this._optionalContentConfigPromise=u,u.then(z=>{u===this._optionalContentConfigPromise&&(this.#t.initialOptionalContent=z.hasInitialVisibility)})),this.viewport=this.viewport.clone({scale:this.scale*p.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone&&b.docStyle.setProperty("--scale-factor",this.viewport.scale),this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let I=!1;if(this.canvas&&this.maxCanvasPixels>0){const z=this.outputScale;(Math.floor(this.viewport.width)*z.sx|0)*(Math.floor(this.viewport.height)*z.sy|0)>this.maxCanvasPixels&&(I=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&I)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:P=!1,keepAnnotationEditorLayer:E=!1,keepXfaLayer:u=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!P||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!E||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!u||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:P,redrawAnnotationLayer:E=!1,redrawAnnotationEditorLayer:u=!1,redrawXfaLayer:g=!1}){const I=this.viewport.width,z=this.viewport.height,q=this.div;P.style.width=P.parentNode.style.width=q.style.width=Math.floor(I)+"px",P.style.height=P.parentNode.style.height=q.style.height=Math.floor(z)+"px";const ne=this.viewport.rotation-this.paintedViewportMap.get(P).rotation,Q=Math.abs(ne);let me=1,pe=1;if((90===Q||270===Q)&&(me=z/I,pe=I/z),P.style.transform=`rotate(${ne}deg) scale(${me}, ${pe})`,this.textLayer){const N=this.textLayer.viewport,Y=Math.abs(this.viewport.rotation-N.rotation);let H=I/N.width;(90===Y||270===Y)&&(H=I/N.height);const U=this.textLayer.textLayerDiv;let x,f;switch(Y){case 0:x=f=0;break;case 90:x=0,f="-"+U.style.height;break;case 180:x="-"+U.style.width,f="-"+U.style.height;break;case 270:x="-"+U.style.width,f=0;break;default:console.error("Bad rotation value.")}U.style.transform=`rotate(${Y}deg) scale(${H}) translate(${x}, ${f})`,U.style.transformOrigin="0% 0%"}E&&this.annotationLayer&&this._renderAnnotationLayer(),u&&this.annotationEditorLayer&&this._renderAnnotationEditorLayer(),g&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(P,E){return this.viewport.convertToPdfPoint(P,E)}toggleLoadingIconSpinner(P=!1){this.loadingIconDiv?.classList.toggle("notVisible",!P)}draw(){var P=this;this.renderingState!==b.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:E,pdfPage:u}=this;if(!u)return this.renderingState=b.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=b.RenderingStates.RUNNING;const g=document.createElement("div");g.style.width=E.style.width,g.style.height=E.style.height,g.classList.add("canvasWrapper");const I=this.annotationLayer?.div||this.annotationEditorLayer?.div;I?I.before(g):E.append(g);let z=null;if(this.textLayerMode!==b.TextLayerMode.DISABLE&&this.textLayerFactory){this._accessibilityManager||=new v.TextAccessibilityManager;const pe=document.createElement("div");pe.className="textLayer",pe.style.width=g.style.width,pe.style.height=g.style.height,I?I.before(pe):E.append(pe),z=this.textLayerFactory.createTextLayerBuilder({textLayerDiv:pe,pageIndex:this.id-1,viewport:this.viewport,enhanceTextSelection:this.textLayerMode===b.TextLayerMode.ENABLE_ENHANCE,eventBus:this.eventBus,highlighter:this.textHighlighter,accessibilityManager:this._accessibilityManager})}this.textLayer=z,this.#e!==p.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder({pageDiv:E,pdfPage:u,imageResourcesPath:this.imageResourcesPath,renderForms:this.#e===p.AnnotationMode.ENABLE_FORMS,l10n:this.l10n,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})),this.xfaLayer?.div&&E.append(this.xfaLayer.div);let q=null;this.renderingQueue&&(q=pe=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=b.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=b.RenderingStates.RUNNING,pe()});pe()});const ne=function(){var pe=S(function*(N=null){if(Q===P.paintTask&&(P.paintTask=null),N instanceof p.RenderingCancelledException)P._renderError=null;else if(P._renderError=N,P.renderingState=b.RenderingStates.FINISHED,P.loadingIconDiv&&(P.loadingIconDiv.remove(),delete P.loadingIconDiv),P._resetZoomLayer(!0),P.#t.regularAnnotations=!Q.separateAnnots,P.eventBus.dispatch("pagerendered",{source:P,pageNumber:P.id,cssTransform:!1,timestamp:performance.now(),error:P._renderError}),N)throw N});return function(){return pe.apply(this,arguments)}}(),Q=this.renderer===b.RendererType.SVG?this.paintOnSvg(g):this.paintOnCanvas(g);Q.onRenderContinue=q,this.paintTask=Q;const me=Q.promise.then(()=>ne(null).then(()=>{if(z){const pe=u.streamTextContent({includeMarkedContent:!0});z.setTextContentStream(pe),z.render()}this.annotationLayer&&this._renderAnnotationLayer().then(()=>{this.annotationEditorLayerFactory&&(this.annotationEditorLayer||=this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({pageDiv:E,pdfPage:u,l10n:this.l10n,accessibilityManager:this._accessibilityManager}),this._renderAnnotationEditorLayer())})}),function(pe){return ne(pe)});return this.xfaLayerFactory&&(this.xfaLayer||=this.xfaLayerFactory.createXfaLayerBuilder({pageDiv:E,pdfPage:u}),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=pe=>{pe.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(N=>{if(!N||!this.canvas)return;const W=this.structTreeLayer.render(N);W.classList.add("structTree"),this.canvas.append(W)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder({pdfPage:u})),E.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),me}paintOnCanvas(P){const E=(0,p.createPromiseCapability)(),u={promise:E.promise,onRenderContinue(H){H()},cancel(){Y.cancel()},get separateAnnots(){return Y.separateAnnots}},g=this.viewport,I=document.createElement("canvas");I.setAttribute("role","presentation"),I.hidden=!0;let z=!0;const q=function(){z&&(I.hidden=!1,z=!1)};P.append(I),this.canvas=I;const ne=I.getContext("2d",{alpha:!1}),Q=this.outputScale=new b.OutputScale;if(this.useOnlyCssZoom){const H=g.clone({scale:p.PixelsPerInch.PDF_TO_CSS_UNITS});Q.sx*=H.width/g.width,Q.sy*=H.height/g.height}if(this.maxCanvasPixels>0){const U=Math.sqrt(this.maxCanvasPixels/(g.width*g.height));Q.sx>U||Q.sy>U?(Q.sx=U,Q.sy=U,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const me=(0,b.approximateFraction)(Q.sx),pe=(0,b.approximateFraction)(Q.sy);I.width=(0,b.roundToDivide)(g.width*Q.sx,me[0]),I.height=(0,b.roundToDivide)(g.height*Q.sy,pe[0]),I.style.width=(0,b.roundToDivide)(g.width,me[1])+"px",I.style.height=(0,b.roundToDivide)(g.height,pe[1])+"px",this.paintedViewportMap.set(I,g);const W={canvasContext:ne,transform:Q.scaled?[Q.sx,0,0,Q.sy,0,0]:null,viewport:this.viewport,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},Y=this.pdfPage.render(W);return Y.onContinue=function(H){q(),u.onRenderContinue?u.onRenderContinue(H):H()},Y.promise.then(function(){q(),E.resolve()},function(H){q(),E.reject(H)}),u}paintOnSvg(P){let E=!1;const u=()=>{if(E)throw new p.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},g=this.pdfPage,I=this.viewport.clone({scale:p.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:g.getOperatorList({annotationMode:this.#e}).then(q=>(u(),new p.SVGGraphics(g.commonObjs,g.objs).getSVG(q,I).then(Q=>{u(),this.svg=Q,this.paintedViewportMap.set(Q,I),Q.style.width=P.style.width,Q.style.height=P.style.height,this.renderingState=b.RenderingStates.FINISHED,P.append(Q)}))),onRenderContinue(q){q()},cancel(){E=!0},get separateAnnots(){return!1}}}setPageLabel(P){this.pageLabel="string"==typeof P?P:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{initialOptionalContent:P,regularAnnotations:E}=this.#t;return P&&E?this.canvas:null}}},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.compatibilityParams=m.OptionKind=m.AppOptions=void 0;const D=Object.create(null);m.compatibilityParams=D;{const v=navigator.userAgent||"",_=navigator.platform||"",O=navigator.maxTouchPoints||1,R=/Android/.test(v);(/\b(iPad|iPhone|iPod)(?=;)/.test(v)||"MacIntel"===_&&O>1||R)&&(D.maxCanvasPixels=5242880)}const p={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};m.OptionKind=p;const b={annotationEditorMode:{value:-1,kind:p.VIEWER+p.PREFERENCE},annotationMode:{value:2,kind:p.VIEWER+p.PREFERENCE},cursorToolOnLoad:{value:0,kind:p.VIEWER+p.PREFERENCE},defaultZoomValue:{value:"",kind:p.VIEWER+p.PREFERENCE},disableHistory:{value:!1,kind:p.VIEWER},disablePageLabels:{value:!1,kind:p.VIEWER+p.PREFERENCE},enablePermissions:{value:!1,kind:p.VIEWER+p.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:p.VIEWER+p.PREFERENCE},enableScripting:{value:!0,kind:p.VIEWER+p.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:p.VIEWER},externalLinkTarget:{value:0,kind:p.VIEWER+p.PREFERENCE},historyUpdateUrl:{value:!1,kind:p.VIEWER+p.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:p.VIEWER+p.PREFERENCE},imageResourcesPath:{value:"./images/",kind:p.VIEWER},maxCanvasPixels:{value:16777216,kind:p.VIEWER},forcePageColors:{value:!1,kind:p.VIEWER+p.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:p.VIEWER+p.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:p.VIEWER+p.PREFERENCE},pdfBugEnabled:{value:!1,kind:p.VIEWER+p.PREFERENCE},printResolution:{value:150,kind:p.VIEWER},sidebarViewOnLoad:{value:-1,kind:p.VIEWER+p.PREFERENCE},scrollModeOnLoad:{value:-1,kind:p.VIEWER+p.PREFERENCE},spreadModeOnLoad:{value:-1,kind:p.VIEWER+p.PREFERENCE},textLayerMode:{value:1,kind:p.VIEWER+p.PREFERENCE},useOnlyCssZoom:{value:!1,kind:p.VIEWER+p.PREFERENCE},viewerCssTheme:{value:0,kind:p.VIEWER+p.PREFERENCE},viewOnLoad:{value:0,kind:p.VIEWER+p.PREFERENCE},cMapPacked:{value:!0,kind:p.API},cMapUrl:{value:"../web/cmaps/",kind:p.API},disableAutoFetch:{value:!1,kind:p.API+p.PREFERENCE},disableFontFace:{value:!1,kind:p.API+p.PREFERENCE},disableRange:{value:!1,kind:p.API+p.PREFERENCE},disableStream:{value:!1,kind:p.API+p.PREFERENCE},docBaseUrl:{value:"",kind:p.API},enableXfa:{value:!0,kind:p.API+p.PREFERENCE},fontExtraProperties:{value:!1,kind:p.API},isEvalSupported:{value:!0,kind:p.API},maxImageSize:{value:-1,kind:p.API},pdfBug:{value:!1,kind:p.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:p.API},verbosity:{value:1,kind:p.API},workerPort:{value:null,kind:p.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:p.WORKER}};b.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:p.VIEWER},b.disablePreferences={value:!1,kind:p.VIEWER},b.locale={value:navigator.language||"en-US",kind:p.VIEWER},b.renderer={value:"canvas",kind:p.VIEWER+p.PREFERENCE},b.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:p.VIEWER};const F=Object.create(null);m.AppOptions=class y{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(_){const O=F[_];if(void 0!==O)return O;const R=b[_];return void 0!==R?D[_]??R.value:void 0}static getAll(_=null){const O=Object.create(null);for(const R in b){const P=b[R];if(_){if(!(_&P.kind))continue;if(_===p.PREFERENCE){const u=P.value,g=typeof u;if("boolean"===g||"string"===g||"number"===g&&Number.isInteger(u)){O[R]=u;continue}throw new Error(`Invalid type for preference: ${R}`)}}const E=F[R];O[R]=void 0!==E?E:D[R]??P.value}return O}static set(_,O){F[_]=O}static setAll(_){for(const O in _)F[O]=_[O]}static remove(_){delete F[_]}static _hasUserOptions(){return Object.keys(F).length>0}}},(V,m,D)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.TextAccessibilityManager=void 0;var p=D(7);class b{#e=!1;#t=null;#n=new Map;#i=new Map;setTextMapping(y){this.#t=y}static#s(y,v){const _=y.getBoundingClientRect(),O=v.getBoundingClientRect();if(0===_.width&&0===_.height)return 1;if(0===O.width&&0===O.height)return-1;const E=_.y+_.height/2,I=O.y+O.height/2;return E<=O.y&&I>=_.y+_.height?-1:I<=_.y&&E>=O.y+O.height?1:_.x+_.width/2-(O.x+O.width/2)}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(b.#s),this.#n.size>0){const y=this.#t;for(const[v,_]of this.#n)document.getElementById(v)?this.#c(v,y[_]):this.#n.delete(v)}for(const[y,v]of this.#i)this.addPointerInTextLayer(y,v);this.#i.clear()}disable(){this.#e&&(this.#i.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(y){if(!this.#e)return void this.#i.delete(y);const v=this.#t;if(!v||0===v.length)return;const{id:_}=y,O=this.#n.get(_);if(void 0===O)return;const R=v[O];this.#n.delete(_);let P=R.getAttribute("aria-owns");P?.includes(_)&&(P=P.split(" ").filter(E=>E!==_).join(" "),P?R.setAttribute("aria-owns",P):(R.removeAttribute("aria-owns"),R.setAttribute("role","presentation")))}#c(y,v){const _=v.getAttribute("aria-owns");_?.includes(y)||v.setAttribute("aria-owns",_?`${_} ${y}`:y),v.removeAttribute("role")}addPointerInTextLayer(y,v){const{id:_}=y;if(!_)return;if(!this.#e)return void this.#i.set(y,v);v&&this.removePointerInTextLayer(y);const O=this.#t;if(!O||0===O.length)return;const R=(0,p.binarySearchFirstItem)(O,E=>b.#s(y,E)<0),P=Math.max(0,R-1);this.#c(_,O[P]),this.#n.set(_,P)}moveElementInDOM(y,v,_,O){if(this.addPointerInTextLayer(_,O),!y.hasChildNodes())return void y.append(v);const R=Array.from(y.childNodes).filter(u=>u!==v);if(0===R.length)return;const P=_||v,E=(0,p.binarySearchFirstItem)(R,u=>b.#s(P,u)<0);0===E?R[0].before(v):R[E-1].after(v)}}m.TextAccessibilityManager=b},(V,m,D)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFRenderingQueue=void 0;var p=D(3),b=D(7);m.PDFRenderingQueue=class y{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(_){this.pdfViewer=_}setThumbnailViewer(_){this.pdfThumbnailViewer=_}isHighestPriority(_){return this.highestPriorityPage===_.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(_){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(_)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(_,O,R,P=!1){const E=_.views,u=E.length;if(0===u)return null;for(let ne=0;ne<u;ne++){const Q=E[ne].view;if(!this.isViewFinished(Q))return Q}const g=_.first.id,I=_.last.id;if(I-g+1>u){const ne=_.ids;for(let Q=1,me=I-g;Q<me;Q++){const pe=R?g+Q:I-Q;if(ne.has(pe))continue;const N=O[pe-1];if(!this.isViewFinished(N))return N}}let z=R?I:g-2,q=O[z];return q&&!this.isViewFinished(q)||P&&(z+=R?1:-1,q=O[z],q&&!this.isViewFinished(q))?q:null}isViewFinished(_){return _.renderingState===b.RenderingStates.FINISHED}renderView(_){switch(_.renderingState){case b.RenderingStates.FINISHED:return!1;case b.RenderingStates.PAUSED:this.highestPriorityPage=_.renderingId,_.resume();break;case b.RenderingStates.RUNNING:this.highestPriorityPage=_.renderingId;break;case b.RenderingStates.INITIAL:this.highestPriorityPage=_.renderingId,_.draw().finally(()=>{this.renderHighestPriority()}).catch(O=>{O instanceof p.RenderingCancelledException||console.error(`renderView: "${O}"`)})}return!0}}},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.TextHighlighter=void 0,m.TextHighlighter=class D{constructor({findController:b,eventBus:F,pageIndex:y}){this.findController=b,this.matches=[],this.eventBus=F,this.pageIdx=y,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(b,F){this.textDivs=b,this.textContentItemsStr=F}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=b=>{(b.pageIndex===this.pageIdx||-1===b.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(b,F){if(!b)return[];const{textContentItemsStr:y}=this;let v=0,_=0;const O=y.length-1,R=[];for(let P=0,E=b.length;P<E;P++){let u=b[P];for(;v!==O&&u>=_+y[v].length;)_+=y[v].length,v++;v===y.length&&console.error("Could not find a matching mapping");const g={begin:{divIdx:v,offset:u-_}};for(u+=F[P];v!==O&&u>_+y[v].length;)_+=y[v].length,v++;g.end={divIdx:v,offset:u-_},R.push(g)}return R}_renderMatches(b){if(0===b.length)return;const{findController:F,pageIdx:y}=this,{textContentItemsStr:v,textDivs:_}=this,O=y===F.selected.pageIdx,R=F.selected.matchIdx;let E=null;function g(ne,Q){const me=ne.divIdx;return _[me].textContent="",I(me,0,ne.offset,Q)}function I(ne,Q,me,pe){let N=_[ne];if(N.nodeType===Node.TEXT_NODE){const H=document.createElement("span");N.before(H),H.append(N),_[ne]=H,N=H}const W=v[ne].substring(Q,me),Y=document.createTextNode(W);if(pe){const H=document.createElement("span");return H.className=`${pe} appended`,H.append(Y),N.append(H),pe.includes("selected")?H.offsetLeft:0}return N.append(Y),0}let z=R,q=z+1;if(F.state.highlightAll)z=0,q=b.length;else if(!O)return;for(let ne=z;ne<q;ne++){const Q=b[ne],me=Q.begin,pe=Q.end,N=O&&ne===R,W=N?" selected":"";let Y=0;if(E&&me.divIdx===E.divIdx?I(E.divIdx,E.offset,me.offset):(null!==E&&I(E.divIdx,E.offset,void 0),g(me)),me.divIdx===pe.divIdx)Y=I(me.divIdx,me.offset,pe.offset,"highlight"+W);else{Y=I(me.divIdx,me.offset,void 0,"highlight begin"+W);for(let H=me.divIdx+1,U=pe.divIdx;H<U;H++)_[H].className="highlight middle"+W;g(pe,"highlight end"+W)}E=pe,N&&F.scrollMatchIntoView({element:_[me.divIdx],selectedLeft:Y,pageIndex:y,matchIndex:R})}E&&I(E.divIdx,E.offset,void 0)}_updateMatches(){if(!this.enabled)return;const{findController:b,matches:F,pageIdx:y}=this,{textContentItemsStr:v,textDivs:_}=this;let O=-1;for(let E=0,u=F.length;E<u;E++){const g=F[E];for(let z=Math.max(O,g.begin.divIdx),q=g.end.divIdx;z<=q;z++){const ne=_[z];ne.textContent=v[z],ne.className=""}O=g.end.divIdx+1}b?.highlightMatches&&(this.matches=this._convertMatches(b.pageMatches[y]||null,b.pageMatchesLength[y]||null),this._renderMatches(this.matches))}}},(V,m,D)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.DownloadManager=void 0;var p=D(3);function b(y,v){const _=document.createElement("a");if(!_.click)throw new Error('DownloadManager: "a.click()" is not supported.');_.href=y,_.target="_parent","download"in _&&(_.download=v),(document.body||document.documentElement).append(_),_.click(),_.remove()}m.DownloadManager=class F{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(v,_){(0,p.createValidAbsoluteUrl)(v,"http://example.com")?b(v+"#pdfjs.action=download",_):console.error(`downloadUrl - not a valid URL: ${v}`)}downloadData(v,_,O){b(URL.createObjectURL(new Blob([v],{type:O})),_)}openOrDownloadData(v,_,O){const R=(0,p.isPdfFile)(O),P=R?"application/pdf":"";if(R){let u,E=this._openBlobUrls.get(v);E||(E=URL.createObjectURL(new Blob([_],{type:P})),this._openBlobUrls.set(v,E)),u="?file="+encodeURIComponent(E+"#"+O);try{return window.open(u),!0}catch(g){console.error(`openOrDownloadData: ${g}`),URL.revokeObjectURL(E),this._openBlobUrls.delete(v)}}return this.downloadData(_,O,P),!1}download(v,_,O){b(URL.createObjectURL(v),O)}}},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.WaitOnType=m.EventBus=m.AutomationEventBus=void 0,m.waitOnEventOrTimeout=function p({target:y,name:v,delay:_=0}){return new Promise(function(O,R){if("object"!=typeof y||!v||"string"!=typeof v||!(Number.isInteger(_)&&_>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function P(I){y instanceof b?y._off(v,E):y.removeEventListener(v,E),g&&clearTimeout(g),O(I)}const E=P.bind(null,D.EVENT);y instanceof b?y._on(v,E):y.addEventListener(v,E);const u=P.bind(null,D.TIMEOUT),g=setTimeout(u,_)})};const D={EVENT:"event",TIMEOUT:"timeout"};m.WaitOnType=D;class b{constructor(){this._listeners=Object.create(null)}on(v,_,O=null){this._on(v,_,{external:!0,once:O?.once})}off(v,_,O=null){this._off(v,_,{external:!0,once:O?.once})}dispatch(v,_){const O=this._listeners[v];if(!O||0===O.length)return;let R;for(const{listener:P,external:E,once:u}of O.slice(0))u&&this._off(v,P),E?(R||=[]).push(P):P(_);if(R){for(const P of R)P(_);R=null}}_on(v,_,O=null){(this._listeners[v]||=[]).push({listener:_,external:!0===O?.external,once:!0===O?.once})}_off(v,_,O=null){const R=this._listeners[v];if(R)for(let P=0,E=R.length;P<E;P++)if(R[P].listener===_)return void R.splice(P,1)}}m.EventBus=b,m.AutomationEventBus=class F extends b{dispatch(v,_){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(V,m,D)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.GenericL10n=void 0,D(21);var p=D(4);const b=document.webL10n;m.GenericL10n=class F{constructor(v){this._lang=v,this._ready=new Promise((_,O)=>{b.setLanguage((0,p.fixupLangCode)(v),()=>{_(b)})})}getLanguage(){var v=this;return S(function*(){return(yield v._ready).getLanguage()})()}getDirection(){var v=this;return S(function*(){return(yield v._ready).getDirection()})()}get(v,_=null,O=(0,p.getL10nFallback)(v,_)){var R=this;return S(function*(){return(yield R._ready).get(v,_,O)})()}translate(v){var _=this;return S(function*(){return(yield _._ready).translate(v)})()}}},()=>{document.webL10n=function(V,m,D){var p={},b="",F="textContent",y="",v={},_="loading",O=!0;function g(H,U,x){U=U||function(B){},x=x||function(){};var f=new XMLHttpRequest;f.open("GET",H,O),f.overrideMimeType&&f.overrideMimeType("text/plain; charset=utf-8"),f.onreadystatechange=function(){4==f.readyState&&(200==f.status||0===f.status?U(f.responseText):x())},f.onerror=x,f.ontimeout=x;try{f.send(null)}catch{x()}}function z(H,U){H&&(H=H.toLowerCase()),U=U||function(){},function q(){p={},b="",y=""}(),y=H;var x=function R(){return m.querySelectorAll('link[type="application/l10n"]')}(),f=x.length;if(0!==f){var d,M=0;d=function(){++M>=f&&(U(),_="complete")};for(var $=0;$<f;$++)new L(x[$]).load(H,d)}else{var w=function P(){var H=m.querySelector('script[type="application/l10n"]');return H?JSON.parse(H.innerHTML):null}();if(w&&w.locales&&w.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(p=w.locales[H])){var B=w.default_locale.toLowerCase();for(var k in w.locales){if((k=k.toLowerCase())===H){p=w.locales[H];break}k===B&&(p=w.locales[B])}}U()}else console.log("no resource to load, early way out");_="complete"}function L(ie){var J=ie.href;this.load=function(ae,ce){!function I(H,U,x,f){var w=H.replace(/[^\/]*$/,"")||"./";function B(d){return d.lastIndexOf("\\")<0?d:d.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}g(H,function(d){b+=d,function k(d,M){var L={},$=/^\s*|\s*$/,X=/^\s*#|^\s*$/,ie=/^\s*\[(.*)\]\s*$/,J=/^\s*@import\s+url\((.*)\)\s*$/i,ae=/^([^=\s]*)\s*=\s*(.+)$/;function ce(ge,De,Ee){var Te=ge.replace($,"").split(/[\r\n]+/),de="*",ye=U.split("-",1)[0],Ie=!1,ve="";!function Ve(){for(;;){if(!Te.length)return void Ee();var Ue=Te.shift();if(!X.test(Ue)){if(De){if(ve=ie.exec(Ue)){de=ve[1].toLowerCase(),Ie="*"!==de&&de!==U&&de!==ye;continue}if(Ie)continue;if(ve=J.exec(Ue))return void ue(w+ve[1],Ve)}var Ne=Ue.match(ae);Ne&&3==Ne.length&&(L[Ne[1]]=B(Ne[2]))}}}()}function ue(ge,De){g(ge,function(Ee){ce(Ee,!1,De)},function(){console.warn(ge+" not found."),De()})}ce(d,!0,function(){M(L)})}(d,function(M){for(var L in M){var $,X,ie=L.lastIndexOf(".");ie>0?($=L.substring(0,ie),X=L.substring(ie+1)):($=L,X=F),p[$]||(p[$]={}),p[$][X]=M[L]}x&&x()})},f)}(J,ae,ce,function(){console.warn(J+" not found."),console.warn('"'+ae+'" resource not found'),y="",ce()})}}}function Q(H,U,x){var f=p[H];if(!f){if(console.warn("#"+H+" is undefined."),!x)return null;f=x}var w={};for(var B in f){var k=f[B];k=pe(k=me(k,U,H,B),U,H),w[B]=k}return w}function me(H,U,x,f){var B=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(H);if(!B||!B.length)return H;var M,k=B[1],d=B[2];return U&&d in U?M=U[d]:d in p&&(M=p[d]),k in v&&(H=(0,v[k])(H,M,x,f)),H}function pe(H,U,x){return H.replace(/\{\{\s*(.+?)\s*\}\}/g,function(w,B){return U&&B in U?U[B]:B in p?p[B]:(console.log("argument {{"+B+"}} for #"+x+" is undefined."),w)})}function N(H){var U=function u(H){if(!H)return{};var U=H.getAttribute("data-l10n-id"),x=H.getAttribute("data-l10n-args"),f={};if(x)try{f=JSON.parse(x)}catch{console.warn("could not parse arguments for #"+U)}return{id:U,args:f}}(H);if(U.id){var x=Q(U.id,U.args);if(!x)return void console.warn("#"+U.id+" is undefined.");if(x[F]){if(0===function W(H){if(H.children)return H.children.length;if(typeof H.childElementCount<"u")return H.childElementCount;for(var U=0,x=0;x<H.childNodes.length;x++)U+=1===H.nodeType?1:0;return U}(H))H[F]=x[F];else{for(var f=H.childNodes,w=!1,B=0,k=f.length;B<k;B++)3===f[B].nodeType&&/\S/.test(f[B].nodeValue)&&(w?f[B].nodeValue="":(f[B].nodeValue=x[F],w=!0));if(!w){var d=m.createTextNode(x[F]);H.prepend(d)}}delete x[F]}for(var M in x)H[M]=x[M]}}return v.plural=function(H,U,x,f){var w=parseFloat(U);if(isNaN(w)||f!=F)return H;v._pluralRules||(v._pluralRules=function ne(H){function x(k,d){return-1!==d.indexOf(k)}function f(k,d,M){return d<=k&&k<=M}var w={0:function(k){return"other"},1:function(k){return f(k%100,3,10)?"few":0===k?"zero":f(k%100,11,99)?"many":2==k?"two":1==k?"one":"other"},2:function(k){return 0!==k&&k%10==0?"many":2==k?"two":1==k?"one":"other"},3:function(k){return 1==k?"one":"other"},4:function(k){return f(k,0,1)?"one":"other"},5:function(k){return f(k,0,2)&&2!=k?"one":"other"},6:function(k){return 0===k?"zero":k%10==1&&k%100!=11?"one":"other"},7:function(k){return 2==k?"two":1==k?"one":"other"},8:function(k){return f(k,3,6)?"few":f(k,7,10)?"many":2==k?"two":1==k?"one":"other"},9:function(k){return 0===k||1!=k&&f(k%100,1,19)?"few":1==k?"one":"other"},10:function(k){return f(k%10,2,9)&&!f(k%100,11,19)?"few":k%10!=1||f(k%100,11,19)?"other":"one"},11:function(k){return f(k%10,2,4)&&!f(k%100,12,14)?"few":k%10==0||f(k%10,5,9)||f(k%100,11,14)?"many":k%10==1&&k%100!=11?"one":"other"},12:function(k){return f(k,2,4)?"few":1==k?"one":"other"},13:function(k){return f(k%10,2,4)&&!f(k%100,12,14)?"few":1!=k&&f(k%10,0,1)||f(k%10,5,9)||f(k%100,12,14)?"many":1==k?"one":"other"},14:function(k){return f(k%100,3,4)?"few":k%100==2?"two":k%100==1?"one":"other"},15:function(k){return 0===k||f(k%100,2,10)?"few":f(k%100,11,19)?"many":1==k?"one":"other"},16:function(k){return k%10==1&&11!=k?"one":"other"},17:function(k){return 3==k?"few":0===k?"zero":6==k?"many":2==k?"two":1==k?"one":"other"},18:function(k){return 0===k?"zero":f(k,0,2)&&0!==k&&2!=k?"one":"other"},19:function(k){return f(k,2,10)?"few":f(k,0,1)?"one":"other"},20:function(k){return!f(k%10,3,4)&&k%10!=9||f(k%100,10,19)||f(k%100,70,79)||f(k%100,90,99)?k%1e6==0&&0!==k?"many":k%10!=2||x(k%100,[12,72,92])?k%10!=1||x(k%100,[11,71,91])?"other":"one":"two":"few"},21:function(k){return 0===k?"zero":1==k?"one":"other"},22:function(k){return f(k,0,1)||f(k,11,99)?"one":"other"},23:function(k){return f(k%10,1,2)||k%20==0?"one":"other"},24:function(k){return f(k,3,10)||f(k,13,19)?"few":x(k,[2,12])?"two":x(k,[1,11])?"one":"other"}},B={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[H.replace(/-.*$/,"")];return B in w?w[B]:(console.warn("plural form unknown for ["+H+"]"),function(){return"other"})}(y));var B="["+v._pluralRules(w)+"]";return 0===w&&x+"[zero]"in p?H=p[x+"[zero]"][f]:1==w&&x+"[one]"in p?H=p[x+"[one]"][f]:2==w&&x+"[two]"in p?H=p[x+"[two]"][f]:x+B in p?H=p[x+B][f]:x+"[other]"in p&&(H=p[x+"[other]"][f]),H},{get:function(H,U,x){var B,f=H.lastIndexOf("."),w=F;f>0&&(w=H.substring(f+1),H=H.substring(0,f)),x&&((B={})[w]=x);var k=Q(H,U,B);return k&&w in k?k[w]:"{{"+H+"}}"},getData:function(){return p},getText:function(){return b},getLanguage:function(){return y},setLanguage:function(H,U){z(H,function(){U&&U()})},getDirection:function(){var U=y.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(U)>=0?"rtl":"ltr"},translate:function Y(H){for(var U=function E(H){return H?H.querySelectorAll("*[data-l10n-id]"):[]}(H=H||m.documentElement),x=U.length,f=0;f<x;f++)N(U[f]);N(H)},getReadyState:function(){return _},ready:function(H){H&&("complete"==_||"interactive"==_?V.setTimeout(function(){H()}):m.addEventListener&&m.addEventListener("localized",function U(){m.removeEventListener("localized",U),H()}))}}}(window,document)},(V,m,D)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFFindController=m.FindState=void 0;var p=D(7),b=D(3),F=D(23);const y={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};m.FindState=y;const R={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},P=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),E=[...P.values()].map(H=>String.fromCharCode(H)).join(""),u=/\p{M}+/gu,g=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,I=/([^\p{M}])\p{M}*$/u,z=/^\p{M}*([^\p{M}])/u,q=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,ne=new Map;let me=null,pe=null;function N(H){const U=[];let x,f;for(;null!==(x=q.exec(H));){let{index:J}=x;for(const ae of x[0]){let ce=ne.get(ae);ce||(ce=ae.normalize("NFD").length,ne.set(ae,ce)),U.push([ce,J++])}}if(0===U.length&&me)f=me;else if(U.length>0&&pe)f=pe;else{const ae=`([${Object.keys(R).join("")}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`;f=0===U.length?me=new RegExp(ae+"|(\\u0000)","gum"):pe=new RegExp(ae+"|([\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f])","gum")}const w=[];for(;null!==(x=u.exec(H));)w.push([x[0].length,x.index]);let B=H.normalize("NFD");const k=[[0,0]];let d=0,M=0,L=0,$=0,X=0,ie=!1;return B=B.replace(f,(J,ae,ce,ue,ge,De,Ee)=>{if(Ee-=$,ae){const Te=R[J],de=Te.length;for(let ye=1;ye<de;ye++)k.push([Ee-L+ye,L-ye]);return L-=de-1,Te}if(ce){const Te=ce.endsWith("\n"),de=Te?ce.length-2:ce.length;ie=!0;let ye=de;Ee+X===w[d]?.[1]&&(ye-=w[d][0],++d);for(let Ie=1;Ie<=ye;Ie++)k.push([Ee-1-L+Ie,L-Ie]);return L-=ye,$+=ye,Te?(k.push([(Ee+=de-1)-L+1,1+L]),L+=1,$+=1,X+=1,ce.slice(0,de)):ce}if(ue)return k.push([Ee-L+1,1+L]),L+=1,$+=1,X+=1,ue.charAt(0);if(ge)return k.push([Ee-L+1,L-1]),L-=1,$+=1,X+=1," ";if(Ee+X===U[M]?.[1]){const Te=U[M][0]-1;++M;for(let de=1;de<=Te;de++)k.push([Ee-(L-de),L-de]);L-=Te,$+=Te}return De}),k.push([B.length,L]),[B,k,ie]}function W(H,U,x){if(!H)return[U,x];const f=U,w=U+x;let B=(0,p.binarySearchFirstItem)(H,d=>d[0]>=f);H[B][0]>f&&--B;let k=(0,p.binarySearchFirstItem)(H,d=>d[0]>=w,B);return H[k][0]>w&&--k,[f+H[B][1],x+H[k][1]-H[B][1]]}m.PDFFindController=class Y{constructor({linkService:U,eventBus:x}){this._linkService=U,this._eventBus=x,this.#t(),x._on("find",this.#e.bind(this)),x._on("findbarclose",this.#_.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(U){this._pdfDocument&&this.#t(),U&&(this._pdfDocument=U,this._firstPageCapability.resolve())}#e(U){if(!U)return;const x=this._pdfDocument,{type:f}=U;(null===this._state||this.#i(U))&&(this._dirtyMatch=!0),this._state=U,"highlightallchange"!==f&&this.#d(y.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||x&&this._pdfDocument!==x)return;this.#h();const w=!this._highlightMatches,B=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),f?this._dirtyMatch?this.#o():"again"===f?(this.#o(),w&&this._state.highlightAll&&this.#l()):"highlightallchange"===f?(B?this.#o():this._highlightMatches=!0,this.#l()):this.#o():this._findTimeout=setTimeout(()=>{this.#o(),this._findTimeout=null},250)})}scrollMatchIntoView({element:U=null,selectedLeft:x=0,pageIndex:f=-1,matchIndex:w=-1}){this._scrollMatches&&U&&-1!==w&&w===this._selected.matchIdx&&-1!==f&&f===this._selected.pageIdx&&(this._scrollMatches=!1,(0,p.scrollIntoView)(U,{top:-50,left:x+-400},!0))}#t(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,b.createPromiseCapability)()}get#n(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=N(this._state.query)),this._normalizedQuery}#i(U){if(U.query!==this._state.query)return!0;switch(U.type){case"again":const x=this._selected.pageIdx+1,f=this._linkService;return x>=1&&x<=f.pagesCount&&x!==f.page&&!f.isPageVisible(x);case"highlightallchange":return!1}return!0}#s(U,x,f){let w=U.slice(0,x).match(I);if(w){const B=U.charCodeAt(x),k=w[1].charCodeAt(0);if((0,F.getCharacterType)(B)===(0,F.getCharacterType)(k))return!1}if(w=U.slice(x+f).match(z),w){const B=U.charCodeAt(x+f-1),k=w[1].charCodeAt(0);if((0,F.getCharacterType)(B)===(0,F.getCharacterType)(k))return!1}return!0}#c(U,x,f,w){const B=[],k=[],d=this._pageDiffs[f];let M;for(;null!==(M=U.exec(w));){if(x&&!this.#s(w,M.index,M[0].length))continue;const[L,$]=W(d,M.index,M[0].length);$&&(B.push(L),k.push($))}this._pageMatches[f]=B,this._pageMatchesLength[f]=k}#a(U,x){const{matchDiacritics:f}=this._state;let w=!1;return(U=U.replace(g,(k,d,M,L,$,X)=>d?`[ ]*\\${d}[ ]*`:M?`[ ]*${M}[ ]*`:L?"[ ]+":f?$||X:$?P.has($.charCodeAt(0))?$:"":x?(w=!0,`${X}\\p{M}*`):X)).endsWith("[ ]*")&&(U=U.slice(0,U.length-4)),f&&x&&(w=!0,U=`${U}(?=[${E}]|[^\\p{M}]|$)`),[w,U]}#r(U){let x=this.#n;if(0===x.length)return;const{caseSensitive:f,entireWord:w,phraseSearch:B}=this._state,k=this._pageContents[U],d=this._hasDiacritics[U];let M=!1;if(B)[M,x]=this.#a(x,d);else{const X=x.match(/\S+/g);X&&(x=X.sort().reverse().map(ie=>{const[J,ae]=this.#a(ie,d);return M||=J,`(${ae})`}).join("|"))}x=new RegExp(x,`g${M?"u":""}${f?"":"i"}`),this.#c(x,w,U,k),this._state.highlightAll&&this.#u(U),this._resumePageIdx===U&&(this._resumePageIdx=null,this.#f());const $=this._pageMatches[U].length;$>0&&(this._matchesCountTotal+=$,this.#y())}#h(){if(this._extractTextPromises.length>0)return;let U=Promise.resolve();for(let x=0,f=this._linkService.pagesCount;x<f;x++){const w=(0,b.createPromiseCapability)();this._extractTextPromises[x]=w.promise,U=U.then(()=>this._pdfDocument.getPage(x+1).then(B=>B.getTextContent()).then(B=>{const k=[];for(const d of B.items)k.push(d.str),d.hasEOL&&k.push("\n");[this._pageContents[x],this._pageDiffs[x],this._hasDiacritics[x]]=N(k.join("")),w.resolve()},B=>{console.error(`Unable to get text content for page ${x+1}`,B),this._pageContents[x]="",this._pageDiffs[x]=null,this._hasDiacritics[x]=!1,w.resolve()}))}}#u(U){this._scrollMatches&&this._selected.pageIdx===U&&(this._linkService.page=U+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:U})}#l(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#o(){const U=this._state.findPrevious,x=this._linkService.page-1,f=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=x,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this.#l();for(let B=0;B<f;B++)this._pendingFindMatches.has(B)||(this._pendingFindMatches.add(B),this._extractTextPromises[B].then(()=>{this._pendingFindMatches.delete(B),this.#r(B)}))}if(""===this.#n)return void this.#d(y.FOUND);if(this._resumePageIdx)return;const w=this._offset;if(this._pagesToSearch=f,null!==w.matchIdx){if(!U&&w.matchIdx+1<this._pageMatches[w.pageIdx].length||U&&w.matchIdx>0)return w.matchIdx=U?w.matchIdx-1:w.matchIdx+1,void this.#m(!0);this.#v(U)}this.#f()}#p(U){const x=this._offset,f=U.length,w=this._state.findPrevious;return f?(x.matchIdx=w?f-1:0,this.#m(!0),!0):(this.#v(w),!!(x.wrapped&&(x.matchIdx=null,this._pagesToSearch<0))&&(this.#m(!1),!0))}#f(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let U=null;do{const x=this._offset.pageIdx;if(U=this._pageMatches[x],!U){this._resumePageIdx=x;break}}while(!this.#p(U))}#v(U){const x=this._offset,f=this._linkService.pagesCount;x.pageIdx=U?x.pageIdx-1:x.pageIdx+1,x.matchIdx=null,this._pagesToSearch--,(x.pageIdx>=f||x.pageIdx<0)&&(x.pageIdx=U?f-1:0,x.wrapped=!0)}#m(U=!1){let x=y.NOT_FOUND;const f=this._offset.wrapped;if(this._offset.wrapped=!1,U){const w=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,x=f?y.WRAPPED:y.FOUND,-1!==w&&w!==this._selected.pageIdx&&this.#u(w)}this.#d(x,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this.#u(this._selected.pageIdx))}#_(U){const x=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||x&&this._pdfDocument!==x||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#d(y.FOUND),this._highlightMatches=!1,this.#l())})}#E(){const{pageIdx:U,matchIdx:x}=this._selected;let f=0,w=this._matchesCountTotal;if(-1!==x){for(let B=0;B<U;B++)f+=this._pageMatches[B]?.length||0;f+=x+1}return(f<1||f>w)&&(f=w=0),{current:f,total:w}}#y(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#E()})}#d(U,x=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:U,previous:x,matchesCount:this.#E(),rawQuery:this._state?.query??null})}}},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.CharacterType=void 0,m.getCharacterType=function u(g){return function p(g){return g<11904}(g)?function b(g){return 0==(65408&g)}(g)?function v(g){return 32===g||9===g||13===g||10===g}(g)?D.SPACE:function F(g){return g>=97&&g<=122||g>=65&&g<=90}(g)||function y(g){return g>=48&&g<=57}(g)||95===g?D.ALPHA_LETTER:D.PUNCT:function E(g){return 3584==(65408&g)}(g)?D.THAI_LETTER:160===g?D.SPACE:D.ALPHA_LETTER:function _(g){return g>=13312&&g<=40959||g>=63744&&g<=64255}(g)?D.HAN_LETTER:function O(g){return g>=12448&&g<=12543}(g)?D.KATAKANA_LETTER:function R(g){return g>=12352&&g<=12447}(g)?D.HIRAGANA_LETTER:function P(g){return g>=65376&&g<=65439}(g)?D.HALFWIDTH_KATAKANA_LETTER:D.ALPHA_LETTER};const D={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};m.CharacterType=D},(V,m,D)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFHistory=void 0,m.isDestArraysEqual=P,m.isDestHashesEqual=R;var p=D(7),b=D(19);function _(){return document.location.hash}function R(E,u){return"string"==typeof E&&"string"==typeof u&&(E===u||(0,p.parseQueryString)(E).get("nameddest")===u)}function P(E,u){function g(I,z){if(typeof I!=typeof z||Array.isArray(I)||Array.isArray(z))return!1;if(null!==I&&"object"==typeof I&&null!==z){if(Object.keys(I).length!==Object.keys(z).length)return!1;for(const q in I)if(!g(I[q],z[q]))return!1;return!0}return I===z||Number.isNaN(I)&&Number.isNaN(z)}if(!Array.isArray(E)||!Array.isArray(u)||E.length!==u.length)return!1;for(let I=0,z=E.length;I<z;I++)if(!g(E[I],u[I]))return!1;return!0}m.PDFHistory=class O{constructor({linkService:u,eventBus:g}){this.linkService=u,this.eventBus=g,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",I=>{this._isPagesLoaded=!!I.pagesCount},{once:!0})})}initialize({fingerprint:u,resetHistory:g=!1,updateUrl:I=!1}){if(!u||"string"!=typeof u)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const z=""!==this._fingerprint&&this._fingerprint!==u;this._fingerprint=u,this._updateUrl=!0===I,this._initialized=!0,this._bindEvents();const q=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=_(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(q,!0)||g){const{hash:Q,page:me,rotation:pe}=this._parseCurrentHash(!0);return!Q||z||g?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:Q,page:me,rotation:pe},!0)}const ne=q.destination;this._updateInternalState(ne,q.uid,!0),void 0!==ne.rotation&&(this._initialRotation=ne.rotation),ne.dest?(this._initialBookmark=JSON.stringify(ne.dest),this._destination.page=null):ne.hash?this._initialBookmark=ne.hash:ne.page&&(this._initialBookmark=`page=${ne.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:u=null,explicitDest:g,pageNumber:I}){if(!this._initialized)return;if(u&&"string"!=typeof u)return void console.error(`PDFHistory.push: "${u}" is not a valid namedDest parameter.`);if(!Array.isArray(g))return void console.error(`PDFHistory.push: "${g}" is not a valid explicitDest parameter.`);if(!this._isValidPage(I)&&(null!==I||this._destination))return void console.error(`PDFHistory.push: "${I}" is not a valid pageNumber parameter.`);const z=u||JSON.stringify(g);if(!z)return;let q=!1;if(this._destination&&(R(this._destination.hash,z)||P(this._destination.dest,g))){if(this._destination.page)return;q=!0}this._popStateInProgress&&!q||(this._pushOrReplaceState({dest:g,hash:z,page:I,rotation:this.linkService.rotation},q),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(u){if(this._initialized){if(!this._isValidPage(u))return void console.error(`PDFHistory.pushPage: "${u}" is not a valid page number.`);this._destination?.page!==u&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${u}`,page:u,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const u=window.history.state;this._isValidState(u)&&u.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const u=window.history.state;this._isValidState(u)&&u.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(u,g=!1){const I=g||!this._destination,z={fingerprint:this._fingerprint,uid:I?this._uid:this._uid+1,destination:u};let q;if(this._updateInternalState(u,z.uid),this._updateUrl&&u?.hash){const ne=document.location.href.split("#")[0];ne.startsWith("file://")||(q=`${ne}#${u.hash}`)}I?window.history.replaceState(z,"",q):window.history.pushState(z,"",q)}_tryPushCurrentPosition(u=!1){if(!this._position)return;let g=this._position;if(u&&(g=Object.assign(Object.create(null),this._position),g.temporary=!0),!this._destination)return void this._pushOrReplaceState(g);if(this._destination.temporary)return void this._pushOrReplaceState(g,!0);if(this._destination.hash===g.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let I=!1;if(this._destination.page>=g.first&&this._destination.page<=g.page){if(void 0!==this._destination.dest||!this._destination.first)return;I=!0}this._pushOrReplaceState(g,I)}_isValidPage(u){return Number.isInteger(u)&&u>0&&u<=this.linkService.pagesCount}_isValidState(u,g=!1){if(!u)return!1;if(u.fingerprint!==this._fingerprint){if(!g)return!1;{if("string"!=typeof u.fingerprint||u.fingerprint.length!==this._fingerprint.length)return!1;const[I]=performance.getEntriesByType("navigation");if("reload"!==I?.type)return!1}}return!(!Number.isInteger(u.uid)||u.uid<0||null===u.destination||"object"!=typeof u.destination)}_updateInternalState(u,g,I=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),I&&u?.temporary&&delete u.temporary,this._destination=u,this._uid=g,this._maxUid=Math.max(this._maxUid,g),this._numPositionUpdates=0}_parseCurrentHash(u=!1){const g=unescape(_()).substring(1),I=(0,p.parseQueryString)(g),z=I.get("nameddest")||"";let q=0|I.get("page");return(!this._isValidPage(q)||u&&z.length>0)&&(q=null),{hash:g,page:q,rotation:this.linkService.rotation}}_updateViewarea({location:u}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:u.pdfOpenParams.substring(1),page:this.linkService.page,first:u.pageNumber,rotation:u.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:u}){const g=_(),I=this._currentHash!==g;if(this._currentHash=g,!u){this._uid++;const{hash:q,page:ne,rotation:Q}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:q,page:ne,rotation:Q},!0)}if(!this._isValidState(u))return;this._popStateInProgress=!0,I&&(this._blockHashChange++,(0,b.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const z=u.destination;this._updateInternalState(z,u.uid,!0),(0,p.isValidRotation)(z.rotation)&&(this.linkService.rotation=z.rotation),z.dest?this.linkService.goToDestination(z.dest):z.hash?this.linkService.setHash(z.hash):z.page&&(this.linkService.page=z.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(V,m,D)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFScriptingManager=void 0;var p=D(7),b=D(3);m.PDFScriptingManager=class F{constructor({eventBus:v,sandboxBundleSrc:_=null,scriptingFactory:O=null,docPropertiesLookup:R=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=v,this._sandboxBundleSrc=_,this._scriptingFactory=O,this._docPropertiesLookup=R,this._scriptingFactory||window.addEventListener("updatefromsandbox",P=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:P.detail})})}setViewer(v){this._pdfViewer=v}setDocument(v){var _=this;return S(function*(){if(_._pdfDocument&&(yield _._destroyScripting()),_._pdfDocument=v,!v)return;const[O,R,P]=yield Promise.all([v.getFieldObjects(),v.getCalculationOrderIds(),v.getJSActions()]);if(O||P){if(v===_._pdfDocument){try{_._scripting=_._createScripting()}catch(E){return console.error(`PDFScriptingManager.setDocument: "${E?.message}".`),void(yield _._destroyScripting())}_._internalEvents.set("updatefromsandbox",E=>{E?.source===window&&_._updateFromSandbox(E.detail)}),_._internalEvents.set("dispatcheventinsandbox",E=>{_._scripting?.dispatchEventInSandbox(E.detail)}),_._internalEvents.set("pagechanging",({pageNumber:E,previous:u})=>{E!==u&&(_._dispatchPageClose(u),_._dispatchPageOpen(E))}),_._internalEvents.set("pagerendered",({pageNumber:E})=>{_._pageOpenPending.has(E)&&E===_._pdfViewer.currentPageNumber&&_._dispatchPageOpen(E)}),_._internalEvents.set("pagesdestroy",function(){var E=S(function*(u){yield _._dispatchPageClose(_._pdfViewer.currentPageNumber),yield _._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),_._closeCapability?.resolve()});return function(u){return E.apply(this,arguments)}}()),_._domEvents.set("mousedown",E=>{_._mouseState.isDown=!0}),_._domEvents.set("mouseup",E=>{_._mouseState.isDown=!1});for(const[E,u]of _._internalEvents)_._eventBus._on(E,u);for(const[E,u]of _._domEvents)window.addEventListener(E,u,!0);try{const E=yield _._getDocProperties();if(v!==_._pdfDocument)return;yield _._scripting.createSandbox({objects:O,calculationOrder:R,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...E,actions:P}}),_._eventBus.dispatch("sandboxcreated",{source:_})}catch(E){return console.error(`PDFScriptingManager.setDocument: "${E?.message}".`),void(yield _._destroyScripting())}yield _._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield _._dispatchPageOpen(_._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{v===_._pdfDocument&&(_._ready=!0)})}}else yield _._destroyScripting()})()}dispatchWillSave(v){var _=this;return S(function*(){return _._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(v){var _=this;return S(function*(){return _._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(v){var _=this;return S(function*(){return _._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(v){var _=this;return S(function*(){return _._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,b.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,b.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,b.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,b.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(v){var _=this;return S(function*(){const O=_._pdfViewer.isInPresentationMode||_._pdfViewer.isChangingPresentationMode,{id:R,siblings:P,command:E,value:u}=v;if(!R){switch(E){case"clear":console.clear();break;case"error":console.error(u);break;case"layout":if(O)return;const I=(0,p.apiPageLayoutToViewerModes)(u);_._pdfViewer.spreadMode=I.spreadMode;break;case"page-num":_._pdfViewer.currentPageNumber=u+1;break;case"print":yield _._pdfViewer.pagesPromise,_._eventBus.dispatch("print",{source:_});break;case"println":console.log(u);break;case"zoom":if(O)return;_._pdfViewer.currentScaleValue=u;break;case"SaveAs":_._eventBus.dispatch("download",{source:_});break;case"FirstPage":_._pdfViewer.currentPageNumber=1;break;case"LastPage":_._pdfViewer.currentPageNumber=_._pdfViewer.pagesCount;break;case"NextPage":_._pdfViewer.nextPage();break;case"PrevPage":_._pdfViewer.previousPage();break;case"ZoomViewIn":if(O)return;_._pdfViewer.increaseScale();break;case"ZoomViewOut":if(O)return;_._pdfViewer.decreaseScale()}return}if(O&&v.focus)return;delete v.id,delete v.siblings;const g=P?[R,...P]:[R];for(const I of g){const z=document.querySelector(`[data-element-id="${I}"]`);z?z.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:v})):_._pdfDocument?.annotationStorage.setValue(I,v)}})()}_dispatchPageOpen(v,_=!1){var O=this;return S(function*(){const R=O._pdfDocument,P=O._visitedPages;if(_&&(O._closeCapability=(0,b.createPromiseCapability)()),!O._closeCapability)return;const E=O._pdfViewer.getPageView(v-1);if(E?.renderingState!==p.RenderingStates.FINISHED)return void O._pageOpenPending.add(v);O._pageOpenPending.delete(v);const u=S(function*(){const g=yield P.has(v)?null:E.pdfPage?.getJSActions();R===O._pdfDocument&&(yield O._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:v,actions:g}))})();P.set(v,u)})()}_dispatchPageClose(v){var _=this;return S(function*(){const O=_._pdfDocument,R=_._visitedPages;if(!_._closeCapability||_._pageOpenPending.has(v))return;const P=R.get(v);P&&(R.set(v,null),yield P,O===_._pdfDocument&&(yield _._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:v})))})()}_getDocProperties(){var v=this;return S(function*(){if(v._docPropertiesLookup)return v._docPropertiesLookup(v._pdfDocument);const{docPropertiesLookup:_}=D(26);return _(v._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,b.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:v}=D(26);return new v(this._sandboxBundleSrc)}_destroyScripting(){var v=this;return S(function*(){if(!v._scripting)return v._pdfDocument=null,void v._destroyCapability?.resolve();v._closeCapability&&(yield Promise.race([v._closeCapability.promise,new Promise(_=>{setTimeout(_,1e3)})]).catch(_=>{}),v._closeCapability=null),v._pdfDocument=null;try{yield v._scripting.destroySandbox()}catch{}for(const[_,O]of v._internalEvents)v._eventBus._off(_,O);v._internalEvents.clear();for(const[_,O]of v._domEvents)window.removeEventListener(_,O,!0);v._domEvents.clear(),v._pageOpenPending.clear(),v._visitedPages.clear(),v._scripting=null,delete v._mouseState.isDown,v._ready=!1,v._destroyCapability?.resolve()})()}}},(V,m,D)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.GenericScripting=void 0,m.docPropertiesLookup=function b(v){return F.apply(this,arguments)};var p=D(3);function F(){return(F=S(function*(v){const O="".split("#")[0];let{info:R,metadata:P,contentDispositionFilename:E,contentLength:u}=yield v.getMetadata();if(!u){const{length:g}=yield v.getDownloadInfo();u=g}return{...R,baseURL:O,filesize:u,filename:E||(0,p.getPdfFilenameFromUrl)(""),metadata:P?.getRaw(),authors:P?.get("dc:creator"),numPages:v.numPages,URL:""}})).apply(this,arguments)}m.GenericScripting=class y{constructor(_){this._ready=(0,p.loadScript)(_,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(_){var O=this;return S(function*(){(yield O._ready).create(_)})()}dispatchEventInSandbox(_){var O=this;return S(function*(){const R=yield O._ready;setTimeout(()=>R.dispatchEvent(_),0)})()}destroySandbox(){var _=this;return S(function*(){(yield _._ready).nukeSandbox()})()}}}],re={};function ee(V){var m=re[V];if(void 0!==m)return m.exports;var D=re[V]={exports:{}};return j[V](D,D.exports,ee),D.exports}var oe={};return(()=>{var V=oe;Object.defineProperty(V,"__esModule",{value:!0}),Object.defineProperty(V,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return F.AnnotationLayerBuilder}}),Object.defineProperty(V,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return m.DefaultAnnotationLayerFactory}}),Object.defineProperty(V,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return m.DefaultStructTreeLayerFactory}}),Object.defineProperty(V,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return m.DefaultTextLayerFactory}}),Object.defineProperty(V,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return m.DefaultXfaLayerFactory}}),Object.defineProperty(V,"DownloadManager",{enumerable:!0,get:function(){return y.DownloadManager}}),Object.defineProperty(V,"EventBus",{enumerable:!0,get:function(){return v.EventBus}}),Object.defineProperty(V,"GenericL10n",{enumerable:!0,get:function(){return _.GenericL10n}}),Object.defineProperty(V,"LinkTarget",{enumerable:!0,get:function(){return D.LinkTarget}}),Object.defineProperty(V,"NullL10n",{enumerable:!0,get:function(){return O.NullL10n}}),Object.defineProperty(V,"PDFFindController",{enumerable:!0,get:function(){return R.PDFFindController}}),Object.defineProperty(V,"PDFHistory",{enumerable:!0,get:function(){return P.PDFHistory}}),Object.defineProperty(V,"PDFLinkService",{enumerable:!0,get:function(){return D.PDFLinkService}}),Object.defineProperty(V,"PDFPageView",{enumerable:!0,get:function(){return E.PDFPageView}}),Object.defineProperty(V,"PDFScriptingManager",{enumerable:!0,get:function(){return u.PDFScriptingManager}}),Object.defineProperty(V,"PDFSinglePageViewer",{enumerable:!0,get:function(){return b.PDFSinglePageViewer}}),Object.defineProperty(V,"PDFViewer",{enumerable:!0,get:function(){return b.PDFViewer}}),Object.defineProperty(V,"ProgressBar",{enumerable:!0,get:function(){return p.ProgressBar}}),Object.defineProperty(V,"RenderingStates",{enumerable:!0,get:function(){return p.RenderingStates}}),Object.defineProperty(V,"ScrollMode",{enumerable:!0,get:function(){return p.ScrollMode}}),Object.defineProperty(V,"SimpleLinkService",{enumerable:!0,get:function(){return D.SimpleLinkService}}),Object.defineProperty(V,"SpreadMode",{enumerable:!0,get:function(){return p.SpreadMode}}),Object.defineProperty(V,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return g.StructTreeLayerBuilder}}),Object.defineProperty(V,"TextLayerBuilder",{enumerable:!0,get:function(){return I.TextLayerBuilder}}),Object.defineProperty(V,"XfaLayerBuilder",{enumerable:!0,get:function(){return z.XfaLayerBuilder}}),Object.defineProperty(V,"parseQueryString",{enumerable:!0,get:function(){return p.parseQueryString}});var m=ee(1),D=ee(6),p=ee(7),b=ee(11),F=ee(5),y=ee(18),v=ee(19),_=ee(20),O=ee(4),R=ee(22),P=ee(24),E=ee(13),u=ee(25),g=ee(8),I=ee(9),z=ee(10)})(),oe})()},414:()=>{},172:()=>{},1:()=>{},779:()=>{},558:()=>{},258:()=>{},156:be=>{function C(S,j,re,ee,oe,V,m){try{var D=S[V](m),p=D.value}catch(b){return void re(b)}D.done?j(p):Promise.resolve(p).then(ee,oe)}be.exports=function te(S){return function(){var j=this,re=arguments;return new Promise(function(ee,oe){var V=S.apply(j,re);function m(p){C(V,ee,oe,m,D,"next",p)}function D(p){C(V,ee,oe,m,D,"throw",p)}m(void 0)})}},be.exports.__esModule=!0,be.exports.default=be.exports}},be=>{be(be.s=797)}]);